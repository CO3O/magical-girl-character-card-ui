<head><script type="module">import{waitUntil as e}from'https://testingcf.jsdelivr.net/npm/async-wait-until/+esm';import{createPinia as t,defineStore as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{registerMvuSchema as n}from'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';var l={262(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},o={};const r=Vue,c='avatars',s='avatarState',i='avatarLibrary',d={default:{0:''}},m={};let u={...d},p={...m},v=!1,f=null;function b(){return new Promise((e,t)=>{if(f)return void e(f);const a=indexedDB.open('AvatarLibraryDB',1);a.onerror=()=>{console.error('æ‰“å¼€ IndexedDB å¤±è´¥:',a.error),t(a.error)},a.onsuccess=()=>{f=a.result,console.log('IndexedDB è¿æ¥æˆåŠŸ'),e(f)},a.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(c)||(t.createObjectStore(c),console.log('åˆ›å»º IndexedDB å­˜å‚¨å¯¹è±¡:',c))}})}async function g(e){try{const t=await b();return new Promise((a,n)=>{const l=t.transaction([c],'readonly').objectStore(c).get(e);l.onsuccess=()=>{a(l.result||null)},l.onerror=()=>{console.error(`ä» IndexedDB è¯»å– ${e} å¤±è´¥:`,l.error),n(l.error)}})}catch(t){return console.error(`åŠ è½½ IndexedDB ${e} æ•°æ®å¤±è´¥:`,t),null}}async function k(e,t){try{const a=await b();return new Promise((n,l)=>{const o=a.transaction([c],'readwrite').objectStore(c).put(t,e);o.onsuccess=()=>{console.log(`ä¿å­˜ ${e} åˆ° IndexedDB æˆåŠŸ`),n()},o.onerror=()=>{console.error(`ä¿å­˜ ${e} åˆ° IndexedDB å¤±è´¥:`,o.error),l(o.error)}})}catch(t){console.error(`ä¿å­˜ IndexedDB ${e} æ•°æ®å¤±è´¥:`,t)}}function y(e){if(u[e])return u[e];const t=u.default,a=Object.keys(t).map(Number).filter(e=>e>0);if(a.length>0){const e=Math.min(...a);return{0:t[e]||'',[e]:t[e]||''}}return u.default}function E(e){return p[e]?.current||0}function N(e){return p[e]?.history||[]}function h(e,t){const a=void 0!==t?t:E(e),n=y(e)[a];if(n)return n;if(0===a&&!u[e]){const e=u.default,t=Object.keys(e).map(Number).filter(e=>e>0);if(t.length>0){return e[Math.min(...t)]||''}}return''}const V={æœ¬çŒ«å¯ºç»«è—:'https://files.catbox.moe/bo46fk.png',å‡°ç‹©é™¢ç‰ç’ƒ:'https://files.catbox.moe/0dizjy.png',ä¹…è¿œç´é‡Œ:'https://files.catbox.moe/05t4yg.png',å…‹åŠ³è¿ªå¨…:'https://files.catbox.moe/tqk6wf.png',é“ƒå±‹çœŸå‡‰:'https://files.catbox.moe/11rpcz.png',èŠ¦å±‹é“æ»¡:'https://files.catbox.moe/tw18c5.png',è«é‡Œå¨…è’‚å¨œ:'https://files.catbox.moe/plhsmr.png',å¦®å¦™Â·å‹’Â·è²:'https://files.catbox.moe/6hniu6.png',è¯ºæŸ¥:'https://files.catbox.moe/jq5qbb.png',å¤ªå²:'https://files.catbox.moe/5pfvet.png',æœ›æœˆæœå¿ƒ:'https://files.catbox.moe/e5f3ex.png',å°é“¶:'https://files.catbox.moe/60nelp.png',æ˜ŸåŸæ¨±:'https://files.catbox.moe/apvesh.png',ç‰è—»:'https://files.catbox.moe/xnnv8a.png',è‡´è¿œæ˜Ÿ:'https://files.catbox.moe/pabavi.png'};async function x(){await async function(){if(v)return u;try{await b();const e=await g(i);e&&'object'==typeof e?(u={...d,...e},console.log('ä» IndexedDB åŠ è½½å¤´åƒåº“æˆåŠŸ')):console.log('IndexedDB ä¸­æœªæ‰¾åˆ°å¤´åƒåº“æ•°æ®ï¼Œä½¿ç”¨é»˜è®¤å¤´åƒåº“');const t=await g(s);t&&'object'==typeof t?(p={...m,...t},console.log('ä» IndexedDB åŠ è½½å¤´åƒçŠ¶æ€æˆåŠŸ')):console.log('IndexedDB ä¸­æœªæ‰¾åˆ°å¤´åƒçŠ¶æ€æ•°æ®ï¼Œä½¿ç”¨é»˜è®¤çŠ¶æ€'),v=!0}catch(e){console.error('åŠ è½½å¤´åƒåº“å¤±è´¥:',e)}return u}();for(const[e,t]of Object.entries(V))u[e]||(u[e]={}),u[e][1]||(u[e][1]=t),p[e]?0===p[e].current&&(p[e].current=1):p[e]={current:1,history:[]};await k(i,u),await k(s,p),console.log('åˆå§‹å¤´åƒæ•°æ®åˆå§‹åŒ–å®Œæˆ')}function B(e){return!!(0,r.getCurrentScope)()&&((0,r.onScopeDispose)(e),!0)}const C='undefined'!=typeof window&&'undefined'!=typeof document;'undefined'!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString;function w(e,t){return function(...a){return new Promise((n,l)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(n).catch(l)})}}const S=e=>e();function M(e){const t=Object.create(null);return a=>t[a]||(t[a]=e(a))}const D=/\B([A-Z])/g,j=(M(e=>e.replace(D,'-$1').toLowerCase()),/-(\w)/g);M(e=>e.replace(j,(_,e)=>e?e.toUpperCase():''));function T(e,t=1e3,a={}){const{immediate:n=!0,immediateCallback:l=!1}=a;let o=null;const c=(0,r.shallowRef)(!1);function s(){o&&(clearInterval(o),o=null)}function i(){c.value=!1,s()}function d(){const a=(0,r.toValue)(t);a<=0||(c.value=!0,l&&e(),s(),c.value&&(o=setInterval(e,a)))}if(n&&C&&d(),(0,r.isRef)(t)||'function'==typeof t){B((0,r.watch)(t,()=>{c.value&&C&&d()}))}return B(i),{isActive:(0,r.shallowReadonly)(c),pause:i,resume:d}}function L(e,t,a={}){const{eventFilter:n=S,...l}=a,o=w(n,t);let c,s,i;if('sync'===l.flush){let t=!1;s=()=>{},c=e=>{t=!0,e(),t=!1},i=(0,r.watch)(e,(...e)=>{t||o(...e)},l)}else{const t=[];let a=0,n=0;s=()=>{a=n},t.push((0,r.watch)(e,()=>{n++},{...l,flush:'sync'})),c=e=>{const t=n;e(),a+=n-t},t.push((0,r.watch)(e,(...e)=>{const t=a>0&&a===n;a=0,n=0,t||o(...e)},l)),i=()=>{t.forEach(e=>e())}}return{stop:i,ignoreUpdates:c,ignorePrevAsyncUpdates:s}}const I=z,P=I.z.object({Favor:I.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),Magic:I.z.coerce.number().prefault(100),MagicMax:I.z.coerce.number().prefault(100),Corruption:I.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}),O=I.z.object({Thought:I.z.string().prefault(''),Action:I.z.string().prefault(''),State:I.z.string().prefault('æ­£å¸¸'),isTransformed:I.z.boolean().prefault(!1),Lust:I.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}),q=I.z.object({å½“å‰æ—¶é—´:I.z.string().prefault('2024å¹´03æœˆ17æ—¥ æ˜ŸæœŸäºŒ 16:45'),location:I.z.string().prefault('è¿œè°·ç”º-å‚ææ¨±å­¦å›­-äºŒå¹´3ç­æ•™å®¤'),ä¸ªäººçº¿:I.z.record(I.z.string().describe('è§’è‰²ä¸ªäººçº¿åç§°'),I.z.object({çŠ¶æ€:I.z.string().prefault('æœªå¼€å§‹'),ç»“å±€:I.z.record(I.z.string().describe('ç»“å±€åç§°'),I.z.object({è¯´æ˜:I.z.string().prefault(''),è¾¾æˆæ¡ä»¶:I.z.record(I.z.string().describe('æ¡ä»¶åç§°'),I.z.boolean().prefault(!1)).prefault({})})).prefault({})})).prefault({}),è§’è‰²åˆ—è¡¨:I.z.record(I.z.string().describe('è§’è‰²å'),P).prefault({}),åœ¨åœºè§’è‰²:I.z.record(I.z.string().describe('è§’è‰²å'),O).prefault({}),Enemies:I.z.record(I.z.string().describe('æ•Œäººå'),I.z.any()).prefault({}),Partners:I.z.record(I.z.string().describe('åŒä¼´å'),I.z.any()).prefault({}),user:I.z.object({SkillPoint:I.z.coerce.number().prefault(10),Magic:I.z.coerce.number().prefault(100),MagicMax:I.z.coerce.number().prefault(100),Morality:I.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),SkillTree:I.z.record(I.z.string().describe('æŠ€èƒ½å'),I.z.object({æè¿°:I.z.string().prefault(''),æ¶ˆè€—:I.z.coerce.number().prefault(0),å·²å­¦ä¹ :I.z.boolean().prefault(!1)})).prefault({})}).prefault({SkillPoint:10,Magic:100,MagicMax:100,Morality:0,SkillTree:{}})});$(()=>{n(q)});const A=(F=q,'message'!==(H={type:'message',message_id:getCurrentMessageId()}).type||void 0!==H.message_id&&'latest'!==H.message_id||(H.message_id=-1),a(`mvu_data.${_(H).entries().sortBy(e=>e[0]).map(e=>e[1]).join('.')}`,errorCatched(()=>{const e=(0,r.ref)(F.parse(_.get(getVariables(H),'stat_data',{}),{reportInput:!0}));U&&U(e),T(()=>{const a=_.get(getVariables(H),'stat_data',{}),n=F.safeParse(a);n.error||_.isEqual(e.value,n.data)||(t(()=>{e.value=n.data}),_.isEqual(a,n.data)||updateVariablesWith(e=>_.set(e,'stat_data',n.data),H))},2e3);const{ignoreUpdates:t}=L(e,a=>{const n=F.safeParse(a);n.error||(_.isEqual(a,n.data)||t(()=>{e.value=n.data}),updateVariablesWith(e=>_.set(e,'stat_data',n.data),H))},{deep:!0});return{data:e}})));var F,H,U;const W={class:'character-archive'},R={key:0,class:'empty-state'},G={key:1,class:'character-grid'},Z=['onClick'],J={class:'character-avatar'},K=['src','alt'],Q={key:1,class:'avatar-placeholder'},X={class:'character-info'},Y={class:'character-name'},ee={class:'character-stats'},te={class:'stat-item'},ae={class:'stat-item'},ne={class:'stat-item'},le=(0,r.defineComponent)({__name:'CharacterArchivePanel',emits:['view-character'],setup(e,{emit:t}){const a=A(),n=t,l=(0,r.computed)(()=>a.data.è§’è‰²åˆ—è¡¨||{}),o=(0,r.computed)(()=>a.data.åœ¨åœºè§’è‰²||{});function c(e){return h(e,E(e))}function s(e){return e in o.value}function i(e){return s(e)?'present':'absent'}function d(e){return s(e)?'åœ¨åœº':'ä¸åœ¨åœº'}function m(e){const t=e.target;t.style.display='none';const a=t.parentElement?.querySelector('.avatar-placeholder');a&&(a.style.display='flex')}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',W,[0===Object.keys(l.value).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',R,[...t[0]||(t[0]=[(0,r.createElementVNode)('p',null,'æš‚æ— è§’è‰²æ•°æ®',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',G,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:'character-card',onClick:e=>function(e){n('view-character',e)}(a)},[(0,r.createElementVNode)('div',J,[c(a)?((0,r.openBlock)(),(0,r.createElementBlock)('img',{key:0,src:c(a),alt:a,onError:m},null,40,K)):((0,r.openBlock)(),(0,r.createElementBlock)('div',Q,[...t[1]||(t[1]=[(0,r.createElementVNode)('i',{class:'fas fa-user'},null,-1)])]))]),(0,r.createElementVNode)('div',X,[(0,r.createElementVNode)('h3',Y,(0,r.toDisplayString)(a),1),(0,r.createElementVNode)('div',ee,[(0,r.createElementVNode)('div',te,[t[2]||(t[2]=(0,r.createElementVNode)('i',{class:'fas fa-heart',style:{color:'var(--pink)'}},null,-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.Favor)+'%',1)]),(0,r.createElementVNode)('div',ae,[t[3]||(t[3]=(0,r.createElementVNode)('i',{class:'fas fa-bolt',style:{color:'var(--green)'}},null,-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.Magic)+'/'+(0,r.toDisplayString)(e.MagicMax),1)]),(0,r.createElementVNode)('div',ne,[t[4]||(t[4]=(0,r.createElementVNode)('i',{class:'fas fa-skull-crossbones',style:{color:'var(--purple)'}},null,-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.Corruption)+'%',1)])])]),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['character-status-badge',i(a)])},(0,r.toDisplayString)(d(a)),3)],8,Z))),128))]))]))}});var oe=function e(t){var a=o[t];if(void 0!==a)return a.exports;var n=o[t]={exports:{}};return l[t](n,n.exports,e),n.exports}(262);const re=(0,oe.A)(le,[['__scopeId','data-v-393b741d']]),ce={class:'character-detail-panel'},se={key:0,class:'loading'},ie={key:1,class:'character-detail-content'},de={class:'avatar-section'},me={class:'avatar-banner'},ue=['src','alt'],pe={key:1,class:'avatar-placeholder-large'},ve={class:'avatar-bottom-content'},fe={class:'avatar-text-wrapper'},be={class:'character-title'},ge={key:0,class:'avatar-history'},ke={class:'history-list'},ye=['onClick'],Ee=['src','alt'],Ne=['onClick'],he={class:'char-card'},Ve={class:'char-details'},xe={class:'detail-item'},Be={class:'detail-item'},Ce={class:'detail-item'},we={key:0,class:'stat-bar-container'},Se={class:'stat-bar-label'},ze={class:'stat-bar-value'},Me={class:'progress-bar'},De={key:1,class:'stat-bar-container'},je={class:'stat-bar-label'},Te={class:'stat-bar-value'},Le={class:'progress-bar'},_e={key:2,class:'stat-bar-container'},$e={class:'stat-bar-label'},Ie={class:'stat-bar-value'},Pe={class:'progress-bar'},Oe={key:3,class:'stat-bar-container'},qe={class:'stat-bar-label'},Ae={class:'stat-bar-value'},Fe={class:'progress-bar'},He={key:4,class:'thought-block'},Ue={key:0,class:'char-card description-card'},We={class:'description-content'},Re={class:'description-text'},Ge=(0,r.defineComponent)({__name:'CharacterDetailPanel',props:{characterName:{}},setup(e){let t=!1,a=null;const n=e,l=A(),o=(0,r.computed)(()=>l.data.è§’è‰²åˆ—è¡¨?.[n.characterName]),c=(0,r.computed)(()=>l.data.åœ¨åœºè§’è‰²?.[n.characterName]),d=(0,r.ref)(E(n.characterName)),m=(0,r.ref)(N(n.characterName));(0,r.watch)(()=>n.characterName,()=>{d.value=E(n.characterName),m.value=N(n.characterName)});const v=(0,r.computed)(()=>h(n.characterName,d.value)),f=(0,r.computed)(()=>m.value.map(e=>h(n.characterName,e))),b=(0,r.computed)(()=>getCharacterIntro(n.characterName));function g(e){e.target.style.display='none'}function V(e){const t=e.target;t.parentElement?.classList.add('error')}function x(){if(t||a)return;t=!0;const e=document.createElement('div'),l=y(n.characterName);e.innerHTML=`\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 300px;\n        max-width: 90%;\n        max-height: 90vh;\n        overflow-y: auto;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">æ›´æ¢å¤´åƒ</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">è¯·é€‰æ‹©å¤´åƒï¼š</p>\n        <div class="avatar-library-grid" style="\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n          margin-bottom: 20px;\n        ">\n          ${Object.entries(l).map(([e,t])=>`\n            <div style="\n              border: 2px solid ${d.value==parseInt(e)?'var(--blue)':'var(--border-color)'};\n              border-radius: 8px;\n              overflow: hidden;\n              cursor: pointer;\n              transition: all 0.2s;\n              height: 80px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              background-color: var(--quote-bg-color);\n              position: relative;\n            " data-avatar-id="${e}">\n              ${t?`<img src="${t}" style="width: 100%; height: 100%; object-fit: cover;" />`:'<i class="fas fa-user" style="font-size: 24px; color: var(--subtext-color);"></i>'}\n              ${0!==parseInt(e)?`<button data-delete-avatar-id="${e}" style="\n                position: absolute;\n                top: 4px;\n                right: 4px;\n                width: 24px;\n                height: 24px;\n                background: rgba(0,0,0,0.7);\n                color: var(--red);\n                border: none;\n                border-radius: 50%;\n                cursor: pointer;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 12px;\n                opacity: 0;\n                transition: opacity 0.2s;\n              " onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0'">Ã—</button>`:''}\n            </div>\n          `).join('')}\n        </div>\n        \n        <div style="border-top: 1px solid var(--border-color); padding-top: 16px; margin-top: 16px;">\n          <h4 style="margin: 0 0 12px 0; font-size: 14px; color: var(--subtext-color);">æ·»åŠ æ–°å¤´åƒ</h4>\n          <button id="btn-add-avatar" style="\n            width: 100%;\n            padding: 12px;\n            background: var(--blue);\n            color: white;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 14px;\n            font-weight: bold;\n          ">æ·»åŠ å¤´åƒ</button>\n        </div>\n        \n        <button id="btn-cancel" style="\n          width: 100%;\n          padding: 10px;\n          margin-top: 16px;\n          background: transparent;\n          color: var(--subtext-color, #a6adc8);\n          border: none;\n          cursor: pointer;\n        ">å–æ¶ˆ</button>\n      </div>\n    </div>\n  `,document.body.appendChild(e),a=e,Object.entries(l).forEach(([n])=>{const l=e.querySelector(`[data-avatar-id="${n}"]`);l?.addEventListener('click',()=>{a===e&&(document.body.removeChild(e),a=null),t=!1,B(parseInt(n))})}),Object.entries(l).forEach(([l])=>{if(0!==parseInt(l)){const o=e.querySelector(`[data-delete-avatar-id="${l}"]`);o?.addEventListener('click',async e=>{e.stopPropagation(),await async function(e){const l=y(n.characterName),o=l[e];if(!o)return;const r=document.createElement('div');r.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 300px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">ç¡®è®¤åˆ é™¤</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">ç¡®å®šè¦åˆ é™¤è¿™å¼ å¤´åƒå—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚</p>\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-confirm" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--red, #f38ba8);\n            color: #1e1e2e;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: bold;\n          ">åˆ é™¤</button>\n          <button id="btn-cancel" style="\n            flex: 1;\n            padding: 12px;\n            background: transparent;\n            color: var(--subtext-color, #a6adc8);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n          ">å–æ¶ˆ</button>\n        </div>\n      </div>\n    </div>\n  ',document.body.appendChild(r),r.querySelector('#btn-confirm')?.addEventListener('click',async()=>{document.body.removeChild(r),a&&(document.body.removeChild(a),a=null),t=!1,await async function(e,t){if(u[e]&&void 0!==u[e][t]&&(delete u[e][t],await k(i,u)),p[e]){const a=(p[e].history||[]).filter(e=>e!==t);p[e].history=a,p[e].current===t&&(p[e].current=0),await k(s,p)}}(n.characterName,e),d.value===e&&await B(0),d.value=E(n.characterName),m.value=N(n.characterName),console.log('å·²åˆ é™¤å¤´åƒ:',n.characterName,e),x()}),r.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(r)}),r.firstElementChild?.addEventListener('click',e=>{e.target===r.firstElementChild&&document.body.removeChild(r)})}(parseInt(l))})}}),e.querySelector('#btn-cancel')?.addEventListener('click',()=>{a===e&&(document.body.removeChild(e),a=null),t=!1}),e.querySelector('#btn-add-avatar')?.addEventListener('click',()=>{a===e&&(document.body.removeChild(e),a=null),t=!1,function(){const e=document.createElement('div');e.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 300px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">æ·»åŠ å¤´åƒ</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">è¯·é€‰æ‹©æ·»åŠ æ–¹å¼ï¼š</p>\n        <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 16px;">\n          <button id="btn-use-url" style="\n            padding: 14px;\n            background: var(--blue);\n            color: white;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 15px;\n            font-weight: bold;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n          ">\n            <i class="fas fa-link"></i>\n            ä½¿ç”¨é“¾æ¥\n          </button>\n          <button id="btn-use-file" style="\n            padding: 14px;\n            background: var(--green);\n            color: white;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 15px;\n            font-weight: bold;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n          ">\n            <i class="fas fa-folder-open"></i>\n            é€‰æ‹©æœ¬åœ°æ–‡ä»¶\n          </button>\n        </div>\n        <button id="btn-cancel" style="\n          width: 100%;\n          padding: 12px;\n          background: transparent;\n          color: var(--subtext-color, #a6adc8);\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n        ">å–æ¶ˆ</button>\n      </div>\n    </div>\n  ',document.body.appendChild(e),e.querySelector('#btn-use-url')?.addEventListener('click',()=>{document.body.removeChild(e),a=null,function(){const e=document.createElement('div');e.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 300px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">è¾“å…¥å›¾ç‰‡é“¾æ¥</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">è¯·è¾“å…¥å›¾ç‰‡çš„URLåœ°å€ï¼š</p>\n        <input type="text" id="avatar-url-input" placeholder="https://example.com/avatar.jpg" style="\n          width: 100%;\n          padding: 12px;\n          background: var(--input-bg-color, #313244);\n          border: 1px solid var(--border-color, #45475a);\n          border-radius: 6px;\n          color: var(--text-color, #cdd6f4);\n          font-size: 14px;\n          margin-bottom: 16px;\n          box-sizing: border-box;\n        " />\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-confirm" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--blue);\n            color: white;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: bold;\n          ">ç¡®è®¤</button>\n          <button id="btn-cancel" style="\n            flex: 1;\n            padding: 12px;\n            background: transparent;\n            color: var(--subtext-color, #a6adc8);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n          ">å–æ¶ˆ</button>\n        </div>\n      </div>\n    </div>\n  ',document.body.appendChild(e),e.querySelector('#btn-confirm')?.addEventListener('click',()=>{const t=e.querySelector('#avatar-url-input').value.trim();t&&(document.body.removeChild(e),a=null,C(t))}),e.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(e),a=null,t=!1,x()}),e.firstElementChild?.addEventListener('click',n=>{n.target===e.firstElementChild&&(document.body.removeChild(e),a=null,t=!1,x())})}()}),e.querySelector('#btn-use-file')?.addEventListener('click',()=>{document.body.removeChild(e),a=null,function(){const e=document.createElement('input');e.type='file',e.accept='image/*',e.style.display='none',e.addEventListener('change',async n=>{const l=n.target,o=l.files?.[0];if(o){const n=2097152;if(o.size>n)return alert('å›¾ç‰‡æ–‡ä»¶è¿‡å¤§ï¼Œè¯·é€‰æ‹©å°äº 2MB çš„å›¾ç‰‡'),document.body.removeChild(e),void(a=null);const l=new FileReader;l.onload=async e=>{const t=e.target?.result;t&&(a=null,await C(t))},l.onerror=()=>{alert('è¯»å–å›¾ç‰‡æ–‡ä»¶å¤±è´¥'),document.body.removeChild(e),a=null,t=!1,x()},l.readAsDataURL(o)}else document.body.removeChild(e),a=null;document.body.removeChild(e)}),document.body.appendChild(e),e.click()}()}),e.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(e),a=null,t=!1,x()}),e.firstElementChild?.addEventListener('click',n=>{n.target===e.firstElementChild&&(document.body.removeChild(e),a=null,t=!1,x())})}()}),e.firstElementChild?.addEventListener('click',n=>{n.target===e.firstElementChild&&(a===e&&(document.body.removeChild(e),a=null),t=!1)})}async function B(e){await async function(e,t){p[e]||(p[e]={current:0,history:[]});const a=p[e].current||0;let n=[...p[e].history||[]];0===a||a===t||n.includes(a)||(n=[a,...n].slice(0,10)),0===t||n.includes(t)||(n=[t,...n].slice(0,10)),p[e].current=t,p[e].history=n,await k(s,p)}(n.characterName,e),d.value=E(n.characterName),m.value=N(n.characterName),console.log('å¤´åƒå·²æ›´æ–°:',n.characterName,e)}async function C(e){const l=function(e){const t=y(e),a=Object.keys(t).map(Number).filter(e=>e>0);return 0===a.length?1:Math.max(...a)+1}(n.characterName);await async function(e,t,a){u[e]||(u[e]={}),u[e][t]=a,await k(i,u)}(n.characterName,l,e),console.log('å·²æ·»åŠ æ–°å¤´åƒ:',n.characterName,l,e),await B(l),t=!1,a=null,x()}async function w(e,t){const a=m.value[t];if(void 0===a)return;const l=document.createElement('div');l.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 300px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">ç¡®è®¤åˆ é™¤</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">ç¡®å®šè¦ä»å†å²è®°å½•ä¸­ç§»é™¤è¿™å¼ å¤´åƒå—ï¼Ÿ</p>\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-confirm" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--red, #f38ba8);\n            color: #1e1e2e;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">åˆ é™¤</button>\n          <button id="btn-cancel" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--surface-color, #313244);\n            color: var(--text-color, #cdd6f4);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">å–æ¶ˆ</button>\n        </div>\n      </div>\n    </div>\n  ',document.body.appendChild(l),l.querySelector('#btn-confirm')?.addEventListener('click',async()=>{await async function(e,t){if(p[e]){const a=(p[e].history||[]).filter(e=>e!==t);p[e].history=a,await k(s,p)}}(n.characterName,a),m.value=N(n.characterName),document.body.removeChild(l)}),l.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(l)}),l.firstElementChild?.addEventListener('click',e=>{e.target===l.firstElementChild&&document.body.removeChild(l)})}return(0,r.onMounted)(()=>{loadCharacterIntros()}),(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',ce,[o.value||c.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',ie,[(0,r.createCommentVNode)(' è§’è‰²å¤´åƒåŒºåŸŸ '),(0,r.createElementVNode)('div',de,[(0,r.createElementVNode)('div',me,[v.value?((0,r.openBlock)(),(0,r.createElementBlock)('img',{key:0,src:v.value,alt:e.characterName,class:'character-avatar-img',onError:g},null,40,ue)):((0,r.openBlock)(),(0,r.createElementBlock)('div',pe,[...a[1]||(a[1]=[(0,r.createElementVNode)('i',{class:'fas fa-user'},null,-1)])]))]),(0,r.createCommentVNode)(' åº•éƒ¨å†…å®¹å±‚ '),(0,r.createElementVNode)('div',ve,[a[4]||(a[4]=(0,r.createElementVNode)('div',{class:'avatar-text-gradient'},null,-1)),(0,r.createElementVNode)('div',fe,[(0,r.createElementVNode)('div',be,(0,r.toDisplayString)(e.characterName),1),(0,r.createCommentVNode)(' å†å²å¤´åƒ '),f.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',ge,[a[3]||(a[3]=(0,r.createElementVNode)('div',{class:'history-title'},'å†å²å¤´åƒ',-1)),(0,r.createElementVNode)('div',ke,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(f.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:(0,r.normalizeClass)(['history-item',{active:e===v.value}]),onClick:t=>async function(e){const t=y(n.characterName),a=Object.entries(t).find(([_,t])=>t===e)?.[0];a&&parseInt(a)!==d.value&&await B(parseInt(a))}(e)},[(0,r.createElementVNode)('img',{src:e,alt:`å†å²å¤´åƒ ${t+1}`,onError:V},null,40,Ee),(0,r.createElementVNode)('button',{class:'delete-avatar-btn',onClick:(0,r.withModifiers)(e=>w(0,t),['stop']),title:'åˆ é™¤å†å²å¤´åƒ'},[...a[2]||(a[2]=[(0,r.createElementVNode)('i',{class:'fas fa-times'},null,-1)])],8,Ne)],10,ye))),128))])])):(0,r.createCommentVNode)('v-if',!0)])]),(0,r.createElementVNode)('button',{class:'change-avatar-btn',onClick:x,title:'æ›´æ¢å¤´åƒ'},[...a[5]||(a[5]=[(0,r.createElementVNode)('i',{class:'fas fa-camera'},null,-1)])])]),(0,r.createCommentVNode)(' è§’è‰²åŸºæœ¬ä¿¡æ¯ '),(0,r.createElementVNode)('div',he,[(0,r.createElementVNode)('div',Ve,[(0,r.createElementVNode)('div',xe,[a[6]||(a[6]=(0,r.createElementVNode)('i',{class:'fas fa-heartbeat'},null,-1)),a[7]||(a[7]=(0,r.createElementVNode)('strong',null,'çŠ¶æ€ï¼š',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(c.value?.State||'æœªçŸ¥'),1)]),(0,r.createElementVNode)('div',Be,[a[8]||(a[8]=(0,r.createElementVNode)('i',{class:'fas fa-running'},null,-1)),a[9]||(a[9]=(0,r.createElementVNode)('strong',null,'è¡ŒåŠ¨ï¼š',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(c.value?.Action||'æœªçŸ¥'),1)]),(0,r.createElementVNode)('div',Ce,[a[10]||(a[10]=(0,r.createElementVNode)('i',{class:'fas fa-shield-alt'},null,-1)),a[11]||(a[11]=(0,r.createElementVNode)('strong',null,'å˜èº«ï¼š',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(c.value?.isTransformed?'status-highlight-yes':'status-highlight-no')},(0,r.toDisplayString)(c.value?.isTransformed?'æ˜¯':'å¦'),3)]),(0,r.createCommentVNode)(' è§’è‰²å±æ€§ '),o.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',we,[(0,r.createElementVNode)('div',Se,[a[12]||(a[12]=(0,r.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“æŠ€èƒ½æ•ˆæœä¸æ¶ˆè€—'},[(0,r.createElementVNode)('i',{class:'fas fa-bolt',style:{color:'var(--green)'}}),(0,r.createTextVNode)('é­”åŠ› ')],-1)),(0,r.createElementVNode)('span',ze,(0,r.toDisplayString)(o.value.Magic||0)+'/'+(0,r.toDisplayString)(o.value.MagicMax||100),1)]),(0,r.createElementVNode)('div',Me,[(0,r.createElementVNode)('div',{class:'progress-bar-fill magic-bar',style:(0,r.normalizeStyle)({width:`${Math.min((o.value.Magic||0)/(o.value.MagicMax||100)*100,100)}%`})},null,4)])])):(0,r.createCommentVNode)('v-if',!0),o.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',De,[(0,r.createElementVNode)('div',je,[a[13]||(a[13]=(0,r.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“è§’è‰²é—´çš„äº’åŠ¨ä¸æƒ…æ„Ÿ'},[(0,r.createElementVNode)('i',{class:'fas fa-heart',style:{color:'var(--pink)'}}),(0,r.createTextVNode)('å¥½æ„Ÿåº¦ ')],-1)),(0,r.createElementVNode)('span',Te,(0,r.toDisplayString)(o.value.Favor||0)+'%',1)]),(0,r.createElementVNode)('div',Le,[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['progress-bar-fill',(o.value.Favor||0)>=0?'favor-bar-positive':'favor-bar-negative']),style:(0,r.normalizeStyle)({width:`${Math.abs(o.value.Favor||0)}%`})},null,6)])])):(0,r.createCommentVNode)('v-if',!0),o.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',_e,[(0,r.createElementVNode)('div',$e,[a[14]||(a[14]=(0,r.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“å¿ƒæ™ºä¸èƒ½åŠ›ï¼Œè¿‡é«˜å¯èƒ½å¯¼è‡´å¤±æ§'},[(0,r.createElementVNode)('i',{class:'fas fa-skull-crossbones',style:{color:'var(--purple)'}}),(0,r.createTextVNode)('å •è½å€¼ ')],-1)),(0,r.createElementVNode)('span',Ie,(0,r.toDisplayString)(o.value.Corruption||0)+'%',1)]),(0,r.createElementVNode)('div',Pe,[(0,r.createElementVNode)('div',{class:'progress-bar-fill corruption-bar',style:(0,r.normalizeStyle)({width:`${o.value.Corruption||0}%`})},null,4)])])):(0,r.createCommentVNode)('v-if',!0),c.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Oe,[(0,r.createElementVNode)('div',qe,[a[15]||(a[15]=(0,r.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“è§’è‰²çš„è¡Œä¸ºä¸ç†æ™º'},[(0,r.createElementVNode)('i',{class:'fas fa-fire',style:{color:'var(--red)'}}),(0,r.createTextVNode)('æƒ…æ¬²å€¼ ')],-1)),(0,r.createElementVNode)('span',Ae,(0,r.toDisplayString)(c.value.Lust||0)+'%',1)]),(0,r.createElementVNode)('div',Fe,[(0,r.createElementVNode)('div',{class:'progress-bar-fill lust-bar',style:(0,r.normalizeStyle)({width:`${c.value.Lust||0}%`})},null,4)])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' è§’è‰²å¿ƒç†æ´»åŠ¨ '),c.value?.Thought?((0,r.openBlock)(),(0,r.createElementBlock)('div',He,[a[16]||(a[16]=(0,r.createElementVNode)('div',{class:'thought-title'},[(0,r.createElementVNode)('i',{class:'fas fa-comment-dots'}),(0,r.createTextVNode)('å¿ƒç†æ´»åŠ¨')],-1)),(0,r.createElementVNode)('p',null,(0,r.toDisplayString)(c.value.Thought),1)])):(0,r.createCommentVNode)('v-if',!0)])]),(0,r.createCommentVNode)(' è§’è‰²ä»‹ç» '),b.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ue,[a[17]||(a[17]=(0,r.createElementVNode)('div',{class:'description-title'},[(0,r.createElementVNode)('i',{class:'fas fa-info-circle'}),(0,r.createTextVNode)('è§’è‰²ä»‹ç»')],-1)),(0,r.createElementVNode)('div',We,[(0,r.createElementVNode)('div',Re,(0,r.toDisplayString)(b.value),1)])])):(0,r.createCommentVNode)('v-if',!0)])):((0,r.openBlock)(),(0,r.createElementBlock)('div',se,[...a[0]||(a[0]=[(0,r.createElementVNode)('span',null,'åŠ è½½è§’è‰²ä¿¡æ¯ä¸­...',-1)])]))]))}}),Ze=(0,oe.A)(Ge,[['__scopeId','data-v-5ebed4b2']]),Je={class:'characters-panel'},Ke={key:0,class:'empty-state'},Qe={key:1,class:'characters-list'},Xe=['onClick'],Ye={class:'char-name-left'},et=['src'],tt={key:1,class:'char-avatar-placeholder'},at={class:'char-name-text'},nt={key:0,class:'character-detail'},lt={class:'char-details'},ot={class:'detail-item'},rt={class:'detail-item'},ct={class:'detail-item'},st={key:0,class:'stat-bar-container'},it={class:'stat-bar-label'},dt={class:'stat-bar-value'},mt={class:'progress-bar'},ut={key:1,class:'stat-bar-container'},pt={class:'stat-bar-label'},vt={class:'stat-bar-value'},ft={class:'progress-bar'},bt={key:2,class:'stat-bar-container'},gt={class:'stat-bar-label'},kt={class:'stat-bar-value'},yt={class:'progress-bar'},Et={class:'stat-bar-container'},Nt={class:'stat-bar-label'},ht={class:'stat-bar-value'},Vt={class:'progress-bar'},xt={key:3,class:'thought-block'},Bt=(0,r.defineComponent)({__name:'CharactersPanel',setup(e){const t=A(),a=(0,r.computed)(()=>t.data.åœ¨åœºè§’è‰²||{}),n=(0,r.computed)(()=>t.data.è§’è‰²åˆ—è¡¨||{}),l=(0,r.ref)({});function o(e){return h(e,E(e))}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Je,[t[14]||(t[14]=(0,r.createElementVNode)('h3',{class:'panel-title'},'åœ¨åœºè§’è‰²',-1)),0===Object.keys(a.value).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ke,[...t[0]||(t[0]=[(0,r.createElementVNode)('p',null,'å½“å‰æ²¡æœ‰åœ¨åœºè§’è‰²',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Qe,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.value,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:'char-card'},[(0,r.createElementVNode)('div',{class:'char-name',onClick:e=>function(e){l.value[e]=!l.value[e]}(a)},[(0,r.createElementVNode)('div',Ye,[o(a)?((0,r.openBlock)(),(0,r.createElementBlock)('img',{key:0,src:o(a),class:'char-avatar',alt:'å¤´åƒ'},null,8,et)):((0,r.openBlock)(),(0,r.createElementBlock)('div',tt,[...t[1]||(t[1]=[(0,r.createElementVNode)('i',{class:'fas fa-user'},null,-1)])])),(0,r.createElementVNode)('span',at,(0,r.toDisplayString)(a),1)]),((0,r.openBlock)(),(0,r.createElementBlock)('svg',{class:(0,r.normalizeClass)(['collapse-icon',{rotated:l.value[a]}]),viewBox:'0 0 320 512',fill:'currentColor',xmlns:'http://www.w3.org/2000/svg'},[...t[2]||(t[2]=[(0,r.createElementVNode)('path',{d:'M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4 9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z'},null,-1)])],2))],8,Xe),(0,r.createCommentVNode)(' å±•å¼€çš„è§’è‰²è¯¦æƒ… '),l.value[a]?((0,r.openBlock)(),(0,r.createElementBlock)('div',nt,[(0,r.createElementVNode)('div',lt,[(0,r.createElementVNode)('div',ot,[t[3]||(t[3]=(0,r.createElementVNode)('i',{class:'fas fa-heartbeat'},null,-1)),t[4]||(t[4]=(0,r.createElementVNode)('strong',null,'çŠ¶æ€ï¼š',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.State||'æœªçŸ¥'),1)]),(0,r.createElementVNode)('div',rt,[t[5]||(t[5]=(0,r.createElementVNode)('i',{class:'fas fa-running'},null,-1)),t[6]||(t[6]=(0,r.createElementVNode)('strong',null,'è¡ŒåŠ¨ï¼š',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.Action||'æœªçŸ¥'),1)]),(0,r.createElementVNode)('div',ct,[t[7]||(t[7]=(0,r.createElementVNode)('i',{class:'fas fa-shield-alt'},null,-1)),t[8]||(t[8]=(0,r.createElementVNode)('strong',null,'å˜èº«ï¼š',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(e.isTransformed?'status-highlight-yes':'status-highlight-no')},(0,r.toDisplayString)(e.isTransformed?'æ˜¯':'å¦'),3)]),(0,r.createCommentVNode)(' è§’è‰²å±æ€§ '),n.value[a]?((0,r.openBlock)(),(0,r.createElementBlock)('div',st,[(0,r.createElementVNode)('div',it,[t[9]||(t[9]=(0,r.createElementVNode)('span',{class:'stat-bar-title'},[(0,r.createElementVNode)('i',{class:'fas fa-bolt',style:{color:'var(--green)'}}),(0,r.createTextVNode)('é­”åŠ› ')],-1)),(0,r.createElementVNode)('span',dt,(0,r.toDisplayString)(n.value[a].Magic||0)+'/'+(0,r.toDisplayString)(n.value[a].MagicMax||100),1)]),(0,r.createElementVNode)('div',mt,[(0,r.createElementVNode)('div',{class:'progress-bar-fill magic-bar',style:(0,r.normalizeStyle)({width:`${Math.min((n.value[a].Magic||0)/(n.value[a].MagicMax||100)*100,100)}%`})},null,4)])])):(0,r.createCommentVNode)('v-if',!0),n.value[a]?((0,r.openBlock)(),(0,r.createElementBlock)('div',ut,[(0,r.createElementVNode)('div',pt,[t[10]||(t[10]=(0,r.createElementVNode)('span',{class:'stat-bar-title'},[(0,r.createElementVNode)('i',{class:'fas fa-heart',style:{color:'var(--pink)'}}),(0,r.createTextVNode)('å¥½æ„Ÿåº¦ ')],-1)),(0,r.createElementVNode)('span',vt,(0,r.toDisplayString)(n.value[a].Favor||0)+'%',1)]),(0,r.createElementVNode)('div',ft,[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['progress-bar-fill',(n.value[a].Favor||0)>=0?'favor-bar-positive':'favor-bar-negative']),style:(0,r.normalizeStyle)({width:`${Math.abs(n.value[a].Favor||0)}%`})},null,6)])])):(0,r.createCommentVNode)('v-if',!0),n.value[a]?((0,r.openBlock)(),(0,r.createElementBlock)('div',bt,[(0,r.createElementVNode)('div',gt,[t[11]||(t[11]=(0,r.createElementVNode)('span',{class:'stat-bar-title'},[(0,r.createElementVNode)('i',{class:'fas fa-skull-crossbones',style:{color:'var(--purple)'}}),(0,r.createTextVNode)('å •è½å€¼ ')],-1)),(0,r.createElementVNode)('span',kt,(0,r.toDisplayString)(n.value[a].Corruption||0)+'%',1)]),(0,r.createElementVNode)('div',yt,[(0,r.createElementVNode)('div',{class:'progress-bar-fill corruption-bar',style:(0,r.normalizeStyle)({width:`${n.value[a].Corruption||0}%`})},null,4)])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',Et,[(0,r.createElementVNode)('div',Nt,[t[12]||(t[12]=(0,r.createElementVNode)('span',{class:'stat-bar-title'},[(0,r.createElementVNode)('i',{class:'fas fa-fire',style:{color:'var(--red)'}}),(0,r.createTextVNode)('æƒ…æ¬²å€¼ ')],-1)),(0,r.createElementVNode)('span',ht,(0,r.toDisplayString)(e.Lust||0)+'%',1)]),(0,r.createElementVNode)('div',Vt,[(0,r.createElementVNode)('div',{class:'progress-bar-fill lust-bar',style:(0,r.normalizeStyle)({width:`${e.Lust||0}%`})},null,4)])]),(0,r.createCommentVNode)(' è§’è‰²å¿ƒç†æ´»åŠ¨ '),e.Thought?((0,r.openBlock)(),(0,r.createElementBlock)('div',xt,[t[13]||(t[13]=(0,r.createElementVNode)('div',{class:'thought-title'},[(0,r.createElementVNode)('i',{class:'fas fa-comment-dots'}),(0,r.createTextVNode)('å¿ƒç†æ´»åŠ¨')],-1)),(0,r.createElementVNode)('p',null,(0,r.toDisplayString)(e.Thought),1)])):(0,r.createCommentVNode)('v-if',!0)])])):(0,r.createCommentVNode)('v-if',!0)]))),128))]))]))}}),Ct=(0,oe.A)(Bt,[['__scopeId','data-v-5675bb57']]),wt={class:'skills-panel'},St={class:'skill-points-display'},zt={class:'points-card'},Mt={class:'points-info'},Dt={class:'points-value'},jt={class:'magic-max-upgrade'},Tt={class:'upgrade-header'},Lt={class:'current-magic-max'},_t={class:'upgrade-controls'},$t={class:'input-group'},It=['max'],Pt=['disabled'],Ot={class:'upgrade-info'},qt={class:'upgrade-cost'},At={class:'upgrade-result'},Ft={key:0,class:'empty-skills'},Ht={key:1,class:'skills-list'},Ut=['data-skill'],Wt={class:'skill-header'},Rt={class:'skill-title'},Gt={key:0,class:'learned-badge'},Zt={class:'skill-name'},Jt={class:'skill-cost-badge'},Kt={class:'skill-description'},Qt=['disabled','onClick'],Xt={key:1,class:'learned-status'},Yt=(0,r.defineComponent)({__name:'SkillsPanel',setup(e){const t=A(),a=(0,r.ref)(1),n=(0,r.computed)(()=>t.data.user||{SkillPoint:0,Magic:0,MagicMax:100,Morality:0,SkillTree:{}}),l=(0,r.computed)(()=>n.value.SkillTree||{}),o=(0,r.computed)(()=>a.value>0&&a.value<=n.value.SkillPoint);function c(e){const t=n.value.SkillPoint||0,a=e?.æ¶ˆè€—||0;return!e?.å·²å­¦ä¹ &&t>=a}function s(){const e=n.value.SkillPoint||0,l=n.value.MagicMax||100,o=n.value.Magic||0,r=a.value||0;if(r>0&&r<=e){const c={...n.value,SkillPoint:e-r,MagicMax:l+r,Magic:o+r};t.data.user=c,a.value=1,console.log('é­”åŠ›å€¼ä¸Šé™å·²å¢åŠ :',{åŸä¸Šé™:l,å¢åŠ ç‚¹æ•°:r,æ–°ä¸Šé™:l+r,åŸé­”åŠ›å€¼:o,æ–°é­”åŠ›å€¼:o+r,å‰©ä½™ä¾µèš€ç‚¹:e-r})}}return(e,i)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',wt,[i[7]||(i[7]=(0,r.createElementVNode)('h3',{class:'panel-title'},'å­¦ä¹ æŠ€èƒ½',-1)),(0,r.createElementVNode)('div',St,[(0,r.createElementVNode)('div',zt,[i[2]||(i[2]=(0,r.createElementVNode)('span',{class:'points-icon'},'â­',-1)),(0,r.createElementVNode)('div',Mt,[(0,r.createElementVNode)('span',Dt,(0,r.toDisplayString)(n.value.SkillPoint),1),i[1]||(i[1]=(0,r.createElementVNode)('span',{class:'points-label'},'å¯ç”¨ä¾µèš€ç‚¹',-1))])])]),(0,r.createElementVNode)('div',jt,[(0,r.createElementVNode)('div',Tt,[i[3]||(i[3]=(0,r.createElementVNode)('span',{class:'upgrade-title'},'ğŸ’ å¢åŠ é­”åŠ›å€¼ä¸Šé™',-1)),(0,r.createElementVNode)('span',Lt,'å½“å‰ä¸Šé™: '+(0,r.toDisplayString)(n.value.MagicMax),1)]),(0,r.createElementVNode)('div',_t,[(0,r.createElementVNode)('div',$t,[i[4]||(i[4]=(0,r.createElementVNode)('label',{class:'input-label'},'å¢åŠ ç‚¹æ•°:',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{type:'number','onUpdate:modelValue':i[0]||(i[0]=e=>a.value=e),min:'1',max:n.value.SkillPoint,class:'upgrade-input',placeholder:'è¾“å…¥ç‚¹æ•°'},null,8,It),[[r.vModelText,a.value,void 0,{number:!0}]])]),(0,r.createElementVNode)('button',{class:(0,r.normalizeClass)(['upgrade-button',{disabled:!o.value}]),disabled:!o.value,onClick:s},' ç¡®è®¤å¢åŠ  ',10,Pt)]),(0,r.createElementVNode)('div',Ot,[(0,r.createElementVNode)('span',qt,'æ¶ˆè€—: '+(0,r.toDisplayString)(a.value)+' ä¾µèš€ç‚¹',1),(0,r.createElementVNode)('span',At,'å¢åŠ åä¸Šé™: '+(0,r.toDisplayString)(n.value.MagicMax+a.value),1)])]),0===Object.keys(l.value).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ft,[...i[5]||(i[5]=[(0,r.createElementVNode)('p',null,'æš‚æ— å¯å­¦ä¹ çš„æŠ€èƒ½',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Ht,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.value,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:(0,r.normalizeClass)(['skill-card',{learned:e.å·²å­¦ä¹ ,disabled:!c(e)}]),'data-skill':a},[(0,r.createElementVNode)('div',Wt,[(0,r.createElementVNode)('div',Rt,[e.å·²å­¦ä¹ ?((0,r.openBlock)(),(0,r.createElementBlock)('span',Gt,'âœ“')):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('span',Zt,(0,r.toDisplayString)(a),1)]),(0,r.createElementVNode)('div',Jt,'æ¶ˆè€—: '+(0,r.toDisplayString)(e.æ¶ˆè€—)+' ç‚¹',1)]),(0,r.createElementVNode)('p',Kt,(0,r.toDisplayString)(e.æè¿°),1),e.å·²å­¦ä¹ ?((0,r.openBlock)(),(0,r.createElementBlock)('div',Xt,[...i[6]||(i[6]=[(0,r.createElementVNode)('span',{class:'learned-text'},'å·²å­¦ä¹ ',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:(0,r.normalizeClass)(['learn-button',{disabled:!c(e)}]),disabled:!c(e),onClick:l=>function(e,a){const l=n.value.SkillPoint||0,o=n.value.SkillTree||{};if(console.log('å­¦ä¹ æŠ€èƒ½å¼€å§‹:',{skillName:e,cost:a,currentSkillPoints:l}),l>=a&&!o[e]?.å·²å­¦ä¹ ){console.log('æ¡ä»¶æ»¡è¶³ï¼Œå‡†å¤‡å­¦ä¹ æŠ€èƒ½');const r={...o,[e]:{...o[e],å·²å­¦ä¹ :!0}},c=l-a;console.log('æ–°æŠ€èƒ½ç‚¹:',c);const s={...n.value,SkillPoint:c,SkillTree:r};t.data.user=s,console.log('dataStore.dataå·²æ›´æ–°:',t.data.user);const i=document.querySelector(`[data-skill="${e}"]`);i&&(i.classList.add('skill-learned-animation'),setTimeout(()=>{i.classList.remove('skill-learned-animation')},1e3)),console.log('å­¦ä¹ æŠ€èƒ½å®Œæˆ')}else console.log('æ¡ä»¶ä¸æ»¡è¶³:',{æŠ€èƒ½ç‚¹è¶³å¤Ÿ:l>=a,æŠ€èƒ½æœªå­¦ä¹ :!o[e]?.å·²å­¦ä¹ })}(a,e.æ¶ˆè€—||0)},(0,r.toDisplayString)(c(e)?'å­¦ä¹ æŠ€èƒ½':'ç‚¹æ•°ä¸è¶³'),11,Qt))],10,Ut))),128))]))]))}}),ea=(0,oe.A)(Yt,[['__scopeId','data-v-b5026c5c']]),ta={class:'story-panel'},aa={key:0,class:'empty-state'},na={key:1,class:'story-list'},la=['onClick'],oa={class:'story-header'},ra={class:'story-name'},ca={class:'story-header-right'},sa={class:'story-preview'},ia={key:0,class:'endings-preview'},da={class:'endings-count'},ma={key:0,class:'completed-endings-count'},ua={key:1,class:'no-endings-preview'},pa=(0,r.defineComponent)({__name:'StoryPanel',setup(e){const t=A(),a=(0,r.computed)(()=>t.data.ä¸ªäººçº¿||{});function n(e){return!(!e||!e.ç»“å±€)&&Object.values(e.ç»“å±€).some(e=>!(!e||!e.è¾¾æˆæ¡ä»¶)&&Object.values(e.è¾¾æˆæ¡ä»¶).every(e=>!0===e))}function l(e){return e&&e.ç»“å±€?Object.values(e.ç»“å±€).filter(e=>!(!e||!e.è¾¾æˆæ¡ä»¶)&&Object.values(e.è¾¾æˆæ¡ä»¶).every(e=>!0===e)).length:0}function o(e){if(!e)return'æœªçŸ¥';const t=Object.entries(e.ç»“å±€||{}).filter(([_,e])=>!(!e||!e.è¾¾æˆæ¡ä»¶)&&Object.values(e.è¾¾æˆæ¡ä»¶).every(e=>!0===e));if(t.length>0){return`å·²å®Œæˆ: ${t.map(([e])=>e).join('ã€')}`}return e.çŠ¶æ€||'æœªå¼€å§‹'}function c(e){return n(e)?'status-ending-completed':function(e){switch(e){case'æœªå¼€å§‹':return'status-not-started';case'è¿›è¡Œä¸­':return'status-in-progress';case'å·²å®Œæˆ':return'status-completed';default:return'status-unknown'}}(e.çŠ¶æ€||'æœªå¼€å§‹')}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',ta,[t[3]||(t[3]=(0,r.createElementVNode)('h3',{class:'panel-title'},'ä¸ªäººçº¿',-1)),0===Object.keys(a.value).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',aa,[...t[0]||(t[0]=[(0,r.createElementVNode)('p',null,'æš‚æ— ä¸ªäººçº¿',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',na,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.value,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:(0,r.normalizeClass)(['story-card',{completed:'å·²å®Œæˆ'===e.çŠ¶æ€,'in-progress':'è¿›è¡Œä¸­'===e.çŠ¶æ€,'ending-completed':n(e)}]),onClick:e=>function(e){const t=new CustomEvent('navigate',{detail:{page:'story-detail',storyName:e}});window.dispatchEvent(t)}(a)},[(0,r.createElementVNode)('div',oa,[(0,r.createElementVNode)('span',ra,(0,r.toDisplayString)(a),1),(0,r.createElementVNode)('div',ca,[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['story-status',c(e)])},(0,r.toDisplayString)(o(e)),3),t[1]||(t[1]=(0,r.createElementVNode)('i',{class:'fas fa-arrow-right'},null,-1))])]),(0,r.createElementVNode)('div',sa,[Object.keys(e.ç»“å±€).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',ia,[(0,r.createElementVNode)('span',da,(0,r.toDisplayString)(Object.keys(e.ç»“å±€).length)+' ä¸ªç»“å±€',1),l(e)>0?((0,r.openBlock)(),(0,r.createElementBlock)('span',ma,' ('+(0,r.toDisplayString)(l(e))+' ä¸ªå·²å®Œæˆ) ',1)):(0,r.createCommentVNode)('v-if',!0)])):((0,r.openBlock)(),(0,r.createElementBlock)('div',ua,[...t[2]||(t[2]=[(0,r.createElementVNode)('span',null,'æš‚æœªè¾¾æˆä»»ä½•ç»“å±€',-1)])]))])],10,la))),128))]))]))}}),va=(0,oe.A)(pa,[['__scopeId','data-v-bb48bf38']]),fa={id:'status-container',class:'status-panel-container'},ba={key:0,id:'main-menu-page'},ga={class:'scene-info'},ka={class:'info-line'},ya={class:'info-line'},Ea={class:'info-line'},Na={class:'menu-buttons'},ha={key:1,id:'archive-page',class:'page-view'},Va={key:2,id:'terminal-page',class:'page-view'},xa={class:'user-stats-section'},Ba={class:'stats-grid'},Ca={class:'stat-card'},wa={class:'stat-info'},Sa={class:'stat-value'},za={class:'stat-card'},Ma={class:'stat-info'},Da={class:'stat-value'},ja={class:'stat-card'},Ta={class:'stat-info'},La={class:'skills-section'},_a={class:'skill-cards'},$a={class:'skill-card-text'},Ia={class:'skill-card-count'},Pa={key:3,id:'skill-list-page',class:'page-view'},Oa={class:'block-title'},qa={width:'24',height:'24',viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round',style:{'margin-right':'8px'}},Aa={class:'skill-list-content'},Fa={key:0,class:'empty-state'},Ha={key:1,class:'learned-skills-list'},Ua={class:'skill-item-header'},Wa={class:'skill-name'},Ra={class:'skill-description'},Ga={key:4,id:'learn-skills-page',class:'page-view'},Za={class:'learn-skills-content'},Ja={key:5,id:'characters-page',class:'page-view'},Ka={key:6,id:'user-page',class:'page-view'},Qa={key:7,id:'story-page',class:'page-view'},Xa={key:8,id:'story-detail-page',class:'page-view'},Ya={class:'block-title'},en={class:'story-detail-content'},tn={key:0,class:'loading'},an={key:1,class:'story-detail-card'},nn={class:'story-status'},ln={key:0,class:'endings-section'},on={class:'endings-list'},rn={class:'ending-header'},cn={key:0,class:'ending-completed-badge'},sn={key:0,class:'ending-description'},dn={class:'description-content'},mn={key:1,class:'ending-conditions'},un={class:'conditions-list'},pn=['onClick'],vn={class:'condition-name'},fn={class:'condition-status'},bn={key:1,class:'no-endings'},gn={key:9,id:'character-detail-page',class:'page-view'},kn={class:'block-title'},yn=(0,r.defineComponent)({__name:'App',setup(e){const t=A(),a=(0,r.ref)('main'),n=(0,r.ref)(''),l=(0,r.ref)(''),o=(0,r.ref)('main');function c(e,t){'character-detail'===e&&(o.value=a.value),a.value=e,t&&('character-detail'===e?n.value=t:'story-detail'===e&&(l.value=t))}const s=(0,r.computed)(()=>t.data.ä¸ªäººçº¿?.[l.value]);function i(e){if(!e||!e.è¾¾æˆæ¡ä»¶)return!1;const t=e.è¾¾æˆæ¡ä»¶;return Object.values(t).every(e=>!0===e)}const d=(0,r.computed)(()=>{if(!s.value)return'æœªçŸ¥';const e=Object.entries(s.value.ç»“å±€||{}).filter(([_,e])=>i(e));if(e.length>0){return`å·²å®Œæˆ: ${e.map(([e])=>e).join('ã€')}`}return s.value.çŠ¶æ€||'æœªå¼€å§‹'}),m=(0,r.computed)(()=>t.data.user||{SkillPoint:0,Magic:0,MagicMax:100,Morality:0,SkillTree:{}}),u=(0,r.computed)(()=>{const e=m.value.SkillTree||{};return Object.keys(e).filter(t=>e[t].å·²å­¦ä¹ )});function p(){if(!s.value)return'status-unknown';return Object.entries(s.value.ç»“å±€||{}).some(([_,e])=>i(e))?'status-ending-completed':function(e){switch(e){case'æœªå¼€å§‹':return'status-not-started';case'è¿›è¡Œä¸­':return'status-in-progress';case'å·²å®Œæˆ':return'status-completed';default:return'status-unknown'}}(s.value.çŠ¶æ€||'æœªå¼€å§‹')}function v(){const e='dark'===document.body.getAttribute('data-theme')?'light':'dark';document.body.setAttribute('data-theme',e),localStorage.setItem('theme',e)}function f(e){const{page:t,charName:a,storyName:n}=e.detail;c(t,a||n)}return(0,r.onMounted)(()=>{const e=localStorage.getItem('theme')||'dark';document.body.setAttribute('data-theme',e),window.addEventListener('navigate',f)}),(0,r.onUnmounted)(()=>{window.removeEventListener('navigate',f)}),(e,f)=>{const b=(0,r.resolveComponent)('UserPanel');return(0,r.openBlock)(),(0,r.createElementBlock)('div',fa,[(0,r.createCommentVNode)(' ä¸»é¢˜åˆ‡æ¢æŒ‰é’® '),(0,r.createElementVNode)('button',{id:'theme-toggle-btn',title:'åˆ‡æ¢ä¸»é¢˜',onClick:v},[...f[16]||(f[16]=[(0,r.createElementVNode)('i',{class:'fas fa-sun'},null,-1),(0,r.createElementVNode)('i',{class:'fas fa-moon'},null,-1)])]),(0,r.createCommentVNode)(' ä¸»èœå•é¡µé¢ '),'main'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',ba,[(0,r.createElementVNode)('section',ga,[(0,r.createElementVNode)('div',ka,[f[17]||(f[17]=(0,r.createElementVNode)('i',{class:'fas fa-calendar'},null,-1)),f[18]||(f[18]=(0,r.createElementVNode)('strong',null,'æ—¥æœŸï¼š',-1)),(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).data.å½“å‰æ—¶é—´?(0,r.unref)(t).data.å½“å‰æ—¶é—´.split(' ')[0]:'æœªçŸ¥'),1)]),(0,r.createElementVNode)('div',ya,[f[19]||(f[19]=(0,r.createElementVNode)('i',{class:'fas fa-clock'},null,-1)),f[20]||(f[20]=(0,r.createElementVNode)('strong',null,'æ—¶é—´ï¼š',-1)),(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).data.å½“å‰æ—¶é—´?(0,r.unref)(t).data.å½“å‰æ—¶é—´.split(' ')[1]:'æœªçŸ¥'),1)]),(0,r.createElementVNode)('div',Ea,[f[21]||(f[21]=(0,r.createElementVNode)('i',{class:'fas fa-map-marker-alt'},null,-1)),f[22]||(f[22]=(0,r.createElementVNode)('strong',null,'åœ°ç‚¹ï¼š',-1)),(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).data.location||'æœªçŸ¥'),1)])]),f[27]||(f[27]=(0,r.createElementVNode)('div',{class:'block-title'},[(0,r.createElementVNode)('i',{class:'fas fa-bars'}),(0,r.createTextVNode)('ä¸»èœå•')],-1)),(0,r.createElementVNode)('div',Na,[(0,r.createElementVNode)('button',{class:'menu-btn',onClick:f[0]||(f[0]=e=>c('characters'))},[...f[23]||(f[23]=[(0,r.createElementVNode)('i',{class:'fas fa-users'},null,-1),(0,r.createTextVNode)(' åœ¨åœºè§’è‰²',-1)])]),(0,r.createElementVNode)('button',{class:'menu-btn',onClick:f[1]||(f[1]=e=>c('archive'))},[...f[24]||(f[24]=[(0,r.createElementVNode)('i',{class:'fas fa-address-book'},null,-1),(0,r.createTextVNode)(' è§’è‰²æ¡£æ¡ˆ',-1)])]),(0,r.createElementVNode)('button',{class:'menu-btn',onClick:f[2]||(f[2]=e=>c('terminal'))},[...f[25]||(f[25]=[(0,r.createElementVNode)('i',{class:'fas fa-laptop-code'},null,-1),(0,r.createTextVNode)(' æˆ‘çš„ç»ˆç«¯',-1)])]),(0,r.createElementVNode)('button',{class:'menu-btn',onClick:f[3]||(f[3]=e=>c('story'))},[...f[26]||(f[26]=[(0,r.createElementVNode)('i',{class:'fas fa-book'},null,-1),(0,r.createTextVNode)(' ä¸ªäººçº¿',-1)])])])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' è§’è‰²æ¡£æ¡ˆé¡µé¢ '),'archive'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',ha,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[4]||(f[4]=e=>c('main'))},[...f[28]||(f[28]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),f[29]||(f[29]=(0,r.createElementVNode)('div',{class:'block-title'},[(0,r.createElementVNode)('i',{class:'fas fa-address-book'}),(0,r.createTextVNode)(' è§’è‰²æ¡£æ¡ˆ')],-1)),(0,r.createVNode)(re,{onViewCharacter:f[5]||(f[5]=e=>c('character-detail',e))})])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' æˆ‘çš„ç»ˆç«¯é¡µé¢ '),'terminal'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Va,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[6]||(f[6]=e=>c('main'))},[...f[30]||(f[30]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),f[40]||(f[40]=(0,r.createElementVNode)('div',{class:'block-title'},[(0,r.createElementVNode)('i',{class:'fas fa-laptop-code'}),(0,r.createTextVNode)(' æˆ‘çš„ç»ˆç«¯')],-1)),(0,r.createCommentVNode)(' ä¸ªäººçŠ¶æ€ '),(0,r.createElementVNode)('div',xa,[(0,r.createElementVNode)('div',Ba,[(0,r.createElementVNode)('div',Ca,[f[32]||(f[32]=(0,r.createElementVNode)('span',{class:'stat-icon'},'â­',-1)),(0,r.createElementVNode)('div',wa,[(0,r.createElementVNode)('span',Sa,(0,r.toDisplayString)(m.value.SkillPoint),1),f[31]||(f[31]=(0,r.createElementVNode)('span',{class:'stat-label'},'ä¾µèš€ç‚¹',-1))])]),(0,r.createElementVNode)('div',za,[f[34]||(f[34]=(0,r.createElementVNode)('span',{class:'stat-icon'},'ğŸ’',-1)),(0,r.createElementVNode)('div',Ma,[(0,r.createElementVNode)('span',Da,(0,r.toDisplayString)(m.value.Magic)+'/'+(0,r.toDisplayString)(m.value.MagicMax),1),f[33]||(f[33]=(0,r.createElementVNode)('span',{class:'stat-label'},'é­”åŠ›å€¼',-1))])]),(0,r.createElementVNode)('div',ja,[f[36]||(f[36]=(0,r.createElementVNode)('span',{class:'stat-icon'},'âš–ï¸',-1)),(0,r.createElementVNode)('div',Ta,[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['stat-value',{positive:m.value.Morality>=0,negative:m.value.Morality<0}])},(0,r.toDisplayString)(m.value.Morality>=0?'+':'')+(0,r.toDisplayString)(m.value.Morality),3),f[35]||(f[35]=(0,r.createElementVNode)('span',{class:'stat-label'},'å–„æ¶å€¼',-1))])])])]),(0,r.createCommentVNode)(' æŠ€èƒ½åˆ—è¡¨å’Œå­¦ä¹ æŠ€èƒ½å…¥å£ '),(0,r.createElementVNode)('div',La,[(0,r.createElementVNode)('div',_a,[(0,r.createElementVNode)('button',{class:'skill-card',onClick:f[7]||(f[7]=e=>c('skillList'))},[f[38]||(f[38]=(0,r.createElementVNode)('div',{class:'skill-card-icon'},[(0,r.createElementVNode)('svg',{width:'48',height:'48',viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round'},[(0,r.createElementVNode)('path',{d:'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20'})])],-1)),(0,r.createElementVNode)('div',$a,[f[37]||(f[37]=(0,r.createElementVNode)('div',{class:'skill-card-title'},'æŠ€èƒ½åˆ—è¡¨',-1)),(0,r.createElementVNode)('div',Ia,'('+(0,r.toDisplayString)(u.value.length)+')',1)])]),(0,r.createElementVNode)('button',{class:'skill-card',onClick:f[8]||(f[8]=e=>c('learnSkills'))},[...f[39]||(f[39]=[(0,r.createStaticVNode)('<div class="skill-card-icon" data-v-60888edd><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-60888edd><path d="M22 10v6M2 10l10-5 10 5-10 5z" data-v-60888edd></path><path d="M6 12v5c3 3 9 3 12 0v-5" data-v-60888edd></path></svg></div><div class="skill-card-text" data-v-60888edd><div class="skill-card-title" data-v-60888edd>å­¦ä¹ æŠ€èƒ½</div></div>',2)])])])])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' æŠ€èƒ½åˆ—è¡¨é¡µé¢ '),'skillList'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Pa,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[9]||(f[9]=e=>c('terminal'))},[...f[41]||(f[41]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),(0,r.createElementVNode)('div',Oa,[((0,r.openBlock)(),(0,r.createElementBlock)('svg',qa,[...f[42]||(f[42]=[(0,r.createElementVNode)('path',{d:'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20'},null,-1)])])),f[43]||(f[43]=(0,r.createTextVNode)(' æŠ€èƒ½åˆ—è¡¨ ',-1))]),(0,r.createElementVNode)('div',Aa,[0===u.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Fa,[...f[44]||(f[44]=[(0,r.createElementVNode)('p',null,'æš‚æœªå­¦ä¹ ä»»ä½•æŠ€èƒ½',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Ha,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e,class:'learned-skill-item'},[(0,r.createElementVNode)('div',Ua,[f[45]||(f[45]=(0,r.createElementVNode)('div',{class:'skill-check'},[(0,r.createElementVNode)('svg',{width:'20',height:'20',viewBox:'0 0 24 24',fill:'currentColor',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round'},[(0,r.createElementVNode)('polyline',{points:'20 6 9 17 4 12'})])],-1)),(0,r.createElementVNode)('div',Wa,(0,r.toDisplayString)(e),1),f[46]||(f[46]=(0,r.createElementVNode)('div',{class:'skill-status'},'å·²æŒæ¡',-1))]),(0,r.createElementVNode)('div',Ra,(0,r.toDisplayString)(m.value.SkillTree[e].æè¿°),1)]))),128))]))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' å­¦ä¹ æŠ€èƒ½é¡µé¢ '),'learnSkills'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ga,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[10]||(f[10]=e=>c('terminal'))},[...f[47]||(f[47]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),f[48]||(f[48]=(0,r.createElementVNode)('div',{class:'block-title'},[(0,r.createElementVNode)('i',{class:'fas fa-graduation-cap'}),(0,r.createTextVNode)(' å­¦ä¹ æŠ€èƒ½')],-1)),(0,r.createElementVNode)('div',Za,[(0,r.createVNode)(ea)])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' åœ¨åœºè§’è‰²é¡µé¢ '),'characters'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ja,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[11]||(f[11]=e=>c('main'))},[...f[49]||(f[49]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),f[50]||(f[50]=(0,r.createElementVNode)('div',{class:'block-title'},[(0,r.createElementVNode)('i',{class:'fas fa-users'}),(0,r.createTextVNode)(' åœ¨åœºè§’è‰²')],-1)),(0,r.createVNode)(Ct)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' ç”¨æˆ·çŠ¶æ€é¡µé¢ '),'user'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ka,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[12]||(f[12]=e=>c('main'))},[...f[51]||(f[51]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),f[52]||(f[52]=(0,r.createElementVNode)('div',{class:'block-title'},[(0,r.createElementVNode)('i',{class:'fas fa-user'}),(0,r.createTextVNode)(' ç”¨æˆ·çŠ¶æ€')],-1)),(0,r.createVNode)(b)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' ä¸ªäººçº¿é¡µé¢ '),'story'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Qa,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[13]||(f[13]=e=>c('main'))},[...f[53]||(f[53]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),f[54]||(f[54]=(0,r.createElementVNode)('div',{class:'block-title'},[(0,r.createElementVNode)('i',{class:'fas fa-book'}),(0,r.createTextVNode)(' ä¸ªäººçº¿')],-1)),(0,r.createVNode)(va)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' ä¸ªäººçº¿è¯¦æƒ…é¡µé¢ '),'story-detail'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Xa,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[14]||(f[14]=e=>c('story'))},[...f[55]||(f[55]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å›',-1)])]),(0,r.createElementVNode)('div',Ya,[f[56]||(f[56]=(0,r.createElementVNode)('i',{class:'fas fa-book-open'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(l.value),1)]),(0,r.createElementVNode)('div',en,[s.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',an,[(0,r.createElementVNode)('div',nn,[f[58]||(f[58]=(0,r.createElementVNode)('strong',null,'çŠ¶æ€ï¼š',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(p())},(0,r.toDisplayString)(d.value),3)]),Object.keys(s.value.ç»“å±€).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',ln,[f[61]||(f[61]=(0,r.createElementVNode)('div',{class:'endings-title'},'ğŸ“š ç»“å±€',-1)),(0,r.createElementVNode)('div',on,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value.ç»“å±€,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:(0,r.normalizeClass)(['ending-item',{'ending-completed':i(e)}])},[(0,r.createElementVNode)('div',rn,[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['ending-name',{'ending-name-completed':i(e)}])},(0,r.toDisplayString)(a),3),i(e)?((0,r.openBlock)(),(0,r.createElementBlock)('span',cn,'âœ¨ å·²è¾¾æˆ')):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' ç»“å±€è¯´æ˜ '),e.è¯´æ˜?((0,r.openBlock)(),(0,r.createElementBlock)('div',sn,[f[59]||(f[59]=(0,r.createElementVNode)('div',{class:'description-title'},'è¯´æ˜',-1)),(0,r.createElementVNode)('p',dn,(0,r.toDisplayString)(e.è¯´æ˜),1)])):(0,r.createCommentVNode)('v-if',!0),Object.keys(e.è¾¾æˆæ¡ä»¶).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',mn,[f[60]||(f[60]=(0,r.createElementVNode)('div',{class:'conditions-title'},'è¾¾æˆæ¡ä»¶',-1)),(0,r.createElementVNode)('div',un,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.è¾¾æˆæ¡ä»¶,(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:n,class:(0,r.normalizeClass)(['condition-item',{'condition-met':e}]),onClick:o=>function(e,a,n){if(!s.value||!s.value.ç»“å±€||!s.value.ç»“å±€[e])return;const o=n?'å–æ¶ˆå®Œæˆæ¡ä»¶':'æ ‡è®°ä¸ºå·²å®Œæˆ',r=n?`ç¡®å®šè¦å–æ¶ˆå®Œæˆæ¡ä»¶ã€Œ${a}ã€å—ï¼Ÿ`:`ç¡®å®šè¦æ ‡è®°æ¡ä»¶ã€Œ${a}ã€ä¸ºå·²å®Œæˆå—ï¼Ÿ`,c=document.createElement('div');c.innerHTML=`\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 320px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">${o}</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">${r}</p>\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-confirm" style="\n            flex: 1;\n            padding: 12px;\n            background: ${n?'var(--red, #f38ba8)':'var(--blue, #89b4fa)'};\n            color: #1e1e2e;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">${n?'å–æ¶ˆå®Œæˆ':'ç¡®è®¤å®Œæˆ'}</button>\n          <button id="btn-cancel" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--surface-color, #313244);\n            color: var(--text-color, #cdd6f4);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">å–æ¶ˆ</button>\n        </div>\n      </div>\n    </div>\n  `,document.body.appendChild(c),c.querySelector('#btn-confirm')?.addEventListener('click',()=>{const o={...s.value,ç»“å±€:{...s.value.ç»“å±€,[e]:{...s.value.ç»“å±€[e],è¾¾æˆæ¡ä»¶:{...s.value.ç»“å±€[e].è¾¾æˆæ¡ä»¶,[a]:!n}}}};t.data.ä¸ªäººçº¿={...t.data.ä¸ªäººçº¿,[l.value]:o},console.log('æ¡ä»¶çŠ¶æ€å·²æ›´æ–°:',{ç»“å±€:e,æ¡ä»¶:a,æ–°çŠ¶æ€:!n}),document.body.removeChild(c)}),c.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(c)}),c.firstElementChild?.addEventListener('click',e=>{e.target===c.firstElementChild&&document.body.removeChild(c)})}(a,n,e)},[(0,r.createElementVNode)('span',vn,(0,r.toDisplayString)(n),1),(0,r.createElementVNode)('span',fn,(0,r.toDisplayString)(e?'âœ“':'âœ—'),1)],10,pn))),128))])])):(0,r.createCommentVNode)('v-if',!0)],2))),128))])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',bn,[...f[62]||(f[62]=[(0,r.createElementVNode)('span',{class:'no-endings-text'},'æš‚æœªè¾¾æˆä»»ä½•ç»“å±€',-1)])]))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',tn,[...f[57]||(f[57]=[(0,r.createElementVNode)('span',null,'åŠ è½½ä¸ªäººçº¿ä¿¡æ¯ä¸­...',-1)])]))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' è§’è‰²è¯¦æƒ…é¡µé¢ '),'character-detail'===a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',gn,[(0,r.createElementVNode)('button',{class:'back-btn view-btn',onClick:f[15]||(f[15]=e=>c(o.value))},[...f[63]||(f[63]=[(0,r.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,r.createTextVNode)(' è¿”å› ',-1)])]),(0,r.createElementVNode)('div',kn,[f[64]||(f[64]=(0,r.createElementVNode)('i',{class:'fas fa-user'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(n.value),1)]),(0,r.createVNode)(Ze,{characterName:n.value},null,8,['characterName'])])):(0,r.createCommentVNode)('v-if',!0)])}}}),En=(0,oe.A)(yn,[['__scopeId','data-v-60888edd']]);let Nn=new Map,hn=!1;async function Vn(){if(!hn){try{const e=await getWorldbook('è§’è‰²ä»‹ç»');if(e&&e.length>0){const t=e.find(e=>'è§’è‰²ä»‹ç»'===e.name);if(t&&t.content){const e=function(e){const t=new Map,a=e.split('\n');let n='',l=[];for(const e of a){const a=e.trim();if(a.startsWith('- name:'))n&&l.length>0&&t.set(n,l.join('\n').trim()),n=a.replace('- name:','').trim(),l=[];else{if(a.startsWith('content: |'))continue;n&&a.startsWith('    ')&&l.push(a.substring(4))}}n&&l.length>0&&t.set(n,l.join('\n').trim());return t}(t.content);Nn=e,console.log('ä»ä¸–ç•Œä¹¦åŠ è½½è§’è‰²ä»‹ç»æˆåŠŸ')}}}catch(e){console.log('ä¸–ç•Œä¹¦"è§’è‰²ä»‹ç»"ä¸å­˜åœ¨æˆ–åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨ç©ºä»‹ç»')}hn=!0}}$(async()=>{await waitGlobalInitialized('Mvu'),await e(()=>_.has(getVariables({type:'message'}),'stat_data')),await x(),await Vn(),(0,r.createApp)(En).use(t()).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */.character-archive[data-v-393b741d]{padding:16px 0}.empty-state[data-v-393b741d]{text-align:center;padding:48px 20px;color:var(--subtext-color);font-style:italic}.empty-state p[data-v-393b741d]{margin:0;font-size:16px}.character-grid[data-v-393b741d]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.character-card[data-v-393b741d]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:12px;padding:16px;cursor:pointer;transition:all 0.3s ease;position:relative;overflow:hidden}.character-card[data-v-393b741d]:hover{border-color:var(--blue);box-shadow:0 4px 16px rgba(137,180,250,0.2);transform:translateY(-4px)}.character-avatar[data-v-393b741d]{width:80px;height:80px;margin:0 auto 12px;border-radius:50%;overflow:hidden;border:2px solid var(--border-color);background-color:var(--quote-bg-color);display:flex;align-items:center;justify-content:center}.character-avatar img[data-v-393b741d]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[data-v-393b741d]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:32px;color:var(--subtext-color)}.character-info[data-v-393b741d]{text-align:center}.character-name[data-v-393b741d]{font-size:16px;font-weight:600;color:var(--text-color);margin:0 0 12px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.character-stats[data-v-393b741d]{display:flex;justify-content:center;gap:16px}.stat-item[data-v-393b741d]{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--subtext-color)}.stat-item i[data-v-393b741d]{font-size:10px}.character-status-badge[data-v-393b741d]{position:absolute;top:8px;right:8px;padding:4px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase}.character-status-badge.present[data-v-393b741d]{background-color:rgba(74,222,128,0.2);color:var(--green)}.character-status-badge.absent[data-v-393b741d]{background-color:rgba(148,163,184,0.2);color:var(--subtext-color)}@media (max-width:480px){.character-grid[data-v-393b741d]{grid-template-columns:repeat(2,1fr);gap:12px}.character-card[data-v-393b741d]{padding:12px}.character-avatar[data-v-393b741d]{width:60px;height:60px}.character-name[data-v-393b741d]{font-size:14px}.character-stats[data-v-393b741d]{gap:8px}.stat-item[data-v-393b741d]{font-size:10px}}[data-v-393b741d]:root,body[data-theme='dark'][data-v-393b741d]{--bg-color:#1e1e2e;--card-bg-color:#181825;--text-color:#cdd6f4;--subtext-color:#a6adc8;--border-color:#313244;--tooltip-bg-color:#11111b;--quote-bg-color:rgba(0,0,0,0.2);--green:#a6e3a1;--pink:#f5c2e7;--purple:#cba6f7;--red:#f38ba8;--blue:#89b4fa;--grey-blue:#6c7086;--green-gradient:linear-gradient(45deg,#a6e3a1,#81c784);--pink-gradient:linear-gradient(45deg,#f5c2e7,#f06292);--purple-gradient:linear-gradient(45deg,#cba6f7,#9575cd);--red-gradient:linear-gradient(45deg,#f38ba8,#e67a85);--grey-blue-gradient:linear-gradient(45deg,#6c7086,#546e7a)}body[data-theme='light'][data-v-393b741d]{--bg-color:#eff1f5;--card-bg-color:#ffffff;--text-color:#4c4f69;--subtext-color:#6c6f85;--border-color:#ccd0da;--tooltip-bg-color:#5c5f77;--quote-bg-color:#e6e9ef;--green:#40a02b;--pink:#e64584;--purple:#8839ef;--red:#d20f39;--blue:#1e66f5;--grey-blue:#8c8fa1;--green-gradient:linear-gradient(45deg,#66bb6a,#43a047);--pink-gradient:linear-gradient(45deg,#ec407a,#d81b60);--purple-gradient:linear-gradient(45deg,#ab47bc,#8e24aa);--red-gradient:linear-gradient(45deg,#e57373,#d32f2f);--grey-blue-gradient:linear-gradient(45deg,#78909c,#607d8b)}@keyframes card-enter-393b741d{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes button-click-effect-393b741d{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes progress-bar-fill-anim-393b741d{from{width:0}}.status-panel-container[data-v-393b741d]{position:relative;width:95%;max-width:500px;max-height:600px;margin:10px auto;background-color:var(--bg-color);background-image:url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23313244" fill-opacity="0.1" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zM6 5v1H5z"/%3E%3C/g%3E%3C/svg%3E');border:1px solid transparent;border-image:linear-gradient(to bottom right,var(--blue),var(--purple)) 1;border-radius:12px;font-family:'Segoe UI','Microsoft YaHei',system-ui,sans-serif;color:var(--text-color);padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);box-sizing:border-box;transition:background-color 0.3s,border-color 0.3s;overflow-y:auto}#theme-toggle-btn[data-v-393b741d]{position:absolute;top:16px;right:16px;background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background-color 0.2s,color 0.2s,border-color 0.3s,transform 0.2s;z-index:1000}#theme-toggle-btn[data-v-393b741d]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.1)}#theme-toggle-btn[data-v-393b741d]:active{animation:button-click-effect-393b741d 0.2s ease-out}body[data-theme='dark'] .fa-sun[data-v-393b741d]{display:none}body[data-theme='light'] .fa-moon[data-v-393b741d]{display:none}.scene-info[data-v-393b741d]{margin-bottom:24px}.block-title[data-v-393b741d]{font-size:1.25em;font-weight:bold;color:var(--blue);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);display:flex;align-items:center}.block-title i[data-v-393b741d]{margin-right:8px;transition:transform 0.2s}.block-title:hover i[data-v-393b741d]{transform:scale(1.1)}.info-line[data-v-393b741d]{font-size:1em;margin-bottom:8px;color:var(--subtext-color);display:flex;align-items:center}.info-line i[data-v-393b741d]{margin-right:10px;width:20px;text-align:center;color:var(--blue);transition:transform 0.2s}.info-line:hover i[data-v-393b741d]{transform:scale(1.1)}.info-line strong[data-v-393b741d]{color:var(--text-color)}.char-card[data-v-393b741d]{background-color:var(--card-bg-color);border-radius:12px;margin-bottom:16px;border:1px solid var(--border-color);border-left:4px solid var(--pink);box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s ease-out,box-shadow 0.2s ease-out,background-color 0.3s,border-color 0.3s;overflow:hidden;animation:card-enter-393b741d 0.5s ease-out forwards;cursor:pointer}.char-card[data-v-393b741d]:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.char-name[data-v-393b741d]{font-size:1.4em;font-weight:bold;color:var(--pink);padding:16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.char-name[data-v-393b741d]:hover{background-color:rgba(255,255,255,0.05)}.char-name .collapse-icon[data-v-393b741d]{width:1em;height:1em;transition:transform 0.3s ease-out}.char-card.collapsed .collapse-icon[data-v-393b741d]{transform:rotate(180deg)}.char-details[data-v-393b741d]{font-size:0.95em;line-height:1.7;padding:0 16px 16px 16px;max-height:1000px;transition:max-height 0.4s ease-in-out,padding 0.4s ease-in-out}.char-card.collapsed .char-details[data-v-393b741d]{max-height:0;padding-top:0;padding-bottom:0}.char-details .detail-item[data-v-393b741d]{display:flex;align-items:center;margin:4px 0;color:var(--subtext-color)}.char-details .detail-item i[data-v-393b741d]{margin-right:8px;width:18px;text-align:center;transition:transform 0.2s}.char-details .detail-item:hover i[data-v-393b741d]{transform:scale(1.2)}.char-details .detail-item strong[data-v-393b741d]{color:var(--text-color)}.status-highlight-yes[data-v-393b741d]{color:var(--green);font-weight:bold}.status-highlight-no[data-v-393b741d]{color:var(--grey-blue)}.stat-bar-container[data-v-393b741d]{margin-top:12px}.stat-bar-label[data-v-393b741d]{display:flex;justify-content:space-between;font-size:0.9em;margin-bottom:6px;color:var(--subtext-color);align-items:center}.stat-bar-title[data-v-393b741d]{display:flex;align-items:center;position:relative;cursor:default}.stat-bar-title i[data-v-393b741d]{margin-right:6px;transition:transform 0.2s}.stat-bar-title:hover i[data-v-393b741d]{transform:scale(1.2)}.stat-bar-title[data-tooltip][data-v-393b741d]::after{content:attr(data-tooltip);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background-color:var(--tooltip-bg-color);color:var(--text-color);padding:6px 10px;border-radius:6px;font-size:0.8em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;z-index:10}.stat-bar-title[data-tooltip][data-v-393b741d]:hover::after{opacity:1;visibility:visible}.stat-bar-value[data-v-393b741d]{font-weight:bold;color:var(--text-color)}.progress-bar[data-v-393b741d]{width:100%;height:14px;background-color:var(--border-color);border-radius:6px;overflow:hidden}.progress-bar-fill[data-v-393b741d]{height:100%;border-radius:6px;transition:width 0.6s ease-out}.magic-bar[data-v-393b741d]{background:var(--green-gradient)}.favor-bar-positive[data-v-393b741d]{background:var(--pink-gradient)}.favor-bar-negative[data-v-393b741d]{background:var(--grey-blue-gradient)}.corruption-bar[data-v-393b741d]{background:var(--purple-gradient)}.lust-bar[data-v-393b741d]{background:var(--red-gradient)}.thought-block[data-v-393b741d]{margin-top:16px;padding:12px;background-color:var(--quote-bg-color);border-left:3px solid var(--blue);border-radius:0 6px 6px 0}.thought-block .thought-title[data-v-393b741d]{display:flex;align-items:center;font-weight:bold;margin-bottom:6px;color:var(--subtext-color);font-size:0.9em}.thought-block .thought-title i[data-v-393b741d]{margin-right:6px;transition:transform 0.2s}.thought-block .thought-title:hover i[data-v-393b741d]{transform:scale(1.2)}.thought-block p[data-v-393b741d]{margin:0;color:var(--text-color);font-size:0.95em}.view-toggle-buttons[data-v-393b741d]{margin-left:auto;display:flex;gap:8px}.view-btn[data-v-393b741d]{background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);padding:4px 10px;border-radius:20px;cursor:pointer;font-size:0.8em;transition:background-color 0.2s,color 0.2s,transform 0.2s}.view-btn[data-v-393b741d]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.05)}.view-btn[data-v-393b741d]:active{animation:button-click-effect-393b741d 0.2s ease-out}.view-btn.active[data-v-393b741d]{background-color:var(--blue);color:var(--bg-color);border-color:var(--blue)}.menu-buttons[data-v-393b741d]{display:flex;justify-content:space-around;gap:16px;margin-top:24px;padding:10px 0}.menu-btn[data-v-393b741d]{background-color:var(--card-bg-color);border:1px solid var(--border-color);color:var(--text-color);width:90px;height:90px;border-radius:16px;cursor:pointer;font-size:0.9em;transition:background-color 0.2s,transform 0.2s,box-shadow 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:0}.menu-btn[data-v-393b741d]:hover{background-color:var(--border-color);transform:translateY(-4px);box-shadow:0 6px 12px rgba(0,0,0,0.1)}.menu-btn[data-v-393b741d]:active{animation:button-click-effect-393b741d 0.2s ease-out}.menu-btn i[data-v-393b741d]{margin-right:0;font-size:2em;color:var(--blue)}.back-btn[data-v-393b741d]{margin-bottom:16px}.off-scene-char[data-v-393b741d]{display:flex;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border-color);font-size:0.95em}.off-scene-char[data-v-393b741d]:last-child{border-bottom:none}.off-scene-char-name[data-v-393b741d]{font-weight:bold;color:var(--text-color)}.off-scene-char-stats[data-v-393b741d]{color:var(--subtext-color)}.user-terminal[data-v-393b741d]{padding:16px}.user-stats-grid[data-v-393b741d]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-bottom:24px}.user-stat-item[data-v-393b741d]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--border-color)}.user-stat-item .stat-label[data-v-393b741d]{font-size:0.9em;color:var(--subtext-color);margin-bottom:6px}.user-stat-item .stat-value[data-v-393b741d]{font-size:1.5em;font-weight:bold;color:var(--text-color)}.skills-section .section-title[data-v-393b741d]{font-size:1.1em;font-weight:bold;color:var(--text-color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.skill-list[data-v-393b741d]{list-style:none;padding:0;margin:0}.skill-item[data-v-393b741d]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;margin-bottom:10px;border-left:3px solid var(--purple)}.skill-item-header[data-v-393b741d]{display:flex;justify-content:space-between;font-weight:bold}.skill-item .skill-name[data-v-393b741d]{color:var(--text-color)}.skill-item .skill-cost[data-v-393b741d]{color:var(--purple)}.skill-item .skill-description[data-v-393b741d]{font-size:0.9em;color:var(--subtext-color);margin-top:6px}[data-v-393b741d]::-webkit-scrollbar{width:8px}[data-v-393b741d]::-webkit-scrollbar-track{background-color:var(--border-color);border-radius:4px}[data-v-393b741d]::-webkit-scrollbar-thumb{background-color:var(--grey-blue);border-radius:4px}[data-v-393b741d]::-webkit-scrollbar-thumb:hover{background-color:var(--blue)}@media (max-width:600px){.status-panel-container[data-v-393b741d]{width:100%;margin:0;border-radius:0}.menu-buttons[data-v-393b741d]{flex-wrap:wrap;gap:12px}.menu-btn[data-v-393b741d]{flex:1;min-width:80px}.user-stats-grid[data-v-393b741d]{grid-template-columns:repeat(2,1fr)}}.loading[data-v-393b741d]{display:flex;justify-content:center;align-items:center;padding:20px;color:var(--subtext-color)}.loading[data-v-393b741d]::after{content:'';width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--blue);border-radius:50%;animation:spin-393b741d 1s linear infinite;margin-left:10px}@keyframes spin-393b741d{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.error-message[data-v-393b741d]{color:var(--red);padding:12px;background-color:rgba(243,139,168,0.1);border:1px solid var(--red);border-radius:8px;margin:16px 0}.success-message[data-v-393b741d]{color:var(--green);padding:12px;background-color:rgba(166,227,161,0.1);border:1px solid var(--green);border-radius:8px;margin:16px 0}.description-card[data-v-393b741d]{margin-top:16px;animation:card-enter-393b741d 0.5s ease-out}.description-card .description-title[data-v-393b741d]{display:flex;align-items:center;font-weight:bold;margin-bottom:12px;color:var(--text-color);font-size:1.1em;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.description-card .description-title i[data-v-393b741d]{margin-right:8px;color:var(--blue);transition:transform 0.2s}.description-card .description-title:hover i[data-v-393b741d]{transform:scale(1.2)}.description-card .description-content[data-v-393b741d]{background-color:var(--quote-bg-color);border-radius:8px;padding:16px}.description-card .description-text[data-v-393b741d]{color:var(--text-color);font-size:0.95em;line-height:1.8;white-space:pre-wrap}

.character-detail-panel[data-v-5ebed4b2]{display:flex;flex-direction:column;gap:16px;min-height:400px}.character-detail-content[data-v-5ebed4b2]{display:flex;flex-direction:column;gap:16px}.avatar-section[data-v-5ebed4b2]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:0;background-color:rgba(0,0,0,0);border:none;border-radius:12px;overflow:hidden;position:relative;min-height:350px}.avatar-banner[data-v-5ebed4b2]{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:0}.character-avatar-img[data-v-5ebed4b2]{width:100%;height:100%;object-fit:cover;object-position:center center}.avatar-bottom-content[data-v-5ebed4b2]{position:absolute;bottom:0;left:0;right:0;z-index:2}.avatar-text-gradient[data-v-5ebed4b2]{position:absolute;bottom:0;left:0;right:0;height:180px;background:linear-gradient(to top,var(--card-bg-color) 0%,var(--card-bg-color) 30%,transparent 100%);pointer-events:none}.avatar-text-wrapper[data-v-5ebed4b2]{position:relative;padding:80px 20px 20px;text-align:center}.avatar-placeholder-large[data-v-5ebed4b2]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:64px;color:var(--subtext-color)}.change-avatar-btn[data-v-5ebed4b2]{position:absolute;bottom:120px;right:12px;width:36px;height:36px;border-radius:50%;background-color:var(--blue);border:2px solid var(--card-bg-color);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;box-shadow:0 2px 8px rgba(0,0,0,.2);z-index:3}.change-avatar-btn[data-v-5ebed4b2]:hover{background-color:var(--blue-hover,#6d9cf3);transform:scale(1.1)}.character-title[data-v-5ebed4b2]{font-size:24px;font-weight:700;color:var(--text-color);margin-bottom:8px}.avatar-history[data-v-5ebed4b2]{width:100%;margin-top:8px}.history-title[data-v-5ebed4b2]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;text-align:center}.history-list[data-v-5ebed4b2]{display:flex;justify-content:center;gap:8px;flex-wrap:wrap}.history-item[data-v-5ebed4b2]{position:relative;width:48px;height:48px;border-radius:8px;overflow:hidden;border:2px solid var(--border-color);cursor:pointer;transition:all .2s;background-color:var(--quote-bg-color)}.history-item[data-v-5ebed4b2]:hover{border-color:var(--blue);transform:scale(1.1)}.history-item.active[data-v-5ebed4b2]{border-color:var(--green);box-shadow:0 0 0 2px rgba(74,222,128,.3)}.history-item.error[data-v-5ebed4b2]{display:none}.history-item img[data-v-5ebed4b2]{width:100%;height:100%;object-fit:cover}.delete-avatar-btn[data-v-5ebed4b2]{position:absolute;top:2px;right:2px;width:16px;height:16px;border-radius:50%;background-color:var(--red);border:1px solid var(--card-bg-color);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;opacity:0;z-index:10}.delete-avatar-btn i[data-v-5ebed4b2]{font-size:10px}.history-item:hover .delete-avatar-btn[data-v-5ebed4b2]{opacity:1}.delete-avatar-btn[data-v-5ebed4b2]:hover{background-color:#e06c75;transform:scale(1.2)}.description-card[data-v-5ebed4b2]{margin-top:16px}.description-title[data-v-5ebed4b2]{font-size:14px;font-weight:600;color:var(--text-color);margin-bottom:12px;display:flex;align-items:center;gap:8px}.description-title i[data-v-5ebed4b2]{color:var(--blue)}.description-content[data-v-5ebed4b2]{font-size:14px;line-height:1.6;color:var(--subtext-color);padding:0 8px;white-space:pre-wrap;word-wrap:break-word}.description-item[data-v-5ebed4b2]{margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid var(--border-color)}.description-item[data-v-5ebed4b2]:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.additional-info[data-v-5ebed4b2]{margin-top:16px}.info-grid[data-v-5ebed4b2]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.info-item[data-v-5ebed4b2]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;border:1px solid var(--border-color);font-size:.9em}.info-item strong[data-v-5ebed4b2]{color:var(--text-color);margin-right:4px}.info-item span[data-v-5ebed4b2]{color:var(--subtext-color)}
.characters-panel[data-v-5675bb57]{display:flex;flex-direction:column;gap:16px;max-height:500px;overflow-y:auto;padding-right:8px}.characters-panel[data-v-5675bb57]::-webkit-scrollbar{width:6px}.characters-panel[data-v-5675bb57]::-webkit-scrollbar-track{background:var(--background-color);border-radius:3px}.characters-panel[data-v-5675bb57]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.characters-panel[data-v-5675bb57]::-webkit-scrollbar-thumb:hover{background:var(--subtext-color)}.empty-state[data-v-5675bb57]{text-align:center;padding:24px;color:var(--subtext-color);font-style:italic}.characters-list[data-v-5675bb57]{display:flex;flex-direction:column;gap:12px}.char-card[data-v-5675bb57]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;transition:all .2s}.char-card[data-v-5675bb57]:hover{border-color:var(--hover-color);box-shadow:0 2px 8px rgba(0,0,0,.1)}.char-name[data-v-5675bb57]{padding:12px 16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;background-color:rgba(0,0,0,.1)}.char-name[data-v-5675bb57]:hover{background-color:rgba(0,0,0,.15)}.char-name-left[data-v-5675bb57]{display:flex;align-items:center;gap:10px}.char-avatar[data-v-5675bb57]{width:64px;height:64px;border-radius:50%;object-fit:cover;border:2px solid var(--border-color)}.char-avatar-placeholder[data-v-5675bb57]{width:64px;height:64px;border-radius:50%;background-color:var(--background-color);border:2px solid var(--border-color);display:flex;align-items:center;justify-content:center;color:var(--subtext-color);font-size:28px}.char-name-text[data-v-5675bb57]{font-weight:500}.collapse-icon[data-v-5675bb57]{width:16px;height:16px;transition:transform .3s ease}.collapse-icon.rotated[data-v-5675bb57]{transform:rotate(180deg)}.character-detail[data-v-5675bb57]{padding:16px;border-top:1px solid var(--border-color);animation:slideDown-5675bb57 .3s ease}@keyframes slideDown-5675bb57{from{opacity:0;max-height:0;overflow:hidden}to{opacity:1;max-height:500px;overflow:hidden}}.char-details[data-v-5675bb57]{display:flex;flex-direction:column;gap:12px}.detail-item[data-v-5675bb57]{display:flex;align-items:center;gap:8px;font-size:14px}.detail-item i[data-v-5675bb57]{width:16px;text-align:center;color:var(--text-color)}.detail-item strong[data-v-5675bb57]{color:var(--text-color);font-weight:600}.detail-item span[data-v-5675bb57]{color:var(--subtext-color)}.status-highlight-yes[data-v-5675bb57]{color:var(--green);font-weight:600}.status-highlight-no[data-v-5675bb57]{color:var(--red);font-weight:600}.stat-bar-container[data-v-5675bb57]{margin-top:8px}.stat-bar-label[data-v-5675bb57]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;font-size:13px}.stat-bar-title[data-v-5675bb57]{display:flex;align-items:center;gap:6px;color:var(--text-color)}.stat-bar-value[data-v-5675bb57]{color:var(--subtext-color);font-size:12px;font-weight:500}.progress-bar[data-v-5675bb57]{height:8px;background-color:rgba(0,0,0,.2);border-radius:4px;overflow:hidden}.progress-bar-fill[data-v-5675bb57]{height:100%;border-radius:4px;transition:width .3s ease}.magic-bar[data-v-5675bb57]{background-color:var(--green)}.favor-bar-positive[data-v-5675bb57]{background-color:var(--pink)}.favor-bar-negative[data-v-5675bb57]{background-color:var(--red)}.corruption-bar[data-v-5675bb57]{background-color:var(--purple)}.lust-bar[data-v-5675bb57]{background-color:var(--red)}.thought-block[data-v-5675bb57]{margin-top:12px;padding:12px;background-color:rgba(0,0,0,.1);border-radius:6px;border-left:3px solid var(--blue)}.thought-title[data-v-5675bb57]{font-size:13px;font-weight:600;color:var(--text-color);margin-bottom:6px;display:flex;align-items:center;gap:6px}.thought-block p[data-v-5675bb57]{font-size:13px;color:var(--subtext-color);line-height:1.4;margin:0}
.skills-panel[data-v-b5026c5c]{display:flex;flex-direction:column;gap:16px}.panel-title[data-v-b5026c5c]{margin:0 0 8px 0;font-size:16px;color:var(--subtext-color);border-bottom:1px solid var(--border-color);padding-bottom:8px}.skill-points-display[data-v-b5026c5c]{margin-bottom:8px}.points-card[data-v-b5026c5c]{display:flex;align-items:center;gap:12px;background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:14px 18px}.points-icon[data-v-b5026c5c]{font-size:28px}.points-info[data-v-b5026c5c]{display:flex;flex-direction:column;gap:2px}.points-value[data-v-b5026c5c]{font-size:24px;font-weight:700;color:var(--text-color)}.points-label[data-v-b5026c5c]{font-size:12px;color:var(--subtext-color)}.magic-max-upgrade[data-v-b5026c5c]{background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:16px;margin-bottom:16px}.upgrade-header[data-v-b5026c5c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.upgrade-title[data-v-b5026c5c]{font-size:14px;font-weight:600;color:var(--text-color)}.current-magic-max[data-v-b5026c5c]{font-size:13px;color:var(--subtext-color)}.upgrade-controls[data-v-b5026c5c]{display:flex;gap:12px;margin-bottom:12px}.input-group[data-v-b5026c5c]{flex:1;display:flex;flex-direction:column;gap:6px}.input-label[data-v-b5026c5c]{font-size:12px;color:var(--subtext-color);font-weight:500}.upgrade-input[data-v-b5026c5c]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;background:var(--bg-color);color:var(--text-color);font-size:14px;transition:all .2s}.upgrade-input[data-v-b5026c5c]:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(137,180,250,.1)}.upgrade-button[data-v-b5026c5c]{padding:8px 16px;background:var(--blue);border:none;border-radius:6px;color:var(--bg-color);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}.upgrade-button[data-v-b5026c5c]:hover:not(.disabled){background:var(--blue);opacity:.9;transform:translateY(-1px);box-shadow:0 4px 12px rgba(137,180,250,.3)}.upgrade-button[data-v-b5026c5c]:active:not(.disabled){transform:translateY(0)}.upgrade-button.disabled[data-v-b5026c5c]{background:var(--border-color);color:var(--subtext-color);cursor:not-allowed}.upgrade-info[data-v-b5026c5c]{display:flex;justify-content:space-between;font-size:12px;color:var(--subtext-color);padding-top:8px;border-top:1px solid var(--border-color)}.upgrade-cost[data-v-b5026c5c]{color:var(--red);font-weight:500}.upgrade-result[data-v-b5026c5c]{color:var(--green);font-weight:500}.skills-list[data-v-b5026c5c]{display:flex;flex-direction:column;gap:12px}.skill-card[data-v-b5026c5c]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:14px;transition:all .2s}.skill-card[data-v-b5026c5c]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2)}.skill-card.learned[data-v-b5026c5c]{border-color:var(--green);background:var(--card-bg-color)}.skill-card.disabled[data-v-b5026c5c]{opacity:.6}.skill-header[data-v-b5026c5c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.skill-title[data-v-b5026c5c]{display:flex;align-items:center;gap:8px}.learned-badge[data-v-b5026c5c]{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;background-color:var(--green);color:var(--bg-color);border-radius:50%;font-size:12px;font-weight:bold}.skill-name[data-v-b5026c5c]{font-size:15px;font-weight:600;color:var(--text-color)}.skill-cost-badge[data-v-b5026c5c]{font-size:11px;color:var(--subtext-color);background-color:var(--card-bg-color);padding:4px 8px;border-radius:4px;border:1px solid var(--border-color)}.skill-description[data-v-b5026c5c]{margin:0 0 12px 0;font-size:13px;color:var(--subtext-color);line-height:1.5}.learn-button[data-v-b5026c5c]{width:100%;padding:10px;background:var(--blue);border:none;border-radius:6px;color:var(--bg-color);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s}.learn-button[data-v-b5026c5c]:hover:not(.disabled){background:var(--blue);opacity:.9;transform:translateY(-1px);box-shadow:0 4px 12px rgba(137,180,250,.3)}.learn-button[data-v-b5026c5c]:active:not(.disabled){transform:translateY(0)}.learn-button.disabled[data-v-b5026c5c]{background:var(--border-color);color:var(--subtext-color);cursor:not-allowed}.learned-status[data-v-b5026c5c]{text-align:center;padding:10px;background-color:var(--card-bg-color);border-radius:6px;border:1px solid var(--green)}.learned-text[data-v-b5026c5c]{color:var(--green);font-size:13px;font-weight:600}.empty-skills[data-v-b5026c5c]{text-align:center;padding:24px;color:var(--subtext-color);font-style:italic}@keyframes skill-learned-b5026c5c{0%{transform:scale(1);box-shadow:0 0 0 0 rgba(166,227,161,.7)}50%{transform:scale(1.05);box-shadow:0 0 20px 10px rgba(166,227,161,.4)}100%{transform:scale(1);box-shadow:0 0 0 0 rgba(166,227,161,0)}}.skill-learned-animation[data-v-b5026c5c]{animation:skill-learned-b5026c5c 1s ease-in-out}
.story-panel[data-v-bb48bf38]{display:flex;flex-direction:column;gap:16px;max-height:500px;overflow-y:auto;padding-right:8px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar{width:6px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar-track{background:var(--border-color);border-radius:3px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar-thumb{background:var(--grey-blue);border-radius:3px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar-thumb:hover{background:var(--blue)}.panel-title[data-v-bb48bf38]{margin:0 0 8px 0;font-size:16px;color:var(--text-color);border-bottom:1px solid var(--border-color);padding-bottom:8px}.empty-state[data-v-bb48bf38]{text-align:center;padding:24px;color:var(--subtext-color);font-style:italic}.story-list[data-v-bb48bf38]{display:flex;flex-direction:column;gap:12px}.story-card[data-v-bb48bf38]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:14px;transition:all .2s;cursor:pointer}.story-card[data-v-bb48bf38]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-2px)}.story-card.completed[data-v-bb48bf38]{border-color:var(--green);background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(166,227,161,0.1) 100%)}.story-card.in-progress[data-v-bb48bf38]{border-color:#fbbf24;background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(251,191,36,0.1) 100%)}.story-header[data-v-bb48bf38]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.story-name[data-v-bb48bf38]{font-size:15px;font-weight:600;color:var(--text-color)}.story-header-right[data-v-bb48bf38]{display:flex;align-items:center;gap:12px}.story-status[data-v-bb48bf38]{font-size:11px;padding:4px 8px;border-radius:4px;font-weight:600;text-transform:uppercase}.story-header-right i[data-v-bb48bf38]{color:var(--subtext-color);font-size:14px;transition:transform .2s}.story-card:hover .story-header-right i[data-v-bb48bf38]{transform:translateX(4px);color:var(--text-color)}.story-preview[data-v-bb48bf38]{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color);font-size:13px}.endings-preview[data-v-bb48bf38]{color:var(--subtext-color)}.endings-count[data-v-bb48bf38]{font-weight:500}.no-endings-preview[data-v-bb48bf38]{color:var(--subtext-color);font-style:italic}.status-not-started[data-v-bb48bf38]{background-color:var(--grey-blue);color:var(--text-color)}.status-in-progress[data-v-bb48bf38]{background-color:#fbbf24;color:#1a1a2e}.status-completed[data-v-bb48bf38]{background-color:var(--green);color:#1a1a2e}.status-unknown[data-v-bb48bf38]{background-color:var(--grey-blue);color:var(--text-color)}.status-ending-completed[data-v-bb48bf38]{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#1a1a2e;font-weight:bold;animation:glow-bb48bf38 2s ease-in-out infinite alternate}.story-card.ending-completed[data-v-bb48bf38]{border-color:#f59e0b;background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(245,158,11,0.1) 100%);box-shadow:0 2px 8px rgba(245,158,11,.2)}.completed-endings-count[data-v-bb48bf38]{color:#f59e0b;font-weight:bold;margin-left:8px}@keyframes glow-bb48bf38{from{box-shadow:0 0 5px rgba(245,158,11,.5)}to{box-shadow:0 0 20px rgba(245,158,11,.8)}}.endings-section[data-v-bb48bf38]{margin-top:12px}.endings-title[data-v-bb48bf38]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;font-weight:500}.endings-list[data-v-bb48bf38]{display:flex;flex-wrap:wrap;gap:8px}.ending-item[data-v-bb48bf38]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:6px;padding:6px 10px;transition:all .2s}.ending-item[data-v-bb48bf38]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-1px)}.ending-header[data-v-bb48bf38]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.ending-name[data-v-bb48bf38]{font-size:12px;color:var(--text-color);font-weight:500}.ending-conditions[data-v-bb48bf38]{margin-top:6px;padding-top:6px;border-top:1px solid var(--border-color)}.conditions-title[data-v-bb48bf38]{font-size:10px;color:var(--subtext-color);margin-bottom:4px;font-weight:500}.conditions-list[data-v-bb48bf38]{display:flex;flex-direction:column;gap:4px}.condition-item[data-v-bb48bf38]{display:flex;justify-content:space-between;align-items:center;font-size:10px;padding:3px 6px;background-color:var(--quote-bg-color);border-radius:4px}.condition-item.condition-met[data-v-bb48bf38]{background-color:rgba(166,227,161,.1);border-left:2px solid var(--green)}.condition-name[data-v-bb48bf38]{color:var(--subtext-color)}.condition-status[data-v-bb48bf38]{font-weight:bold;margin-left:8px}.condition-item.condition-met .condition-status[data-v-bb48bf38]{color:var(--green)}.condition-item:not(.condition-met) .condition-status[data-v-bb48bf38]{color:var(--red)}.no-endings[data-v-bb48bf38]{margin-top:12px;padding:12px;background-color:var(--quote-bg-color);border-radius:6px;text-align:center}.no-endings-text[data-v-bb48bf38]{font-size:12px;color:var(--subtext-color);font-style:italic}
/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */[data-v-60888edd]:root,body[data-theme='dark'][data-v-60888edd]{--bg-color:#1e1e2e;--card-bg-color:#181825;--text-color:#cdd6f4;--subtext-color:#a6adc8;--border-color:#313244;--tooltip-bg-color:#11111b;--quote-bg-color:rgba(0,0,0,0.2);--green:#a6e3a1;--pink:#f5c2e7;--purple:#cba6f7;--red:#f38ba8;--blue:#89b4fa;--grey-blue:#6c7086;--green-gradient:linear-gradient(45deg,#a6e3a1,#81c784);--pink-gradient:linear-gradient(45deg,#f5c2e7,#f06292);--purple-gradient:linear-gradient(45deg,#cba6f7,#9575cd);--red-gradient:linear-gradient(45deg,#f38ba8,#e67a85);--grey-blue-gradient:linear-gradient(45deg,#6c7086,#546e7a)}body[data-theme='light'][data-v-60888edd]{--bg-color:#eff1f5;--card-bg-color:#ffffff;--text-color:#4c4f69;--subtext-color:#6c6f85;--border-color:#ccd0da;--tooltip-bg-color:#5c5f77;--quote-bg-color:#e6e9ef;--green:#40a02b;--pink:#e64584;--purple:#8839ef;--red:#d20f39;--blue:#1e66f5;--grey-blue:#8c8fa1;--green-gradient:linear-gradient(45deg,#66bb6a,#43a047);--pink-gradient:linear-gradient(45deg,#ec407a,#d81b60);--purple-gradient:linear-gradient(45deg,#ab47bc,#8e24aa);--red-gradient:linear-gradient(45deg,#e57373,#d32f2f);--grey-blue-gradient:linear-gradient(45deg,#78909c,#607d8b)}@keyframes card-enter-60888edd{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes button-click-effect-60888edd{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes progress-bar-fill-anim-60888edd{from{width:0}}.status-panel-container[data-v-60888edd]{position:relative;width:95%;max-width:500px;max-height:600px;margin:10px auto;background-color:var(--bg-color);background-image:url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23313244" fill-opacity="0.1" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zM6 5v1H5z"/%3E%3C/g%3E%3C/svg%3E');border:1px solid transparent;border-image:linear-gradient(to bottom right,var(--blue),var(--purple)) 1;border-radius:12px;font-family:'Segoe UI','Microsoft YaHei',system-ui,sans-serif;color:var(--text-color);padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);box-sizing:border-box;transition:background-color 0.3s,border-color 0.3s;overflow-y:auto}#theme-toggle-btn[data-v-60888edd]{position:absolute;top:16px;right:16px;background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background-color 0.2s,color 0.2s,border-color 0.3s,transform 0.2s;z-index:1000}#theme-toggle-btn[data-v-60888edd]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.1)}#theme-toggle-btn[data-v-60888edd]:active{animation:button-click-effect-60888edd 0.2s ease-out}body[data-theme='dark'] .fa-sun[data-v-60888edd]{display:none}body[data-theme='light'] .fa-moon[data-v-60888edd]{display:none}.scene-info[data-v-60888edd]{margin-bottom:24px}.block-title[data-v-60888edd]{font-size:1.25em;font-weight:bold;color:var(--blue);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);display:flex;align-items:center}.block-title i[data-v-60888edd]{margin-right:8px;transition:transform 0.2s}.block-title:hover i[data-v-60888edd]{transform:scale(1.1)}.info-line[data-v-60888edd]{font-size:1em;margin-bottom:8px;color:var(--subtext-color);display:flex;align-items:center}.info-line i[data-v-60888edd]{margin-right:10px;width:20px;text-align:center;color:var(--blue);transition:transform 0.2s}.info-line:hover i[data-v-60888edd]{transform:scale(1.1)}.info-line strong[data-v-60888edd]{color:var(--text-color)}.char-card[data-v-60888edd]{background-color:var(--card-bg-color);border-radius:12px;margin-bottom:16px;border:1px solid var(--border-color);border-left:4px solid var(--pink);box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s ease-out,box-shadow 0.2s ease-out,background-color 0.3s,border-color 0.3s;overflow:hidden;animation:card-enter-60888edd 0.5s ease-out forwards;cursor:pointer}.char-card[data-v-60888edd]:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.char-name[data-v-60888edd]{font-size:1.4em;font-weight:bold;color:var(--pink);padding:16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.char-name[data-v-60888edd]:hover{background-color:rgba(255,255,255,0.05)}.char-name .collapse-icon[data-v-60888edd]{width:1em;height:1em;transition:transform 0.3s ease-out}.char-card.collapsed .collapse-icon[data-v-60888edd]{transform:rotate(180deg)}.char-details[data-v-60888edd]{font-size:0.95em;line-height:1.7;padding:0 16px 16px 16px;max-height:1000px;transition:max-height 0.4s ease-in-out,padding 0.4s ease-in-out}.char-card.collapsed .char-details[data-v-60888edd]{max-height:0;padding-top:0;padding-bottom:0}.char-details .detail-item[data-v-60888edd]{display:flex;align-items:center;margin:4px 0;color:var(--subtext-color)}.char-details .detail-item i[data-v-60888edd]{margin-right:8px;width:18px;text-align:center;transition:transform 0.2s}.char-details .detail-item:hover i[data-v-60888edd]{transform:scale(1.2)}.char-details .detail-item strong[data-v-60888edd]{color:var(--text-color)}.status-highlight-yes[data-v-60888edd]{color:var(--green);font-weight:bold}.status-highlight-no[data-v-60888edd]{color:var(--grey-blue)}.stat-bar-container[data-v-60888edd]{margin-top:12px}.stat-bar-label[data-v-60888edd]{display:flex;justify-content:space-between;font-size:0.9em;margin-bottom:6px;color:var(--subtext-color);align-items:center}.stat-bar-title[data-v-60888edd]{display:flex;align-items:center;position:relative;cursor:default}.stat-bar-title i[data-v-60888edd]{margin-right:6px;transition:transform 0.2s}.stat-bar-title:hover i[data-v-60888edd]{transform:scale(1.2)}.stat-bar-title[data-tooltip][data-v-60888edd]::after{content:attr(data-tooltip);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background-color:var(--tooltip-bg-color);color:var(--text-color);padding:6px 10px;border-radius:6px;font-size:0.8em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;z-index:10}.stat-bar-title[data-tooltip][data-v-60888edd]:hover::after{opacity:1;visibility:visible}.stat-bar-value[data-v-60888edd]{font-weight:bold;color:var(--text-color)}.progress-bar[data-v-60888edd]{width:100%;height:14px;background-color:var(--border-color);border-radius:6px;overflow:hidden}.progress-bar-fill[data-v-60888edd]{height:100%;border-radius:6px;transition:width 0.6s ease-out}.magic-bar[data-v-60888edd]{background:var(--green-gradient)}.favor-bar-positive[data-v-60888edd]{background:var(--pink-gradient)}.favor-bar-negative[data-v-60888edd]{background:var(--grey-blue-gradient)}.corruption-bar[data-v-60888edd]{background:var(--purple-gradient)}.lust-bar[data-v-60888edd]{background:var(--red-gradient)}.thought-block[data-v-60888edd]{margin-top:16px;padding:12px;background-color:var(--quote-bg-color);border-left:3px solid var(--blue);border-radius:0 6px 6px 0}.thought-block .thought-title[data-v-60888edd]{display:flex;align-items:center;font-weight:bold;margin-bottom:6px;color:var(--subtext-color);font-size:0.9em}.thought-block .thought-title i[data-v-60888edd]{margin-right:6px;transition:transform 0.2s}.thought-block .thought-title:hover i[data-v-60888edd]{transform:scale(1.2)}.thought-block p[data-v-60888edd]{margin:0;color:var(--text-color);font-size:0.95em}.view-toggle-buttons[data-v-60888edd]{margin-left:auto;display:flex;gap:8px}.view-btn[data-v-60888edd]{background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);padding:4px 10px;border-radius:20px;cursor:pointer;font-size:0.8em;transition:background-color 0.2s,color 0.2s,transform 0.2s}.view-btn[data-v-60888edd]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.05)}.view-btn[data-v-60888edd]:active{animation:button-click-effect-60888edd 0.2s ease-out}.view-btn.active[data-v-60888edd]{background-color:var(--blue);color:var(--bg-color);border-color:var(--blue)}.menu-buttons[data-v-60888edd]{display:flex;justify-content:space-around;gap:16px;margin-top:24px;padding:10px 0}.menu-btn[data-v-60888edd]{background-color:var(--card-bg-color);border:1px solid var(--border-color);color:var(--text-color);width:90px;height:90px;border-radius:16px;cursor:pointer;font-size:0.9em;transition:background-color 0.2s,transform 0.2s,box-shadow 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:0}.menu-btn[data-v-60888edd]:hover{background-color:var(--border-color);transform:translateY(-4px);box-shadow:0 6px 12px rgba(0,0,0,0.1)}.menu-btn[data-v-60888edd]:active{animation:button-click-effect-60888edd 0.2s ease-out}.menu-btn i[data-v-60888edd]{margin-right:0;font-size:2em;color:var(--blue)}.back-btn[data-v-60888edd]{margin-bottom:16px}.off-scene-char[data-v-60888edd]{display:flex;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border-color);font-size:0.95em}.off-scene-char[data-v-60888edd]:last-child{border-bottom:none}.off-scene-char-name[data-v-60888edd]{font-weight:bold;color:var(--text-color)}.off-scene-char-stats[data-v-60888edd]{color:var(--subtext-color)}.user-terminal[data-v-60888edd]{padding:16px}.user-stats-grid[data-v-60888edd]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-bottom:24px}.user-stat-item[data-v-60888edd]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--border-color)}.user-stat-item .stat-label[data-v-60888edd]{font-size:0.9em;color:var(--subtext-color);margin-bottom:6px}.user-stat-item .stat-value[data-v-60888edd]{font-size:1.5em;font-weight:bold;color:var(--text-color)}.skills-section .section-title[data-v-60888edd]{font-size:1.1em;font-weight:bold;color:var(--text-color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.skill-list[data-v-60888edd]{list-style:none;padding:0;margin:0}.skill-item[data-v-60888edd]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;margin-bottom:10px;border-left:3px solid var(--purple)}.skill-item-header[data-v-60888edd]{display:flex;justify-content:space-between;font-weight:bold}.skill-item .skill-name[data-v-60888edd]{color:var(--text-color)}.skill-item .skill-cost[data-v-60888edd]{color:var(--purple)}.skill-item .skill-description[data-v-60888edd]{font-size:0.9em;color:var(--subtext-color);margin-top:6px}[data-v-60888edd]::-webkit-scrollbar{width:8px}[data-v-60888edd]::-webkit-scrollbar-track{background-color:var(--border-color);border-radius:4px}[data-v-60888edd]::-webkit-scrollbar-thumb{background-color:var(--grey-blue);border-radius:4px}[data-v-60888edd]::-webkit-scrollbar-thumb:hover{background-color:var(--blue)}@media (max-width:600px){.status-panel-container[data-v-60888edd]{width:100%;margin:0;border-radius:0}.menu-buttons[data-v-60888edd]{flex-wrap:wrap;gap:12px}.menu-btn[data-v-60888edd]{flex:1;min-width:80px}.user-stats-grid[data-v-60888edd]{grid-template-columns:repeat(2,1fr)}}.loading[data-v-60888edd]{display:flex;justify-content:center;align-items:center;padding:20px;color:var(--subtext-color)}.loading[data-v-60888edd]::after{content:'';width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--blue);border-radius:50%;animation:spin-60888edd 1s linear infinite;margin-left:10px}@keyframes spin-60888edd{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.error-message[data-v-60888edd]{color:var(--red);padding:12px;background-color:rgba(243,139,168,0.1);border:1px solid var(--red);border-radius:8px;margin:16px 0}.success-message[data-v-60888edd]{color:var(--green);padding:12px;background-color:rgba(166,227,161,0.1);border:1px solid var(--green);border-radius:8px;margin:16px 0}.description-card[data-v-60888edd]{margin-top:16px;animation:card-enter-60888edd 0.5s ease-out}.description-card .description-title[data-v-60888edd]{display:flex;align-items:center;font-weight:bold;margin-bottom:12px;color:var(--text-color);font-size:1.1em;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.description-card .description-title i[data-v-60888edd]{margin-right:8px;color:var(--blue);transition:transform 0.2s}.description-card .description-title:hover i[data-v-60888edd]{transform:scale(1.2)}.description-card .description-content[data-v-60888edd]{background-color:var(--quote-bg-color);border-radius:8px;padding:16px}.description-card .description-text[data-v-60888edd]{color:var(--text-color);font-size:0.95em;line-height:1.8;white-space:pre-wrap}.page-view[data-v-60888edd]{animation:card-enter-60888edd .5s ease-out forwards}.status-ending-completed[data-v-60888edd]{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#1a1a2e;font-weight:bold;animation:glow-60888edd 2s ease-in-out infinite alternate}.ending-item.ending-completed[data-v-60888edd]{border-color:#f59e0b;background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(245,158,11,0.1) 100%);box-shadow:0 2px 8px rgba(245,158,11,.2)}.ending-name.ending-name-completed[data-v-60888edd]{color:#f59e0b;font-weight:bold;text-shadow:0 0 8px rgba(245,158,11,.5)}.ending-completed-badge[data-v-60888edd]{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#1a1a2e;font-size:10px;padding:4px 8px;border-radius:4px;font-weight:bold;animation:glow-60888edd 2s ease-in-out infinite alternate}@keyframes glow-60888edd{from{box-shadow:0 0 5px rgba(245,158,11,.5)}to{box-shadow:0 0 20px rgba(245,158,11,.8)}}#characters-page[data-v-60888edd],#archive-page[data-v-60888edd],#terminal-page[data-v-60888edd],#skill-list-page[data-v-60888edd],#learn-skills-page[data-v-60888edd],#story-page[data-v-60888edd],#story-detail-page[data-v-60888edd],#character-detail-page[data-v-60888edd]{min-height:400px}.user-stats-section[data-v-60888edd]{margin:16px 0}.stats-grid[data-v-60888edd]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.stat-card[data-v-60888edd]{display:flex;flex-direction:column;align-items:center;gap:8px;background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:16px;text-align:center;transition:all .2s}.stat-card[data-v-60888edd]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-2px)}.stat-icon[data-v-60888edd]{font-size:32px}.stat-info[data-v-60888edd]{display:flex;flex-direction:column;gap:4px}.stat-value[data-v-60888edd]{font-size:24px;font-weight:700;color:var(--text-color)}.stat-value.positive[data-v-60888edd]{color:var(--green)}.stat-value.negative[data-v-60888edd]{color:var(--red)}.stat-label[data-v-60888edd]{font-size:12px;color:var(--subtext-color)}.skills-section[data-v-60888edd]{margin-top:24px}.skill-cards[data-v-60888edd]{display:flex;gap:16px;margin-bottom:16px}.skill-card[data-v-60888edd]{flex:1;background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:12px;padding:20px;cursor:pointer;transition:all .2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;text-align:center}.skill-card[data-v-60888edd]:hover{border-color:var(--blue);box-shadow:0 4px 16px rgba(137,180,250,.2);transform:translateY(-2px)}.skill-card-icon[data-v-60888edd]{width:64px;height:64px;display:flex;align-items:center;justify-content:center;color:var(--blue)}.skill-card-text[data-v-60888edd]{display:flex;align-items:center;gap:6px}.skill-card-title[data-v-60888edd]{font-size:16px;font-weight:600;color:var(--text-color)}.skill-card-count[data-v-60888edd]{font-size:14px;color:var(--subtext-color)}.skill-list-content[data-v-60888edd]{margin-top:16px}.learned-skills-list[data-v-60888edd]{display:flex;flex-direction:column;gap:12px}.learned-skill-item[data-v-60888edd]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:16px;transition:all .2s}.learned-skill-item[data-v-60888edd]:hover{border-color:var(--blue);box-shadow:0 4px 16px rgba(137,180,250,.15)}.skill-item-header[data-v-60888edd]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.skill-check[data-v-60888edd]{color:var(--green);margin-right:12px}.skill-name[data-v-60888edd]{flex:1;font-size:16px;font-weight:600;color:var(--text-color)}.skill-status[data-v-60888edd]{font-size:14px;font-weight:500;color:var(--green);background-color:rgba(74,222,128,.1);padding:4px 12px;border-radius:12px}.skill-description[data-v-60888edd]{font-size:14px;color:var(--subtext-color);line-height:1.4;margin-top:8px;padding-top:8px;border-top:1px solid var(--border-color)}.learn-skills-content[data-v-60888edd]{margin-top:8px}.story-detail-content[data-v-60888edd]{margin-top:20px;display:flex;flex-direction:column;gap:16px}.story-detail-card[data-v-60888edd]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:20px}.story-status[data-v-60888edd]{display:flex;align-items:center;gap:12px;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--border-color)}.story-status strong[data-v-60888edd]{color:var(--text-color)}.story-status span[data-v-60888edd]{font-size:14px;padding:6px 12px;border-radius:4px;font-weight:600;text-transform:uppercase}.status-not-started[data-v-60888edd]{background-color:#6a6a8a;color:#c0c0e0}.status-in-progress[data-v-60888edd]{background-color:#fbbf24;color:#1a1a2e}.status-completed[data-v-60888edd]{background-color:#4ade80;color:#1a1a2e}.status-unknown[data-v-60888edd]{background-color:#8888a8;color:#e0e0e0}.endings-section[data-v-60888edd]{margin-top:20px}.endings-title[data-v-60888edd]{font-size:14px;color:#8888a8;margin-bottom:12px;font-weight:500}.endings-list[data-v-60888edd]{display:flex;flex-direction:column;gap:16px}.ending-item[data-v-60888edd]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:6px;padding:12px 16px;transition:all .2s}.ending-item[data-v-60888edd]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-1px)}.ending-header[data-v-60888edd]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.ending-name[data-v-60888edd]{font-size:14px;color:var(--text-color);font-weight:500}.ending-description[data-v-60888edd]{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color)}.description-title[data-v-60888edd]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;font-weight:500}.description-content[data-v-60888edd]{font-size:13px;color:var(--text-color);line-height:1.4;margin:0;padding:8px 12px;background-color:var(--quote-bg-color);border-radius:4px}.ending-conditions[data-v-60888edd]{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color)}.conditions-title[data-v-60888edd]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;font-weight:500}.conditions-list[data-v-60888edd]{display:flex;flex-direction:column;gap:6px}.condition-item[data-v-60888edd]{display:flex;justify-content:space-between;align-items:center;font-size:12px;padding:6px 10px;background-color:var(--quote-bg-color);border-radius:4px;cursor:pointer;transition:all .2s}.condition-item[data-v-60888edd]:hover{background-color:var(--card-bg-color);border:1px solid var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-1px)}.condition-item.condition-met[data-v-60888edd]{background-color:rgba(74,222,128,.1);border-left:2px solid var(--green)}.condition-item.condition-met[data-v-60888edd]:hover{background-color:rgba(166,227,161,.2);border-color:var(--green);box-shadow:0 2px 8px rgba(166,227,161,.3)}.condition-name[data-v-60888edd]{color:var(--subtext-color)}.condition-status[data-v-60888edd]{font-weight:bold;margin-left:12px}.condition-item.condition-met .condition-status[data-v-60888edd]{color:var(--green)}.condition-item:not(.condition-met) .condition-status[data-v-60888edd]{color:var(--red)}.no-endings[data-v-60888edd]{margin-top:20px;padding:20px;background-color:var(--quote-bg-color);border-radius:6px;text-align:center}.no-endings-text[data-v-60888edd]{font-size:14px;color:var(--subtext-color);font-style:italic}.loading[data-v-60888edd]{text-align:center;padding:40px;color:var(--subtext-color);font-style:italic}
:root,body[data-theme='dark']{--bg-color:#1e1e2e;--card-bg-color:#181825;--text-color:#cdd6f4;--subtext-color:#a6adc8;--border-color:#313244;--tooltip-bg-color:#11111b;--quote-bg-color:rgba(0,0,0,0.2);--green:#a6e3a1;--pink:#f5c2e7;--purple:#cba6f7;--red:#f38ba8;--blue:#89b4fa;--grey-blue:#6c7086;--green-gradient:linear-gradient(45deg,#a6e3a1,#81c784);--pink-gradient:linear-gradient(45deg,#f5c2e7,#f06292);--purple-gradient:linear-gradient(45deg,#cba6f7,#9575cd);--red-gradient:linear-gradient(45deg,#f38ba8,#e67a85);--grey-blue-gradient:linear-gradient(45deg,#6c7086,#546e7a)}body[data-theme='light']{--bg-color:#eff1f5;--card-bg-color:#ffffff;--text-color:#4c4f69;--subtext-color:#6c6f85;--border-color:#ccd0da;--tooltip-bg-color:#5c5f77;--quote-bg-color:#e6e9ef;--green:#40a02b;--pink:#e64584;--purple:#8839ef;--red:#d20f39;--blue:#1e66f5;--grey-blue:#8c8fa1;--green-gradient:linear-gradient(45deg,#66bb6a,#43a047);--pink-gradient:linear-gradient(45deg,#ec407a,#d81b60);--purple-gradient:linear-gradient(45deg,#ab47bc,#8e24aa);--red-gradient:linear-gradient(45deg,#e57373,#d32f2f);--grey-blue-gradient:linear-gradient(45deg,#78909c,#607d8b)}@keyframes card-enter{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes button-click-effect{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes progress-bar-fill-anim{from{width:0}}.status-panel-container{position:relative;width:95%;max-width:500px;max-height:600px;margin:10px auto;background-color:var(--bg-color);background-image:url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23313244" fill-opacity="0.1" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zM6 5v1H5z"/%3E%3C/g%3E%3C/svg%3E');border:1px solid transparent;border-image:linear-gradient(to bottom right,var(--blue),var(--purple)) 1;border-radius:12px;font-family:'Segoe UI','Microsoft YaHei',system-ui,sans-serif;color:var(--text-color);padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);box-sizing:border-box;transition:background-color 0.3s,border-color 0.3s;overflow-y:auto}#theme-toggle-btn{position:absolute;top:16px;right:16px;background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background-color 0.2s,color 0.2s,border-color 0.3s,transform 0.2s;z-index:1000}#theme-toggle-btn:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.1)}#theme-toggle-btn:active{animation:button-click-effect 0.2s ease-out}body[data-theme='dark'] .fa-sun{display:none}body[data-theme='light'] .fa-moon{display:none}.scene-info{margin-bottom:24px}.block-title{font-size:1.25em;font-weight:bold;color:var(--blue);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);display:flex;align-items:center}.block-title i{margin-right:8px;transition:transform 0.2s}.block-title:hover i{transform:scale(1.1)}.info-line{font-size:1em;margin-bottom:8px;color:var(--subtext-color);display:flex;align-items:center}.info-line i{margin-right:10px;width:20px;text-align:center;color:var(--blue);transition:transform 0.2s}.info-line:hover i{transform:scale(1.1)}.info-line strong{color:var(--text-color)}.char-card{background-color:var(--card-bg-color);border-radius:12px;margin-bottom:16px;border:1px solid var(--border-color);border-left:4px solid var(--pink);box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s ease-out,box-shadow 0.2s ease-out,background-color 0.3s,border-color 0.3s;overflow:hidden;animation:card-enter 0.5s ease-out forwards;cursor:pointer}.char-card:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.char-name{font-size:1.4em;font-weight:bold;color:var(--pink);padding:16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.char-name:hover{background-color:rgba(255,255,255,0.05)}.char-name .collapse-icon{width:1em;height:1em;transition:transform 0.3s ease-out}.char-card.collapsed .collapse-icon{transform:rotate(180deg)}.char-details{font-size:0.95em;line-height:1.7;padding:0 16px 16px 16px;max-height:1000px;transition:max-height 0.4s ease-in-out,padding 0.4s ease-in-out}.char-card.collapsed .char-details{max-height:0;padding-top:0;padding-bottom:0}.char-details .detail-item{display:flex;align-items:center;margin:4px 0;color:var(--subtext-color)}.char-details .detail-item i{margin-right:8px;width:18px;text-align:center;transition:transform 0.2s}.char-details .detail-item:hover i{transform:scale(1.2)}.char-details .detail-item strong{color:var(--text-color)}.status-highlight-yes{color:var(--green);font-weight:bold}.status-highlight-no{color:var(--grey-blue)}.stat-bar-container{margin-top:12px}.stat-bar-label{display:flex;justify-content:space-between;font-size:0.9em;margin-bottom:6px;color:var(--subtext-color);align-items:center}.stat-bar-title{display:flex;align-items:center;position:relative;cursor:default}.stat-bar-title i{margin-right:6px;transition:transform 0.2s}.stat-bar-title:hover i{transform:scale(1.2)}.stat-bar-title[data-tooltip]::after{content:attr(data-tooltip);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background-color:var(--tooltip-bg-color);color:var(--text-color);padding:6px 10px;border-radius:6px;font-size:0.8em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;z-index:10}.stat-bar-title[data-tooltip]:hover::after{opacity:1;visibility:visible}.stat-bar-value{font-weight:bold;color:var(--text-color)}.progress-bar{width:100%;height:14px;background-color:var(--border-color);border-radius:6px;overflow:hidden}.progress-bar-fill{height:100%;border-radius:6px;transition:width 0.6s ease-out}.magic-bar{background:var(--green-gradient)}.favor-bar-positive{background:var(--pink-gradient)}.favor-bar-negative{background:var(--grey-blue-gradient)}.corruption-bar{background:var(--purple-gradient)}.lust-bar{background:var(--red-gradient)}.thought-block{margin-top:16px;padding:12px;background-color:var(--quote-bg-color);border-left:3px solid var(--blue);border-radius:0 6px 6px 0}.thought-block .thought-title{display:flex;align-items:center;font-weight:bold;margin-bottom:6px;color:var(--subtext-color);font-size:0.9em}.thought-block .thought-title i{margin-right:6px;transition:transform 0.2s}.thought-block .thought-title:hover i{transform:scale(1.2)}.thought-block p{margin:0;color:var(--text-color);font-size:0.95em}.view-toggle-buttons{margin-left:auto;display:flex;gap:8px}.view-btn{background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);padding:4px 10px;border-radius:20px;cursor:pointer;font-size:0.8em;transition:background-color 0.2s,color 0.2s,transform 0.2s}.view-btn:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.05)}.view-btn:active{animation:button-click-effect 0.2s ease-out}.view-btn.active{background-color:var(--blue);color:var(--bg-color);border-color:var(--blue)}.menu-buttons{display:flex;justify-content:space-around;gap:16px;margin-top:24px;padding:10px 0}.menu-btn{background-color:var(--card-bg-color);border:1px solid var(--border-color);color:var(--text-color);width:90px;height:90px;border-radius:16px;cursor:pointer;font-size:0.9em;transition:background-color 0.2s,transform 0.2s,box-shadow 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:0}.menu-btn:hover{background-color:var(--border-color);transform:translateY(-4px);box-shadow:0 6px 12px rgba(0,0,0,0.1)}.menu-btn:active{animation:button-click-effect 0.2s ease-out}.menu-btn i{margin-right:0;font-size:2em;color:var(--blue)}.back-btn{margin-bottom:16px}.off-scene-char{display:flex;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border-color);font-size:0.95em}.off-scene-char:last-child{border-bottom:none}.off-scene-char-name{font-weight:bold;color:var(--text-color)}.off-scene-char-stats{color:var(--subtext-color)}.user-terminal{padding:16px}.user-stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-bottom:24px}.user-stat-item{background-color:var(--card-bg-color);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--border-color)}.user-stat-item .stat-label{font-size:0.9em;color:var(--subtext-color);margin-bottom:6px}.user-stat-item .stat-value{font-size:1.5em;font-weight:bold;color:var(--text-color)}.skills-section .section-title{font-size:1.1em;font-weight:bold;color:var(--text-color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.skill-list{list-style:none;padding:0;margin:0}.skill-item{background-color:var(--card-bg-color);padding:12px;border-radius:8px;margin-bottom:10px;border-left:3px solid var(--purple)}.skill-item-header{display:flex;justify-content:space-between;font-weight:bold}.skill-item .skill-name{color:var(--text-color)}.skill-item .skill-cost{color:var(--purple)}.skill-item .skill-description{font-size:0.9em;color:var(--subtext-color);margin-top:6px}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-color:var(--border-color);border-radius:4px}::-webkit-scrollbar-thumb{background-color:var(--grey-blue);border-radius:4px}::-webkit-scrollbar-thumb:hover{background-color:var(--blue)}@media (max-width:600px){.status-panel-container{width:100%;margin:0;border-radius:0}.menu-buttons{flex-wrap:wrap;gap:12px}.menu-btn{flex:1;min-width:80px}.user-stats-grid{grid-template-columns:repeat(2,1fr)}}.loading{display:flex;justify-content:center;align-items:center;padding:20px;color:var(--subtext-color)}.loading::after{content:'';width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--blue);border-radius:50%;animation:spin 1s linear infinite;margin-left:10px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.error-message{color:var(--red);padding:12px;background-color:rgba(243,139,168,0.1);border:1px solid var(--red);border-radius:8px;margin:16px 0}.success-message{color:var(--green);padding:12px;background-color:rgba(166,227,161,0.1);border:1px solid var(--green);border-radius:8px;margin:16px 0}.description-card{margin-top:16px;animation:card-enter 0.5s ease-out}.description-card .description-title{display:flex;align-items:center;font-weight:bold;margin-bottom:12px;color:var(--text-color);font-size:1.1em;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.description-card .description-title i{margin-right:8px;color:var(--blue);transition:transform 0.2s}.description-card .description-title:hover i{transform:scale(1.2)}.description-card .description-content{background-color:var(--quote-bg-color);border-radius:8px;padding:16px}.description-card .description-text{color:var(--text-color);font-size:0.95em;line-height:1.8;white-space:pre-wrap}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>