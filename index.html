<head><script type="module">import{waitUntil as e}from'https://testingcf.jsdelivr.net/npm/async-wait-until/+esm';import{createPinia as t,defineStore as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var l={262(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},n={};const o=Vue;function r(e){return!!(0,o.getCurrentScope)()&&((0,o.onScopeDispose)(e),!0)}const c='undefined'!=typeof window&&'undefined'!=typeof document;'undefined'!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString;function s(e,t){return function(...a){return new Promise((l,n)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(l).catch(n)})}}const i=e=>e();function d(e){const t=Object.create(null);return a=>t[a]||(t[a]=e(a))}const m=/\B([A-Z])/g,u=(d(e=>e.replace(m,'-$1').toLowerCase()),/-(\w)/g);d(e=>e.replace(u,(_,e)=>e?e.toUpperCase():''));function v(e,t=1e3,a={}){const{immediate:l=!0,immediateCallback:n=!1}=a;let s=null;const i=(0,o.shallowRef)(!1);function d(){s&&(clearInterval(s),s=null)}function m(){i.value=!1,d()}function u(){const a=(0,o.toValue)(t);a<=0||(i.value=!0,n&&e(),d(),i.value&&(s=setInterval(e,a)))}if(l&&c&&u(),(0,o.isRef)(t)||'function'==typeof t){r((0,o.watch)(t,()=>{i.value&&c&&u()}))}return r(m),{isActive:(0,o.shallowReadonly)(i),pause:m,resume:u}}function p(e,t,a={}){const{eventFilter:l=i,...n}=a,r=s(l,t);let c,d,m;if('sync'===n.flush){let t=!1;d=()=>{},c=e=>{t=!0,e(),t=!1},m=(0,o.watch)(e,(...e)=>{t||r(...e)},n)}else{const t=[];let a=0,l=0;d=()=>{a=l},t.push((0,o.watch)(e,()=>{l++},{...n,flush:'sync'})),c=e=>{const t=l;e(),a+=l-t},t.push((0,o.watch)(e,(...e)=>{const t=a>0&&a===l;a=0,l=0,t||r(...e)},n)),m=()=>{t.forEach(e=>e())}}return{stop:m,ignoreUpdates:c,ignorePrevAsyncUpdates:d}}const k=z,f=k.z.object({current:k.z.string().prefault(''),history:k.z.array(k.z.string()).prefault([])}),g=k.z.object({Avatar:f.prefault({current:'',history:[]}),Favor:k.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),Magic:k.z.coerce.number().prefault(100),MagicMax:k.z.coerce.number().prefault(100),Corruption:k.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}),E=k.z.object({Thought:k.z.string().prefault(''),Action:k.z.string().prefault(''),State:k.z.string().prefault('æ­£å¸¸'),isTransformed:k.z.boolean().prefault(!1),Lust:k.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}),b=k.z.object({å½“å‰æ—¶é—´:k.z.string().prefault('2024å¹´03æœˆ17æ—¥ æ˜ŸæœŸäºŒ 16:45'),location:k.z.string().prefault('è¿œè°·ç”º-å‚ææ¨±å­¦å›­-äºŒå¹´3ç­æ•™å®¤'),ä¸ªäººçº¿:k.z.record(k.z.string().describe('è§’è‰²ä¸ªäººçº¿åç§°'),k.z.object({çŠ¶æ€:k.z.string().prefault('æœªå¼€å§‹'),ç»“å±€:k.z.record(k.z.string().describe('ç»“å±€åç§°'),k.z.any()).prefault({})})).prefault({}),è§’è‰²åˆ—è¡¨:k.z.record(k.z.string().describe('è§’è‰²å'),g).prefault({}),åœ¨åœºè§’è‰²:k.z.record(k.z.string().describe('è§’è‰²å'),E).prefault({}),Enemies:k.z.record(k.z.string().describe('æ•Œäººå'),k.z.any()).prefault({}),Partners:k.z.record(k.z.string().describe('åŒä¼´å'),k.z.any()).prefault({}),user:k.z.object({SkillPoint:k.z.coerce.number().prefault(10),Magic:k.z.coerce.number().prefault(100),MagicMax:k.z.coerce.number().prefault(100),Morality:k.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0),SkillTree:k.z.record(k.z.string().describe('æŠ€èƒ½å'),k.z.object({æè¿°:k.z.string().prefault(''),æ¶ˆè€—:k.z.coerce.number().prefault(0),å·²å­¦ä¹ :k.z.boolean().prefault(!1)})).prefault({})}).prefault({SkillPoint:10,Magic:100,MagicMax:100,Morality:0,SkillTree:{}})}),N=(V=b,'message'!==(y={type:'message',message_id:getCurrentMessageId()}).type||void 0!==y.message_id&&'latest'!==y.message_id||(y.message_id=-1),a(`mvu_data.${_(y).entries().sortBy(e=>e[0]).map(e=>e[1]).join('.')}`,errorCatched(()=>{const e=(0,o.ref)(V.parse(_.get(getVariables(y),'stat_data',{}),{reportInput:!0}));h&&h(e),v(()=>{const a=_.get(getVariables(y),'stat_data',{}),l=V.safeParse(a);l.error||_.isEqual(e.value,l.data)||(t(()=>{e.value=l.data}),_.isEqual(a,l.data)||updateVariablesWith(e=>_.set(e,'stat_data',l.data),y))},2e3);const{ignoreUpdates:t}=p(e,a=>{const l=V.safeParse(a);l.error||(_.isEqual(a,l.data)||t(()=>{e.value=l.data}),updateVariablesWith(e=>_.set(e,'stat_data',l.data),y))},{deep:!0});return{data:e}})));var V,y,h;const x={class:'character-archive'},B={key:0,class:'empty-state'},C={key:1,class:'character-grid'},S=['onClick'],w={class:'character-avatar'},M=['src','alt'],T={key:1,class:'avatar-placeholder'},D={class:'character-info'},L={class:'character-name'},A={class:'character-stats'},j={class:'stat-item'},P={class:'stat-item'},O={class:'stat-item'},F=(0,o.defineComponent)({__name:'CharacterArchivePanel',emits:['view-character'],setup(e,{emit:t}){const a=N(),l=t,n=(0,o.computed)(()=>a.data.è§’è‰²åˆ—è¡¨||{}),r=(0,o.computed)(()=>a.data.åœ¨åœºè§’è‰²||{});function c(e){return e in r.value}function s(e){return c(e)?'present':'absent'}function i(e){return c(e)?'åœ¨åœº':'ä¸åœ¨åœº'}function d(e){const t=e.target;t.style.display='none';const a=t.parentElement?.querySelector('.avatar-placeholder');a&&(a.style.display='flex')}return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',x,[0===Object.keys(n.value).length?((0,o.openBlock)(),(0,o.createElementBlock)('div',B,[...t[0]||(t[0]=[(0,o.createElementVNode)('p',null,'æš‚æ— è§’è‰²æ•°æ®',-1)])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',C,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.value,(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:a,class:'character-card',onClick:e=>function(e){l('view-character',e)}(a)},[(0,o.createElementVNode)('div',w,[e.Avatar?.current?((0,o.openBlock)(),(0,o.createElementBlock)('img',{key:0,src:e.Avatar.current,alt:a,onError:d},null,40,M)):((0,o.openBlock)(),(0,o.createElementBlock)('div',T,[...t[1]||(t[1]=[(0,o.createElementVNode)('i',{class:'fas fa-user'},null,-1)])]))]),(0,o.createElementVNode)('div',D,[(0,o.createElementVNode)('h3',L,(0,o.toDisplayString)(a),1),(0,o.createElementVNode)('div',A,[(0,o.createElementVNode)('div',j,[t[2]||(t[2]=(0,o.createElementVNode)('i',{class:'fas fa-heart',style:{color:'var(--pink)'}},null,-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(e.Favor)+'%',1)]),(0,o.createElementVNode)('div',P,[t[3]||(t[3]=(0,o.createElementVNode)('i',{class:'fas fa-bolt',style:{color:'var(--green)'}},null,-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(e.Magic)+'/'+(0,o.toDisplayString)(e.MagicMax),1)]),(0,o.createElementVNode)('div',O,[t[4]||(t[4]=(0,o.createElementVNode)('i',{class:'fas fa-skull-crossbones',style:{color:'var(--purple)'}},null,-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(e.Corruption)+'%',1)])])]),(0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['character-status-badge',s(a)])},(0,o.toDisplayString)(i(a)),3)],8,S))),128))]))]))}});var q=function e(t){var a=n[t];if(void 0!==a)return a.exports;var o=n[t]={exports:{}};return l[t](o,o.exports,e),o.exports}(262);const I=(0,q.A)(F,[['__scopeId','data-v-e6df9bba']]),H={class:'character-detail-panel'},U={key:0,class:'loading'},R={key:1,class:'character-detail-content'},W={class:'avatar-section'},G={class:'avatar-banner'},Z=['src','alt'],J={key:1,class:'avatar-placeholder-large'},K={class:'character-title'},Q={key:0,class:'avatar-history'},X={class:'history-list'},Y=['onClick'],ee=['src','alt'],te=['onClick'],ae={class:'char-card'},le={class:'char-details'},ne={class:'detail-item'},oe={class:'detail-item'},re={class:'detail-item'},ce={key:0,class:'stat-bar-container'},se={class:'stat-bar-label'},ie={class:'stat-bar-value'},de={class:'progress-bar'},me={key:1,class:'stat-bar-container'},ue={class:'stat-bar-label'},ve={class:'stat-bar-value'},pe={class:'progress-bar'},ke={key:2,class:'stat-bar-container'},fe={class:'stat-bar-label'},ge={class:'stat-bar-value'},Ee={class:'progress-bar'},be={key:3,class:'stat-bar-container'},Ne={class:'stat-bar-label'},Ve={class:'stat-bar-value'},ye={class:'progress-bar'},he={key:4,class:'thought-block'},xe=(0,o.defineComponent)({__name:'CharacterDetailPanel',props:{characterName:{}},setup(e){const t=e,a=N(),l=((0,o.ref)(null),(0,o.computed)(()=>a.data.è§’è‰²åˆ—è¡¨?.[t.characterName])),n=(0,o.computed)(()=>a.data.åœ¨åœºè§’è‰²?.[t.characterName]),r=(0,o.computed)(()=>l.value?.Avatar?.current||''),c=(0,o.computed)(()=>l.value?.Avatar?.history||[]);function s(e){e.target.style.display='none'}function i(e){const t=e.target;t.parentElement?.classList.add('error')}function d(){const e=document.createElement('div');e.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 300px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">æ›´æ¢å¤´åƒ</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">è¯·é€‰æ‹©å¤´åƒæ¥æºï¼š</p>\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-url" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--blue, #89b4fa);\n            color: #1e1e2e;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">ç½‘ç»œå›¾ç‰‡</button>\n          <button id="btn-local" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--surface-color, #313244);\n            color: var(--text-color, #cdd6f4);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">æœ¬åœ°æ–‡ä»¶</button>\n        </div>\n        <button id="btn-cancel" style="\n          width: 100%;\n          margin-top: 12px;\n          padding: 10px;\n          background: transparent;\n          color: var(--subtext-color, #a6adc8);\n          border: none;\n          cursor: pointer;\n        ">å–æ¶ˆ</button>\n      </div>\n    </div>\n  ',document.body.appendChild(e),e.querySelector('#btn-url')?.addEventListener('click',()=>{document.body.removeChild(e),function(){const e=document.createElement('div');e.innerHTML=`\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 320px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">è¾“å…¥å›¾ç‰‡URL</h3>\n        <input type="text" id="avatar-url" placeholder="https://example.com/image.png" value="${r.value}" style="\n          width: 100%;\n          padding: 12px;\n          background: var(--quote-bg-color, #181825);\n          border: 1px solid var(--border-color, #45475a);\n          border-radius: 8px;\n          color: var(--text-color, #cdd6f4);\n          font-size: 14px;\n          box-sizing: border-box;\n          margin-bottom: 16px;\n        ">\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-confirm" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--blue, #89b4fa);\n            color: #1e1e2e;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">ç¡®è®¤</button>\n          <button id="btn-cancel" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--surface-color, #313244);\n            color: var(--text-color, #cdd6f4);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">å–æ¶ˆ</button>\n        </div>\n      </div>\n    </div>\n  `,document.body.appendChild(e);const t=e.querySelector('#avatar-url');t?.focus(),t?.select(),e.querySelector('#btn-confirm')?.addEventListener('click',()=>{const a=t?.value.trim();a&&m(a),document.body.removeChild(e)}),e.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(e)}),e.firstElementChild?.addEventListener('click',t=>{t.target===e.firstElementChild&&document.body.removeChild(e)}),t?.addEventListener('keypress',a=>{if('Enter'===a.key){const a=t.value.trim();a&&m(a),document.body.removeChild(e)}})}()}),e.querySelector('#btn-local')?.addEventListener('click',()=>{document.body.removeChild(e),function(){const e=document.createElement('input');e.type='file',e.accept='image/*',e.style.display='none',e.onchange=e=>{const t=e.target.files?.[0];if(t){const e=new FileReader;e.onload=e=>{const t=e.target?.result;t&&m(t)},e.readAsDataURL(t)}},document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e)},1e3)}()}),e.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(e)}),e.firstElementChild?.addEventListener('click',t=>{t.target===e.firstElementChild&&document.body.removeChild(e)})}function m(e){if(!l.value)return;a.data.è§’è‰²åˆ—è¡¨||(a.data.è§’è‰²åˆ—è¡¨={}),a.data.è§’è‰²åˆ—è¡¨[t.characterName]||(a.data.è§’è‰²åˆ—è¡¨[t.characterName]={});const n=a.data.è§’è‰²åˆ—è¡¨[t.characterName];n.Avatar||(n.Avatar={current:'',history:[]});const o=n.Avatar.current||'',r=n.Avatar.history||[];console.log('å½“å‰å¤´åƒ:',o),console.log('å†å²å¤´åƒ:',r),console.log('æ–°å¤´åƒ:',e);let c=[...r];o&&o!==e&&!c.includes(o)&&(c=[o,...c].slice(0,10)),e&&!c.includes(e)&&(c=[e,...c].slice(0,10)),n.Avatar.current=e,n.Avatar.history=c,console.log('å¤´åƒå·²æ›´æ–°:',t.characterName,e),console.log('æ›´æ–°åçš„Avatar:',n.Avatar)}return(u,v)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',H,[l.value||n.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',R,[(0,o.createCommentVNode)(' è§’è‰²å¤´åƒåŒºåŸŸ '),(0,o.createElementVNode)('div',W,[(0,o.createElementVNode)('div',G,[r.value?((0,o.openBlock)(),(0,o.createElementBlock)('img',{key:0,src:r.value,alt:e.characterName,class:'character-avatar-img',onError:s},null,40,Z)):((0,o.openBlock)(),(0,o.createElementBlock)('div',J,[...v[1]||(v[1]=[(0,o.createElementVNode)('i',{class:'fas fa-user'},null,-1)])])),v[3]||(v[3]=(0,o.createElementVNode)('div',{class:'avatar-gradient-overlay'},null,-1)),(0,o.createElementVNode)('button',{class:'change-avatar-btn',onClick:d,title:'æ›´æ¢å¤´åƒ'},[...v[2]||(v[2]=[(0,o.createElementVNode)('i',{class:'fas fa-camera'},null,-1)])])]),(0,o.createElementVNode)('div',K,(0,o.toDisplayString)(e.characterName),1),(0,o.createCommentVNode)(' å†å²å¤´åƒ '),c.value.length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',Q,[v[5]||(v[5]=(0,o.createElementVNode)('div',{class:'history-title'},'å†å²å¤´åƒ',-1)),(0,o.createElementVNode)('div',X,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.value,(e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:n,class:(0,o.normalizeClass)(['history-item',{active:e===r.value}]),onClick:t=>function(e){e!==r.value&&m(e)}(e)},[(0,o.createElementVNode)('img',{src:e,alt:`å†å²å¤´åƒ ${n+1}`,onError:i},null,40,ee),(0,o.createElementVNode)('button',{class:'delete-avatar-btn',onClick:(0,o.withModifiers)(e=>function(e,n){if(!l.value?.Avatar)return;const o=document.createElement('div');o.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 300px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">ç¡®è®¤åˆ é™¤</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">ç¡®å®šè¦åˆ é™¤è¿™å¼ å†å²å¤´åƒå—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚</p>\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-confirm" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--red, #f38ba8);\n            color: #1e1e2e;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">åˆ é™¤</button>\n          <button id="btn-cancel" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--surface-color, #313244);\n            color: var(--text-color, #cdd6f4);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">å–æ¶ˆ</button>\n        </div>\n      </div>\n    </div>\n  ',document.body.appendChild(o),o.querySelector('#btn-confirm')?.addEventListener('click',()=>{const e=a.data.è§’è‰²åˆ—è¡¨?.[t.characterName];if(!e?.Avatar)return;const l=(e.Avatar.history||[]).filter((e,t)=>t!==n);e.Avatar.history=l,document.body.removeChild(o)}),o.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(o)}),o.firstElementChild?.addEventListener('click',e=>{e.target===o.firstElementChild&&document.body.removeChild(o)})}(0,n),['stop']),title:'åˆ é™¤å†å²å¤´åƒ'},[...v[4]||(v[4]=[(0,o.createElementVNode)('i',{class:'fas fa-times'},null,-1)])],8,te)],10,Y))),128))])])):(0,o.createCommentVNode)('v-if',!0)]),(0,o.createCommentVNode)(' è§’è‰²åŸºæœ¬ä¿¡æ¯ '),(0,o.createElementVNode)('div',ae,[(0,o.createElementVNode)('div',le,[(0,o.createElementVNode)('div',ne,[v[6]||(v[6]=(0,o.createElementVNode)('i',{class:'fas fa-heartbeat'},null,-1)),v[7]||(v[7]=(0,o.createElementVNode)('strong',null,'çŠ¶æ€ï¼š',-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(n.value?.State||'æœªçŸ¥'),1)]),(0,o.createElementVNode)('div',oe,[v[8]||(v[8]=(0,o.createElementVNode)('i',{class:'fas fa-running'},null,-1)),v[9]||(v[9]=(0,o.createElementVNode)('strong',null,'è¡ŒåŠ¨ï¼š',-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(n.value?.Action||'æœªçŸ¥'),1)]),(0,o.createElementVNode)('div',re,[v[10]||(v[10]=(0,o.createElementVNode)('i',{class:'fas fa-shield-alt'},null,-1)),v[11]||(v[11]=(0,o.createElementVNode)('strong',null,'å˜èº«ï¼š',-1)),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(n.value?.isTransformed?'status-highlight-yes':'status-highlight-no')},(0,o.toDisplayString)(n.value?.isTransformed?'æ˜¯':'å¦'),3)]),(0,o.createCommentVNode)(' è§’è‰²å±æ€§ '),l.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',ce,[(0,o.createElementVNode)('div',se,[v[12]||(v[12]=(0,o.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“æŠ€èƒ½æ•ˆæœä¸æ¶ˆè€—'},[(0,o.createElementVNode)('i',{class:'fas fa-bolt',style:{color:'var(--green)'}}),(0,o.createTextVNode)('é­”åŠ› ')],-1)),(0,o.createElementVNode)('span',ie,(0,o.toDisplayString)(l.value.Magic||0)+'/'+(0,o.toDisplayString)(l.value.MagicMax||100),1)]),(0,o.createElementVNode)('div',de,[(0,o.createElementVNode)('div',{class:'progress-bar-fill magic-bar',style:(0,o.normalizeStyle)({width:`${Math.min((l.value.Magic||0)/(l.value.MagicMax||100)*100,100)}%`})},null,4)])])):(0,o.createCommentVNode)('v-if',!0),l.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',me,[(0,o.createElementVNode)('div',ue,[v[13]||(v[13]=(0,o.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“è§’è‰²é—´çš„äº’åŠ¨ä¸æƒ…æ„Ÿ'},[(0,o.createElementVNode)('i',{class:'fas fa-heart',style:{color:'var(--pink)'}}),(0,o.createTextVNode)('å¥½æ„Ÿåº¦ ')],-1)),(0,o.createElementVNode)('span',ve,(0,o.toDisplayString)(l.value.Favor||0)+'%',1)]),(0,o.createElementVNode)('div',pe,[(0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['progress-bar-fill',(l.value.Favor||0)>=0?'favor-bar-positive':'favor-bar-negative']),style:(0,o.normalizeStyle)({width:`${Math.abs(l.value.Favor||0)}%`})},null,6)])])):(0,o.createCommentVNode)('v-if',!0),l.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',ke,[(0,o.createElementVNode)('div',fe,[v[14]||(v[14]=(0,o.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“å¿ƒæ™ºä¸èƒ½åŠ›ï¼Œè¿‡é«˜å¯èƒ½å¯¼è‡´å¤±æ§'},[(0,o.createElementVNode)('i',{class:'fas fa-skull-crossbones',style:{color:'var(--purple)'}}),(0,o.createTextVNode)('å •è½å€¼ ')],-1)),(0,o.createElementVNode)('span',ge,(0,o.toDisplayString)(l.value.Corruption||0)+'%',1)]),(0,o.createElementVNode)('div',Ee,[(0,o.createElementVNode)('div',{class:'progress-bar-fill corruption-bar',style:(0,o.normalizeStyle)({width:`${l.value.Corruption||0}%`})},null,4)])])):(0,o.createCommentVNode)('v-if',!0),n.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',be,[(0,o.createElementVNode)('div',Ne,[v[15]||(v[15]=(0,o.createElementVNode)('span',{class:'stat-bar-title','data-tooltip':'å½±å“è§’è‰²çš„è¡Œä¸ºä¸ç†æ™º'},[(0,o.createElementVNode)('i',{class:'fas fa-fire',style:{color:'var(--red)'}}),(0,o.createTextVNode)('æƒ…æ¬²å€¼ ')],-1)),(0,o.createElementVNode)('span',Ve,(0,o.toDisplayString)(n.value.Lust||0)+'%',1)]),(0,o.createElementVNode)('div',ye,[(0,o.createElementVNode)('div',{class:'progress-bar-fill lust-bar',style:(0,o.normalizeStyle)({width:`${n.value.Lust||0}%`})},null,4)])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' è§’è‰²å¿ƒç†æ´»åŠ¨ '),n.value?.Thought?((0,o.openBlock)(),(0,o.createElementBlock)('div',he,[v[16]||(v[16]=(0,o.createElementVNode)('div',{class:'thought-title'},[(0,o.createElementVNode)('i',{class:'fas fa-comment-dots'}),(0,o.createTextVNode)('å¿ƒç†æ´»åŠ¨')],-1)),(0,o.createElementVNode)('p',null,(0,o.toDisplayString)(n.value.Thought),1)])):(0,o.createCommentVNode)('v-if',!0)])])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',U,[...v[0]||(v[0]=[(0,o.createElementVNode)('span',null,'åŠ è½½è§’è‰²ä¿¡æ¯ä¸­...',-1)])]))]))}}),Be=(0,q.A)(xe,[['__scopeId','data-v-417e77fd']]),Ce={class:'characters-panel'},Se={key:0,class:'empty-state'},we={key:1,class:'characters-list'},ze=['onClick'],Me={class:'char-name-left'},Te=['src'],De={key:1,class:'char-avatar-placeholder'},_e={class:'char-name-text'},Le={key:0,class:'character-detail'},Ae={class:'char-details'},je={class:'detail-item'},Pe={class:'detail-item'},$e={class:'detail-item'},Oe={key:0,class:'stat-bar-container'},Fe={class:'stat-bar-label'},qe={class:'stat-bar-value'},Ie={class:'progress-bar'},He={key:1,class:'stat-bar-container'},Ue={class:'stat-bar-label'},Re={class:'stat-bar-value'},We={class:'progress-bar'},Ge={key:2,class:'stat-bar-container'},Ze={class:'stat-bar-label'},Je={class:'stat-bar-value'},Ke={class:'progress-bar'},Qe={class:'stat-bar-container'},Xe={class:'stat-bar-label'},Ye={class:'stat-bar-value'},et={class:'progress-bar'},tt={key:3,class:'thought-block'},at=(0,o.defineComponent)({__name:'CharactersPanel',setup(e){const t=N(),a=(0,o.computed)(()=>t.data.åœ¨åœºè§’è‰²||{}),l=(0,o.computed)(()=>t.data.è§’è‰²åˆ—è¡¨||{}),n=(0,o.ref)({});return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',Ce,[t[14]||(t[14]=(0,o.createElementVNode)('h3',{class:'panel-title'},'åœ¨åœºè§’è‰²',-1)),0===Object.keys(a.value).length?((0,o.openBlock)(),(0,o.createElementBlock)('div',Se,[...t[0]||(t[0]=[(0,o.createElementVNode)('p',null,'å½“å‰æ²¡æœ‰åœ¨åœºè§’è‰²',-1)])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',we,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.value,(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:a,class:'char-card'},[(0,o.createElementVNode)('div',{class:'char-name',onClick:e=>function(e){n.value[e]=!n.value[e]}(a)},[(0,o.createElementVNode)('div',Me,[l.value[a]?.Avatar?.current?((0,o.openBlock)(),(0,o.createElementBlock)('img',{key:0,src:l.value[a].Avatar.current,class:'char-avatar',alt:'å¤´åƒ'},null,8,Te)):((0,o.openBlock)(),(0,o.createElementBlock)('div',De,[...t[1]||(t[1]=[(0,o.createElementVNode)('i',{class:'fas fa-user'},null,-1)])])),(0,o.createElementVNode)('span',_e,(0,o.toDisplayString)(a),1)]),((0,o.openBlock)(),(0,o.createElementBlock)('svg',{class:(0,o.normalizeClass)(['collapse-icon',{rotated:n.value[a]}]),viewBox:'0 0 320 512',fill:'currentColor',xmlns:'http://www.w3.org/2000/svg'},[...t[2]||(t[2]=[(0,o.createElementVNode)('path',{d:'M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4 9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z'},null,-1)])],2))],8,ze),(0,o.createCommentVNode)(' å±•å¼€çš„è§’è‰²è¯¦æƒ… '),n.value[a]?((0,o.openBlock)(),(0,o.createElementBlock)('div',Le,[(0,o.createElementVNode)('div',Ae,[(0,o.createElementVNode)('div',je,[t[3]||(t[3]=(0,o.createElementVNode)('i',{class:'fas fa-heartbeat'},null,-1)),t[4]||(t[4]=(0,o.createElementVNode)('strong',null,'çŠ¶æ€ï¼š',-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(e.State||'æœªçŸ¥'),1)]),(0,o.createElementVNode)('div',Pe,[t[5]||(t[5]=(0,o.createElementVNode)('i',{class:'fas fa-running'},null,-1)),t[6]||(t[6]=(0,o.createElementVNode)('strong',null,'è¡ŒåŠ¨ï¼š',-1)),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)(e.Action||'æœªçŸ¥'),1)]),(0,o.createElementVNode)('div',$e,[t[7]||(t[7]=(0,o.createElementVNode)('i',{class:'fas fa-shield-alt'},null,-1)),t[8]||(t[8]=(0,o.createElementVNode)('strong',null,'å˜èº«ï¼š',-1)),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(e.isTransformed?'status-highlight-yes':'status-highlight-no')},(0,o.toDisplayString)(e.isTransformed?'æ˜¯':'å¦'),3)]),(0,o.createCommentVNode)(' è§’è‰²å±æ€§ '),l.value[a]?((0,o.openBlock)(),(0,o.createElementBlock)('div',Oe,[(0,o.createElementVNode)('div',Fe,[t[9]||(t[9]=(0,o.createElementVNode)('span',{class:'stat-bar-title'},[(0,o.createElementVNode)('i',{class:'fas fa-bolt',style:{color:'var(--green)'}}),(0,o.createTextVNode)('é­”åŠ› ')],-1)),(0,o.createElementVNode)('span',qe,(0,o.toDisplayString)(l.value[a].Magic||0)+'/'+(0,o.toDisplayString)(l.value[a].MagicMax||100),1)]),(0,o.createElementVNode)('div',Ie,[(0,o.createElementVNode)('div',{class:'progress-bar-fill magic-bar',style:(0,o.normalizeStyle)({width:`${Math.min((l.value[a].Magic||0)/(l.value[a].MagicMax||100)*100,100)}%`})},null,4)])])):(0,o.createCommentVNode)('v-if',!0),l.value[a]?((0,o.openBlock)(),(0,o.createElementBlock)('div',He,[(0,o.createElementVNode)('div',Ue,[t[10]||(t[10]=(0,o.createElementVNode)('span',{class:'stat-bar-title'},[(0,o.createElementVNode)('i',{class:'fas fa-heart',style:{color:'var(--pink)'}}),(0,o.createTextVNode)('å¥½æ„Ÿåº¦ ')],-1)),(0,o.createElementVNode)('span',Re,(0,o.toDisplayString)(l.value[a].Favor||0)+'%',1)]),(0,o.createElementVNode)('div',We,[(0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['progress-bar-fill',(l.value[a].Favor||0)>=0?'favor-bar-positive':'favor-bar-negative']),style:(0,o.normalizeStyle)({width:`${Math.abs(l.value[a].Favor||0)}%`})},null,6)])])):(0,o.createCommentVNode)('v-if',!0),l.value[a]?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ge,[(0,o.createElementVNode)('div',Ze,[t[11]||(t[11]=(0,o.createElementVNode)('span',{class:'stat-bar-title'},[(0,o.createElementVNode)('i',{class:'fas fa-skull-crossbones',style:{color:'var(--purple)'}}),(0,o.createTextVNode)('å •è½å€¼ ')],-1)),(0,o.createElementVNode)('span',Je,(0,o.toDisplayString)(l.value[a].Corruption||0)+'%',1)]),(0,o.createElementVNode)('div',Ke,[(0,o.createElementVNode)('div',{class:'progress-bar-fill corruption-bar',style:(0,o.normalizeStyle)({width:`${l.value[a].Corruption||0}%`})},null,4)])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createElementVNode)('div',Qe,[(0,o.createElementVNode)('div',Xe,[t[12]||(t[12]=(0,o.createElementVNode)('span',{class:'stat-bar-title'},[(0,o.createElementVNode)('i',{class:'fas fa-fire',style:{color:'var(--red)'}}),(0,o.createTextVNode)('æƒ…æ¬²å€¼ ')],-1)),(0,o.createElementVNode)('span',Ye,(0,o.toDisplayString)(e.Lust||0)+'%',1)]),(0,o.createElementVNode)('div',et,[(0,o.createElementVNode)('div',{class:'progress-bar-fill lust-bar',style:(0,o.normalizeStyle)({width:`${e.Lust||0}%`})},null,4)])]),(0,o.createCommentVNode)(' è§’è‰²å¿ƒç†æ´»åŠ¨ '),e.Thought?((0,o.openBlock)(),(0,o.createElementBlock)('div',tt,[t[13]||(t[13]=(0,o.createElementVNode)('div',{class:'thought-title'},[(0,o.createElementVNode)('i',{class:'fas fa-comment-dots'}),(0,o.createTextVNode)('å¿ƒç†æ´»åŠ¨')],-1)),(0,o.createElementVNode)('p',null,(0,o.toDisplayString)(e.Thought),1)])):(0,o.createCommentVNode)('v-if',!0)])])):(0,o.createCommentVNode)('v-if',!0)]))),128))]))]))}}),lt=(0,q.A)(at,[['__scopeId','data-v-72449656']]),nt={class:'skills-panel'},ot={class:'skill-points-display'},rt={class:'points-card'},ct={class:'points-info'},st={class:'points-value'},it={class:'magic-max-upgrade'},dt={class:'upgrade-header'},mt={class:'current-magic-max'},ut={class:'upgrade-controls'},vt={class:'input-group'},pt=['max'],kt=['disabled'],ft={class:'upgrade-info'},gt={class:'upgrade-cost'},Et={class:'upgrade-result'},bt={key:0,class:'empty-skills'},Nt={key:1,class:'skills-list'},Vt=['data-skill'],yt={class:'skill-header'},ht={class:'skill-title'},xt={key:0,class:'learned-badge'},Bt={class:'skill-name'},Ct={class:'skill-cost-badge'},St={class:'skill-description'},wt=['disabled','onClick'],zt={key:1,class:'learned-status'},Mt=(0,o.defineComponent)({__name:'SkillsPanel',setup(e){const t=N(),a=(0,o.ref)(1),l=(0,o.computed)(()=>t.data.user||{SkillPoint:0,Magic:0,MagicMax:100,Morality:0,SkillTree:{}}),n=(0,o.computed)(()=>l.value.SkillTree||{}),r=(0,o.computed)(()=>a.value>0&&a.value<=l.value.SkillPoint);function c(e){const t=l.value.SkillPoint||0,a=e?.æ¶ˆè€—||0;return!e?.å·²å­¦ä¹ &&t>=a}function s(){const e=l.value.SkillPoint||0,n=l.value.MagicMax||100,o=l.value.Magic||0,r=a.value||0;if(r>0&&r<=e){const c={...l.value,SkillPoint:e-r,MagicMax:n+r,Magic:o+r};t.data.user=c,a.value=1,console.log('é­”åŠ›å€¼ä¸Šé™å·²å¢åŠ :',{åŸä¸Šé™:n,å¢åŠ ç‚¹æ•°:r,æ–°ä¸Šé™:n+r,åŸé­”åŠ›å€¼:o,æ–°é­”åŠ›å€¼:o+r,å‰©ä½™ä¾µèš€ç‚¹:e-r})}}return(e,i)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',nt,[i[7]||(i[7]=(0,o.createElementVNode)('h3',{class:'panel-title'},'å­¦ä¹ æŠ€èƒ½',-1)),(0,o.createElementVNode)('div',ot,[(0,o.createElementVNode)('div',rt,[i[2]||(i[2]=(0,o.createElementVNode)('span',{class:'points-icon'},'â­',-1)),(0,o.createElementVNode)('div',ct,[(0,o.createElementVNode)('span',st,(0,o.toDisplayString)(l.value.SkillPoint),1),i[1]||(i[1]=(0,o.createElementVNode)('span',{class:'points-label'},'å¯ç”¨ä¾µèš€ç‚¹',-1))])])]),(0,o.createElementVNode)('div',it,[(0,o.createElementVNode)('div',dt,[i[3]||(i[3]=(0,o.createElementVNode)('span',{class:'upgrade-title'},'ğŸ’ å¢åŠ é­”åŠ›å€¼ä¸Šé™',-1)),(0,o.createElementVNode)('span',mt,'å½“å‰ä¸Šé™: '+(0,o.toDisplayString)(l.value.MagicMax),1)]),(0,o.createElementVNode)('div',ut,[(0,o.createElementVNode)('div',vt,[i[4]||(i[4]=(0,o.createElementVNode)('label',{class:'input-label'},'å¢åŠ ç‚¹æ•°:',-1)),(0,o.withDirectives)((0,o.createElementVNode)('input',{type:'number','onUpdate:modelValue':i[0]||(i[0]=e=>a.value=e),min:'1',max:l.value.SkillPoint,class:'upgrade-input',placeholder:'è¾“å…¥ç‚¹æ•°'},null,8,pt),[[o.vModelText,a.value,void 0,{number:!0}]])]),(0,o.createElementVNode)('button',{class:(0,o.normalizeClass)(['upgrade-button',{disabled:!r.value}]),disabled:!r.value,onClick:s},' ç¡®è®¤å¢åŠ  ',10,kt)]),(0,o.createElementVNode)('div',ft,[(0,o.createElementVNode)('span',gt,'æ¶ˆè€—: '+(0,o.toDisplayString)(a.value)+' ä¾µèš€ç‚¹',1),(0,o.createElementVNode)('span',Et,'å¢åŠ åä¸Šé™: '+(0,o.toDisplayString)(l.value.MagicMax+a.value),1)])]),0===Object.keys(n.value).length?((0,o.openBlock)(),(0,o.createElementBlock)('div',bt,[...i[5]||(i[5]=[(0,o.createElementVNode)('p',null,'æš‚æ— å¯å­¦ä¹ çš„æŠ€èƒ½',-1)])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',Nt,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.value,(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:a,class:(0,o.normalizeClass)(['skill-card',{learned:e.å·²å­¦ä¹ ,disabled:!c(e)}]),'data-skill':a},[(0,o.createElementVNode)('div',yt,[(0,o.createElementVNode)('div',ht,[e.å·²å­¦ä¹ ?((0,o.openBlock)(),(0,o.createElementBlock)('span',xt,'âœ“')):(0,o.createCommentVNode)('v-if',!0),(0,o.createElementVNode)('span',Bt,(0,o.toDisplayString)(a),1)]),(0,o.createElementVNode)('div',Ct,'æ¶ˆè€—: '+(0,o.toDisplayString)(e.æ¶ˆè€—)+' ç‚¹',1)]),(0,o.createElementVNode)('p',St,(0,o.toDisplayString)(e.æè¿°),1),e.å·²å­¦ä¹ ?((0,o.openBlock)(),(0,o.createElementBlock)('div',zt,[...i[6]||(i[6]=[(0,o.createElementVNode)('span',{class:'learned-text'},'å·²å­¦ä¹ ',-1)])])):((0,o.openBlock)(),(0,o.createElementBlock)('button',{key:0,class:(0,o.normalizeClass)(['learn-button',{disabled:!c(e)}]),disabled:!c(e),onClick:n=>function(e,a){const n=l.value.SkillPoint||0,o=l.value.SkillTree||{};if(console.log('å­¦ä¹ æŠ€èƒ½å¼€å§‹:',{skillName:e,cost:a,currentSkillPoints:n}),n>=a&&!o[e]?.å·²å­¦ä¹ ){console.log('æ¡ä»¶æ»¡è¶³ï¼Œå‡†å¤‡å­¦ä¹ æŠ€èƒ½');const r={...o,[e]:{...o[e],å·²å­¦ä¹ :!0}},c=n-a;console.log('æ–°æŠ€èƒ½ç‚¹:',c);const s={...l.value,SkillPoint:c,SkillTree:r};t.data.user=s,console.log('dataStore.dataå·²æ›´æ–°:',t.data.user);const i=document.querySelector(`[data-skill="${e}"]`);i&&(i.classList.add('skill-learned-animation'),setTimeout(()=>{i.classList.remove('skill-learned-animation')},1e3)),console.log('å­¦ä¹ æŠ€èƒ½å®Œæˆ')}else console.log('æ¡ä»¶ä¸æ»¡è¶³:',{æŠ€èƒ½ç‚¹è¶³å¤Ÿ:n>=a,æŠ€èƒ½æœªå­¦ä¹ :!o[e]?.å·²å­¦ä¹ })}(a,e.æ¶ˆè€—||0)},(0,o.toDisplayString)(c(e)?'å­¦ä¹ æŠ€èƒ½':'ç‚¹æ•°ä¸è¶³'),11,wt))],10,Vt))),128))]))]))}}),Tt=(0,q.A)(Mt,[['__scopeId','data-v-b5026c5c']]),Dt={class:'story-panel'},_t={key:0,class:'empty-state'},Lt={key:1,class:'story-list'},At=['onClick'],jt={class:'story-header'},Pt={class:'story-name'},$t={class:'story-header-right'},Ot={class:'story-preview'},Ft={key:0,class:'endings-preview'},qt={class:'endings-count'},It={key:0,class:'completed-endings-count'},Ht={key:1,class:'no-endings-preview'},Ut=(0,o.defineComponent)({__name:'StoryPanel',setup(e){const t=N(),a=(0,o.computed)(()=>t.data.ä¸ªäººçº¿||{});function l(e){return!(!e||!e.ç»“å±€)&&Object.values(e.ç»“å±€).some(e=>!(!e||!e.è¾¾æˆæ¡ä»¶)&&Object.values(e.è¾¾æˆæ¡ä»¶).every(e=>!0===e))}function n(e){return e&&e.ç»“å±€?Object.values(e.ç»“å±€).filter(e=>!(!e||!e.è¾¾æˆæ¡ä»¶)&&Object.values(e.è¾¾æˆæ¡ä»¶).every(e=>!0===e)).length:0}function r(e){if(!e)return'æœªçŸ¥';const t=Object.entries(e.ç»“å±€||{}).filter(([_,e])=>!(!e||!e.è¾¾æˆæ¡ä»¶)&&Object.values(e.è¾¾æˆæ¡ä»¶).every(e=>!0===e));if(t.length>0){return`å·²å®Œæˆ: ${t.map(([e])=>e).join('ã€')}`}return e.çŠ¶æ€||'æœªå¼€å§‹'}function c(e){return l(e)?'status-ending-completed':function(e){switch(e){case'æœªå¼€å§‹':return'status-not-started';case'è¿›è¡Œä¸­':return'status-in-progress';case'å·²å®Œæˆ':return'status-completed';default:return'status-unknown'}}(e.çŠ¶æ€||'æœªå¼€å§‹')}return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',Dt,[t[3]||(t[3]=(0,o.createElementVNode)('h3',{class:'panel-title'},'ä¸ªäººçº¿',-1)),0===Object.keys(a.value).length?((0,o.openBlock)(),(0,o.createElementBlock)('div',_t,[...t[0]||(t[0]=[(0,o.createElementVNode)('p',null,'æš‚æ— ä¸ªäººçº¿',-1)])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',Lt,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.value,(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:a,class:(0,o.normalizeClass)(['story-card',{completed:'å·²å®Œæˆ'===e.çŠ¶æ€,'in-progress':'è¿›è¡Œä¸­'===e.çŠ¶æ€,'ending-completed':l(e)}]),onClick:e=>function(e){const t=new CustomEvent('navigate',{detail:{page:'story-detail',storyName:e}});window.dispatchEvent(t)}(a)},[(0,o.createElementVNode)('div',jt,[(0,o.createElementVNode)('span',Pt,(0,o.toDisplayString)(a),1),(0,o.createElementVNode)('div',$t,[(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['story-status',c(e)])},(0,o.toDisplayString)(r(e)),3),t[1]||(t[1]=(0,o.createElementVNode)('i',{class:'fas fa-arrow-right'},null,-1))])]),(0,o.createElementVNode)('div',Ot,[Object.keys(e.ç»“å±€).length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ft,[(0,o.createElementVNode)('span',qt,(0,o.toDisplayString)(Object.keys(e.ç»“å±€).length)+' ä¸ªç»“å±€',1),n(e)>0?((0,o.openBlock)(),(0,o.createElementBlock)('span',It,' ('+(0,o.toDisplayString)(n(e))+' ä¸ªå·²å®Œæˆ) ',1)):(0,o.createCommentVNode)('v-if',!0)])):((0,o.openBlock)(),(0,o.createElementBlock)('div',Ht,[...t[2]||(t[2]=[(0,o.createElementVNode)('span',null,'æš‚æœªè¾¾æˆä»»ä½•ç»“å±€',-1)])]))])],10,At))),128))]))]))}}),Rt=(0,q.A)(Ut,[['__scopeId','data-v-bb48bf38']]),Wt={id:'status-container',class:'status-panel-container'},Gt={key:0,id:'main-menu-page'},Zt={class:'scene-info'},Jt={class:'info-line'},Kt={class:'info-line'},Qt={class:'info-line'},Xt={class:'menu-buttons'},Yt={key:1,id:'archive-page',class:'page-view'},ea={key:2,id:'terminal-page',class:'page-view'},ta={class:'user-stats-section'},aa={class:'stats-grid'},la={class:'stat-card'},na={class:'stat-info'},oa={class:'stat-value'},ra={class:'stat-card'},ca={class:'stat-info'},sa={class:'stat-value'},ia={class:'stat-card'},da={class:'stat-info'},ma={class:'skills-section'},ua={class:'skill-cards'},va={class:'skill-card-text'},pa={class:'skill-card-count'},ka={key:3,id:'skill-list-page',class:'page-view'},fa={class:'block-title'},ga={width:'24',height:'24',viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round',style:{'margin-right':'8px'}},Ea={class:'skill-list-content'},ba={key:0,class:'empty-state'},Na={key:1,class:'learned-skills-list'},Va={class:'skill-item-header'},ya={class:'skill-name'},ha={class:'skill-description'},xa={key:4,id:'learn-skills-page',class:'page-view'},Ba={class:'learn-skills-content'},Ca={key:5,id:'characters-page',class:'page-view'},Sa={key:6,id:'user-page',class:'page-view'},wa={key:7,id:'skills-page',class:'page-view'},za={key:8,id:'story-page',class:'page-view'},Ma={key:9,id:'story-detail-page',class:'page-view'},Ta={class:'block-title'},Da={class:'story-detail-content'},_a={key:0,class:'loading'},La={key:1,class:'story-detail-card'},Aa={class:'story-status'},ja={key:0,class:'endings-section'},Pa={class:'endings-list'},$a={class:'ending-header'},Oa={key:0,class:'ending-completed-badge'},Fa={key:0,class:'ending-description'},qa={class:'description-content'},Ia={key:1,class:'ending-conditions'},Ha={class:'conditions-list'},Ua=['onClick'],Ra={class:'condition-name'},Wa={class:'condition-status'},Ga={key:1,class:'no-endings'},Za={key:10,id:'character-detail-page',class:'page-view'},Ja={class:'block-title'},Ka=(0,o.defineComponent)({__name:'App',setup(e){const t=N(),a=(0,o.ref)('main'),l=(0,o.ref)(''),n=(0,o.ref)(''),r=(0,o.ref)('main');function c(e,t){'character-detail'===e&&(r.value=a.value),a.value=e,t&&('character-detail'===e?l.value=t:'story-detail'===e&&(n.value=t))}const s=(0,o.computed)(()=>t.data.ä¸ªäººçº¿?.[n.value]);function i(e){if(!e||!e.è¾¾æˆæ¡ä»¶)return!1;const t=e.è¾¾æˆæ¡ä»¶;return Object.values(t).every(e=>!0===e)}const d=(0,o.computed)(()=>{if(!s.value)return'æœªçŸ¥';const e=Object.entries(s.value.ç»“å±€||{}).filter(([_,e])=>i(e));if(e.length>0){return`å·²å®Œæˆ: ${e.map(([e])=>e).join('ã€')}`}return s.value.çŠ¶æ€||'æœªå¼€å§‹'}),m=(0,o.computed)(()=>t.data.user||{SkillPoint:0,Magic:0,MagicMax:100,Morality:0,SkillTree:{}}),u=(0,o.computed)(()=>{const e=m.value.SkillTree||{};return Object.keys(e).filter(t=>e[t].å·²å­¦ä¹ )});function v(){if(!s.value)return'status-unknown';return Object.entries(s.value.ç»“å±€||{}).some(([_,e])=>i(e))?'status-ending-completed':function(e){switch(e){case'æœªå¼€å§‹':return'status-not-started';case'è¿›è¡Œä¸­':return'status-in-progress';case'å·²å®Œæˆ':return'status-completed';default:return'status-unknown'}}(s.value.çŠ¶æ€||'æœªå¼€å§‹')}function p(){const e='dark'===document.body.getAttribute('data-theme')?'light':'dark';document.body.setAttribute('data-theme',e),localStorage.setItem('theme',e)}function k(e){const{page:t,charName:a,storyName:l}=e.detail;c(t,a||l)}return(0,o.onMounted)(()=>{const e=localStorage.getItem('theme')||'dark';document.body.setAttribute('data-theme',e),window.addEventListener('navigate',k)}),(0,o.onUnmounted)(()=>{window.removeEventListener('navigate',k)}),(e,k)=>{const f=(0,o.resolveComponent)('UserPanel');return(0,o.openBlock)(),(0,o.createElementBlock)('div',Wt,[(0,o.createCommentVNode)(' ä¸»é¢˜åˆ‡æ¢æŒ‰é’® '),(0,o.createElementVNode)('button',{id:'theme-toggle-btn',title:'åˆ‡æ¢ä¸»é¢˜',onClick:p},[...k[17]||(k[17]=[(0,o.createElementVNode)('i',{class:'fas fa-sun'},null,-1),(0,o.createElementVNode)('i',{class:'fas fa-moon'},null,-1)])]),(0,o.createCommentVNode)(' ä¸»èœå•é¡µé¢ '),'main'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',Gt,[(0,o.createElementVNode)('section',Zt,[(0,o.createElementVNode)('div',Jt,[k[18]||(k[18]=(0,o.createElementVNode)('i',{class:'fas fa-calendar'},null,-1)),k[19]||(k[19]=(0,o.createElementVNode)('strong',null,'æ—¥æœŸï¼š',-1)),(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(t).data.å½“å‰æ—¶é—´?(0,o.unref)(t).data.å½“å‰æ—¶é—´.split(' ')[0]:'æœªçŸ¥'),1)]),(0,o.createElementVNode)('div',Kt,[k[20]||(k[20]=(0,o.createElementVNode)('i',{class:'fas fa-clock'},null,-1)),k[21]||(k[21]=(0,o.createElementVNode)('strong',null,'æ—¶é—´ï¼š',-1)),(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(t).data.å½“å‰æ—¶é—´?(0,o.unref)(t).data.å½“å‰æ—¶é—´.split(' ')[1]:'æœªçŸ¥'),1)]),(0,o.createElementVNode)('div',Qt,[k[22]||(k[22]=(0,o.createElementVNode)('i',{class:'fas fa-map-marker-alt'},null,-1)),k[23]||(k[23]=(0,o.createElementVNode)('strong',null,'åœ°ç‚¹ï¼š',-1)),(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(t).data.location||'æœªçŸ¥'),1)])]),k[28]||(k[28]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-bars'}),(0,o.createTextVNode)('ä¸»èœå•')],-1)),(0,o.createElementVNode)('div',Xt,[(0,o.createElementVNode)('button',{class:'menu-btn',onClick:k[0]||(k[0]=e=>c('characters'))},[...k[24]||(k[24]=[(0,o.createElementVNode)('i',{class:'fas fa-users'},null,-1),(0,o.createTextVNode)(' åœ¨åœºè§’è‰²',-1)])]),(0,o.createElementVNode)('button',{class:'menu-btn',onClick:k[1]||(k[1]=e=>c('archive'))},[...k[25]||(k[25]=[(0,o.createElementVNode)('i',{class:'fas fa-address-book'},null,-1),(0,o.createTextVNode)(' è§’è‰²æ¡£æ¡ˆ',-1)])]),(0,o.createElementVNode)('button',{class:'menu-btn',onClick:k[2]||(k[2]=e=>c('terminal'))},[...k[26]||(k[26]=[(0,o.createElementVNode)('i',{class:'fas fa-laptop-code'},null,-1),(0,o.createTextVNode)(' æˆ‘çš„ç»ˆç«¯',-1)])]),(0,o.createElementVNode)('button',{class:'menu-btn',onClick:k[3]||(k[3]=e=>c('story'))},[...k[27]||(k[27]=[(0,o.createElementVNode)('i',{class:'fas fa-book'},null,-1),(0,o.createTextVNode)(' ä¸ªäººçº¿',-1)])])])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' è§’è‰²æ¡£æ¡ˆé¡µé¢ '),'archive'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',Yt,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[4]||(k[4]=e=>c('main'))},[...k[29]||(k[29]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),k[30]||(k[30]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-address-book'}),(0,o.createTextVNode)(' è§’è‰²æ¡£æ¡ˆ')],-1)),(0,o.createVNode)(I,{onViewCharacter:k[5]||(k[5]=e=>c('character-detail',e))})])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' æˆ‘çš„ç»ˆç«¯é¡µé¢ '),'terminal'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',ea,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[6]||(k[6]=e=>c('main'))},[...k[31]||(k[31]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),k[41]||(k[41]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-laptop-code'}),(0,o.createTextVNode)(' æˆ‘çš„ç»ˆç«¯')],-1)),(0,o.createCommentVNode)(' ä¸ªäººçŠ¶æ€ '),(0,o.createElementVNode)('div',ta,[(0,o.createElementVNode)('div',aa,[(0,o.createElementVNode)('div',la,[k[33]||(k[33]=(0,o.createElementVNode)('span',{class:'stat-icon'},'â­',-1)),(0,o.createElementVNode)('div',na,[(0,o.createElementVNode)('span',oa,(0,o.toDisplayString)(m.value.SkillPoint),1),k[32]||(k[32]=(0,o.createElementVNode)('span',{class:'stat-label'},'ä¾µèš€ç‚¹',-1))])]),(0,o.createElementVNode)('div',ra,[k[35]||(k[35]=(0,o.createElementVNode)('span',{class:'stat-icon'},'ğŸ’',-1)),(0,o.createElementVNode)('div',ca,[(0,o.createElementVNode)('span',sa,(0,o.toDisplayString)(m.value.Magic)+'/'+(0,o.toDisplayString)(m.value.MagicMax),1),k[34]||(k[34]=(0,o.createElementVNode)('span',{class:'stat-label'},'é­”åŠ›å€¼',-1))])]),(0,o.createElementVNode)('div',ia,[k[37]||(k[37]=(0,o.createElementVNode)('span',{class:'stat-icon'},'âš–ï¸',-1)),(0,o.createElementVNode)('div',da,[(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['stat-value',{positive:m.value.Morality>=0,negative:m.value.Morality<0}])},(0,o.toDisplayString)(m.value.Morality>=0?'+':'')+(0,o.toDisplayString)(m.value.Morality),3),k[36]||(k[36]=(0,o.createElementVNode)('span',{class:'stat-label'},'å–„æ¶å€¼',-1))])])])]),(0,o.createCommentVNode)(' æŠ€èƒ½åˆ—è¡¨å’Œå­¦ä¹ æŠ€èƒ½å…¥å£ '),(0,o.createElementVNode)('div',ma,[(0,o.createElementVNode)('div',ua,[(0,o.createElementVNode)('button',{class:'skill-card',onClick:k[7]||(k[7]=e=>c('skillList'))},[k[39]||(k[39]=(0,o.createElementVNode)('div',{class:'skill-card-icon'},[(0,o.createElementVNode)('svg',{width:'48',height:'48',viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round'},[(0,o.createElementVNode)('path',{d:'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20'})])],-1)),(0,o.createElementVNode)('div',va,[k[38]||(k[38]=(0,o.createElementVNode)('div',{class:'skill-card-title'},'æŠ€èƒ½åˆ—è¡¨',-1)),(0,o.createElementVNode)('div',pa,'('+(0,o.toDisplayString)(u.value.length)+')',1)])]),(0,o.createElementVNode)('button',{class:'skill-card',onClick:k[8]||(k[8]=e=>c('learnSkills'))},[...k[40]||(k[40]=[(0,o.createStaticVNode)('<div class="skill-card-icon" data-v-317918d2><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-317918d2><path d="M22 10v6M2 10l10-5 10 5-10 5z" data-v-317918d2></path><path d="M6 12v5c3 3 9 3 12 0v-5" data-v-317918d2></path></svg></div><div class="skill-card-text" data-v-317918d2><div class="skill-card-title" data-v-317918d2>å­¦ä¹ æŠ€èƒ½</div></div>',2)])])])])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' æŠ€èƒ½åˆ—è¡¨é¡µé¢ '),'skillList'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',ka,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[9]||(k[9]=e=>c('terminal'))},[...k[42]||(k[42]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),(0,o.createElementVNode)('div',fa,[((0,o.openBlock)(),(0,o.createElementBlock)('svg',ga,[...k[43]||(k[43]=[(0,o.createElementVNode)('path',{d:'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20'},null,-1)])])),k[44]||(k[44]=(0,o.createTextVNode)(' æŠ€èƒ½åˆ—è¡¨ ',-1))]),(0,o.createElementVNode)('div',Ea,[0===u.value.length?((0,o.openBlock)(),(0,o.createElementBlock)('div',ba,[...k[45]||(k[45]=[(0,o.createElementVNode)('p',null,'æš‚æœªå­¦ä¹ ä»»ä½•æŠ€èƒ½',-1)])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',Na,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(u.value,e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e,class:'learned-skill-item'},[(0,o.createElementVNode)('div',Va,[k[46]||(k[46]=(0,o.createElementVNode)('div',{class:'skill-check'},[(0,o.createElementVNode)('svg',{width:'20',height:'20',viewBox:'0 0 24 24',fill:'currentColor',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round'},[(0,o.createElementVNode)('polyline',{points:'20 6 9 17 4 12'})])],-1)),(0,o.createElementVNode)('div',ya,(0,o.toDisplayString)(e),1),k[47]||(k[47]=(0,o.createElementVNode)('div',{class:'skill-status'},'å·²æŒæ¡',-1))]),(0,o.createElementVNode)('div',ha,(0,o.toDisplayString)(m.value.SkillTree[e].æè¿°),1)]))),128))]))])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' å­¦ä¹ æŠ€èƒ½é¡µé¢ '),'learnSkills'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',xa,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[10]||(k[10]=e=>c('terminal'))},[...k[48]||(k[48]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),k[49]||(k[49]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-graduation-cap'}),(0,o.createTextVNode)(' å­¦ä¹ æŠ€èƒ½')],-1)),(0,o.createElementVNode)('div',Ba,[(0,o.createVNode)(Tt)])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' åœ¨åœºè§’è‰²é¡µé¢ '),'characters'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ca,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[11]||(k[11]=e=>c('main'))},[...k[50]||(k[50]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),k[51]||(k[51]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-users'}),(0,o.createTextVNode)(' åœ¨åœºè§’è‰²')],-1)),(0,o.createVNode)(lt)])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' ç”¨æˆ·çŠ¶æ€é¡µé¢ '),'user'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',Sa,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[12]||(k[12]=e=>c('main'))},[...k[52]||(k[52]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),k[53]||(k[53]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-user'}),(0,o.createTextVNode)(' ç”¨æˆ·çŠ¶æ€')],-1)),(0,o.createVNode)(f)])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' å­¦ä¹ æŠ€èƒ½é¡µé¢ '),'skills'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',wa,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[13]||(k[13]=e=>c('main'))},[...k[54]||(k[54]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),k[55]||(k[55]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-graduation-cap'}),(0,o.createTextVNode)(' å­¦ä¹ æŠ€èƒ½')],-1)),(0,o.createVNode)(Tt)])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' ä¸ªäººçº¿é¡µé¢ '),'story'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',za,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[14]||(k[14]=e=>c('main'))},[...k[56]||(k[56]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),k[57]||(k[57]=(0,o.createElementVNode)('div',{class:'block-title'},[(0,o.createElementVNode)('i',{class:'fas fa-book'}),(0,o.createTextVNode)(' ä¸ªäººçº¿')],-1)),(0,o.createVNode)(Rt)])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' ä¸ªäººçº¿è¯¦æƒ…é¡µé¢ '),'story-detail'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ma,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[15]||(k[15]=e=>c('story'))},[...k[58]||(k[58]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å›',-1)])]),(0,o.createElementVNode)('div',Ta,[k[59]||(k[59]=(0,o.createElementVNode)('i',{class:'fas fa-book-open'},null,-1)),(0,o.createTextVNode)(' '+(0,o.toDisplayString)(n.value),1)]),(0,o.createElementVNode)('div',Da,[s.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',La,[(0,o.createElementVNode)('div',Aa,[k[61]||(k[61]=(0,o.createElementVNode)('strong',null,'çŠ¶æ€ï¼š',-1)),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(v())},(0,o.toDisplayString)(d.value),3)]),Object.keys(s.value.ç»“å±€).length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',ja,[k[64]||(k[64]=(0,o.createElementVNode)('div',{class:'endings-title'},'ğŸ“š ç»“å±€',-1)),(0,o.createElementVNode)('div',Pa,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.value.ç»“å±€,(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:a,class:(0,o.normalizeClass)(['ending-item',{'ending-completed':i(e)}])},[(0,o.createElementVNode)('div',$a,[(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['ending-name',{'ending-name-completed':i(e)}])},(0,o.toDisplayString)(a),3),i(e)?((0,o.openBlock)(),(0,o.createElementBlock)('span',Oa,'âœ¨ å·²è¾¾æˆ')):(0,o.createCommentVNode)('v-if',!0)]),(0,o.createCommentVNode)(' ç»“å±€è¯´æ˜ '),e.è¯´æ˜?((0,o.openBlock)(),(0,o.createElementBlock)('div',Fa,[k[62]||(k[62]=(0,o.createElementVNode)('div',{class:'description-title'},'è¯´æ˜',-1)),(0,o.createElementVNode)('p',qa,(0,o.toDisplayString)(e.è¯´æ˜),1)])):(0,o.createCommentVNode)('v-if',!0),Object.keys(e.è¾¾æˆæ¡ä»¶).length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ia,[k[63]||(k[63]=(0,o.createElementVNode)('div',{class:'conditions-title'},'è¾¾æˆæ¡ä»¶',-1)),(0,o.createElementVNode)('div',Ha,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.è¾¾æˆæ¡ä»¶,(e,l)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:l,class:(0,o.normalizeClass)(['condition-item',{'condition-met':e}]),onClick:o=>function(e,a,l){if(!s.value||!s.value.ç»“å±€||!s.value.ç»“å±€[e])return;const o=l?'å–æ¶ˆå®Œæˆæ¡ä»¶':'æ ‡è®°ä¸ºå·²å®Œæˆ',r=l?`ç¡®å®šè¦å–æ¶ˆå®Œæˆæ¡ä»¶ã€Œ${a}ã€å—ï¼Ÿ`:`ç¡®å®šè¦æ ‡è®°æ¡ä»¶ã€Œ${a}ã€ä¸ºå·²å®Œæˆå—ï¼Ÿ`,c=document.createElement('div');c.innerHTML=`\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ">\n      <div style="\n        background: var(--card-bg-color, #1e1e2e);\n        border: 1px solid var(--border-color, #45475a);\n        border-radius: 12px;\n        padding: 24px;\n        min-width: 320px;\n        max-width: 90%;\n        color: var(--text-color, #cdd6f4);\n      ">\n        <h3 style="margin: 0 0 16px 0; font-size: 18px;">${o}</h3>\n        <p style="margin: 0 0 20px 0; color: var(--subtext-color, #a6adc8);">${r}</p>\n        <div style="display: flex; gap: 12px;">\n          <button id="btn-confirm" style="\n            flex: 1;\n            padding: 12px;\n            background: ${l?'var(--red, #f38ba8)':'var(--blue, #89b4fa)'};\n            color: #1e1e2e;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">${l?'å–æ¶ˆå®Œæˆ':'ç¡®è®¤å®Œæˆ'}</button>\n          <button id="btn-cancel" style="\n            flex: 1;\n            padding: 12px;\n            background: var(--surface-color, #313244);\n            color: var(--text-color, #cdd6f4);\n            border: 1px solid var(--border-color, #45475a);\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 600;\n          ">å–æ¶ˆ</button>\n        </div>\n      </div>\n    </div>\n  `,document.body.appendChild(c),c.querySelector('#btn-confirm')?.addEventListener('click',()=>{const o={...s.value,ç»“å±€:{...s.value.ç»“å±€,[e]:{...s.value.ç»“å±€[e],è¾¾æˆæ¡ä»¶:{...s.value.ç»“å±€[e].è¾¾æˆæ¡ä»¶,[a]:!l}}}};t.data.ä¸ªäººçº¿={...t.data.ä¸ªäººçº¿,[n.value]:o},console.log('æ¡ä»¶çŠ¶æ€å·²æ›´æ–°:',{ç»“å±€:e,æ¡ä»¶:a,æ–°çŠ¶æ€:!l}),document.body.removeChild(c)}),c.querySelector('#btn-cancel')?.addEventListener('click',()=>{document.body.removeChild(c)}),c.firstElementChild?.addEventListener('click',e=>{e.target===c.firstElementChild&&document.body.removeChild(c)})}(a,l,e)},[(0,o.createElementVNode)('span',Ra,(0,o.toDisplayString)(l),1),(0,o.createElementVNode)('span',Wa,(0,o.toDisplayString)(e?'âœ“':'âœ—'),1)],10,Ua))),128))])])):(0,o.createCommentVNode)('v-if',!0)],2))),128))])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',Ga,[...k[65]||(k[65]=[(0,o.createElementVNode)('span',{class:'no-endings-text'},'æš‚æœªè¾¾æˆä»»ä½•ç»“å±€',-1)])]))])):((0,o.openBlock)(),(0,o.createElementBlock)('div',_a,[...k[60]||(k[60]=[(0,o.createElementVNode)('span',null,'åŠ è½½ä¸ªäººçº¿ä¿¡æ¯ä¸­...',-1)])]))])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' è§’è‰²è¯¦æƒ…é¡µé¢ '),'character-detail'===a.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',Za,[(0,o.createElementVNode)('button',{class:'back-btn view-btn',onClick:k[16]||(k[16]=e=>c(r.value))},[...k[66]||(k[66]=[(0,o.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,o.createTextVNode)(' è¿”å› ',-1)])]),(0,o.createElementVNode)('div',Ja,[k[67]||(k[67]=(0,o.createElementVNode)('i',{class:'fas fa-user'},null,-1)),(0,o.createTextVNode)(' '+(0,o.toDisplayString)(l.value),1)]),(0,o.createVNode)(Be,{characterName:l.value},null,8,['characterName'])])):(0,o.createCommentVNode)('v-if',!0)])}}}),Qa=(0,q.A)(Ka,[['__scopeId','data-v-317918d2']]);$(async()=>{await waitGlobalInitialized('Mvu'),await e(()=>_.has(getVariables({type:'message'}),'stat_data')),(0,o.createApp)(Qa).use(t()).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>.character-archive[data-v-e6df9bba]{padding:16px 0}.empty-state[data-v-e6df9bba]{text-align:center;padding:48px 20px;color:var(--subtext-color);font-style:italic}.empty-state p[data-v-e6df9bba]{margin:0;font-size:16px}.character-grid[data-v-e6df9bba]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.character-card[data-v-e6df9bba]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:12px;padding:16px;cursor:pointer;transition:all 0.3s ease;position:relative;overflow:hidden}.character-card[data-v-e6df9bba]:hover{border-color:var(--blue);box-shadow:0 4px 16px rgba(137,180,250,0.2);transform:translateY(-4px)}.character-avatar[data-v-e6df9bba]{width:80px;height:80px;margin:0 auto 12px;border-radius:50%;overflow:hidden;border:2px solid var(--border-color);background-color:var(--quote-bg-color);display:flex;align-items:center;justify-content:center}.character-avatar img[data-v-e6df9bba]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[data-v-e6df9bba]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:32px;color:var(--subtext-color)}.character-info[data-v-e6df9bba]{text-align:center}.character-name[data-v-e6df9bba]{font-size:16px;font-weight:600;color:var(--text-color);margin:0 0 12px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.character-stats[data-v-e6df9bba]{display:flex;justify-content:center;gap:16px}.stat-item[data-v-e6df9bba]{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--subtext-color)}.stat-item i[data-v-e6df9bba]{font-size:10px}.character-status-badge[data-v-e6df9bba]{position:absolute;top:8px;right:8px;padding:4px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase}.character-status-badge.present[data-v-e6df9bba]{background-color:rgba(74,222,128,0.2);color:var(--green)}.character-status-badge.absent[data-v-e6df9bba]{background-color:rgba(148,163,184,0.2);color:var(--subtext-color)}@media (max-width:480px){.character-grid[data-v-e6df9bba]{grid-template-columns:repeat(2,1fr);gap:12px}.character-card[data-v-e6df9bba]{padding:12px}.character-avatar[data-v-e6df9bba]{width:60px;height:60px}.character-name[data-v-e6df9bba]{font-size:14px}.character-stats[data-v-e6df9bba]{gap:8px}.stat-item[data-v-e6df9bba]{font-size:10px}}

/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */[data-v-417e77fd]:root,body[data-theme='dark'][data-v-417e77fd]{--bg-color:#1e1e2e;--card-bg-color:#181825;--text-color:#cdd6f4;--subtext-color:#a6adc8;--border-color:#313244;--tooltip-bg-color:#11111b;--quote-bg-color:rgba(0,0,0,0.2);--green:#a6e3a1;--pink:#f5c2e7;--purple:#cba6f7;--red:#f38ba8;--blue:#89b4fa;--grey-blue:#6c7086;--green-gradient:linear-gradient(45deg,#a6e3a1,#81c784);--pink-gradient:linear-gradient(45deg,#f5c2e7,#f06292);--purple-gradient:linear-gradient(45deg,#cba6f7,#9575cd);--red-gradient:linear-gradient(45deg,#f38ba8,#e67a85);--grey-blue-gradient:linear-gradient(45deg,#6c7086,#546e7a)}body[data-theme='light'][data-v-417e77fd]{--bg-color:#eff1f5;--card-bg-color:#ffffff;--text-color:#4c4f69;--subtext-color:#6c6f85;--border-color:#ccd0da;--tooltip-bg-color:#5c5f77;--quote-bg-color:#e6e9ef;--green:#40a02b;--pink:#e64584;--purple:#8839ef;--red:#d20f39;--blue:#1e66f5;--grey-blue:#8c8fa1;--green-gradient:linear-gradient(45deg,#66bb6a,#43a047);--pink-gradient:linear-gradient(45deg,#ec407a,#d81b60);--purple-gradient:linear-gradient(45deg,#ab47bc,#8e24aa);--red-gradient:linear-gradient(45deg,#e57373,#d32f2f);--grey-blue-gradient:linear-gradient(45deg,#78909c,#607d8b)}@keyframes card-enter-417e77fd{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes button-click-effect-417e77fd{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes progress-bar-fill-anim-417e77fd{from{width:0}}.status-panel-container[data-v-417e77fd]{position:relative;width:95%;max-width:500px;max-height:600px;margin:10px auto;background-color:var(--bg-color);background-image:url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23313244" fill-opacity="0.1" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zM6 5v1H5z"/%3E%3C/g%3E%3C/svg%3E');border:1px solid transparent;border-image:linear-gradient(to bottom right,var(--blue),var(--purple)) 1;border-radius:12px;font-family:'Segoe UI','Microsoft YaHei',system-ui,sans-serif;color:var(--text-color);padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);box-sizing:border-box;transition:background-color 0.3s,border-color 0.3s;overflow-y:auto}#theme-toggle-btn[data-v-417e77fd]{position:absolute;top:16px;right:16px;background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background-color 0.2s,color 0.2s,border-color 0.3s,transform 0.2s;z-index:1000}#theme-toggle-btn[data-v-417e77fd]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.1)}#theme-toggle-btn[data-v-417e77fd]:active{animation:button-click-effect-417e77fd 0.2s ease-out}body[data-theme='dark'] .fa-sun[data-v-417e77fd]{display:none}body[data-theme='light'] .fa-moon[data-v-417e77fd]{display:none}.scene-info[data-v-417e77fd]{margin-bottom:24px}.block-title[data-v-417e77fd]{font-size:1.25em;font-weight:bold;color:var(--blue);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);display:flex;align-items:center}.block-title i[data-v-417e77fd]{margin-right:8px;transition:transform 0.2s}.block-title:hover i[data-v-417e77fd]{transform:scale(1.1)}.info-line[data-v-417e77fd]{font-size:1em;margin-bottom:8px;color:var(--subtext-color);display:flex;align-items:center}.info-line i[data-v-417e77fd]{margin-right:10px;width:20px;text-align:center;color:var(--blue);transition:transform 0.2s}.info-line:hover i[data-v-417e77fd]{transform:scale(1.1)}.info-line strong[data-v-417e77fd]{color:var(--text-color)}.char-card[data-v-417e77fd]{background-color:var(--card-bg-color);border-radius:12px;margin-bottom:16px;border:1px solid var(--border-color);border-left:4px solid var(--pink);box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s ease-out,box-shadow 0.2s ease-out,background-color 0.3s,border-color 0.3s;overflow:hidden;animation:card-enter-417e77fd 0.5s ease-out forwards;cursor:pointer}.char-card[data-v-417e77fd]:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.char-name[data-v-417e77fd]{font-size:1.4em;font-weight:bold;color:var(--pink);padding:16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.char-name[data-v-417e77fd]:hover{background-color:rgba(255,255,255,0.05)}.char-name .collapse-icon[data-v-417e77fd]{width:1em;height:1em;transition:transform 0.3s ease-out}.char-card.collapsed .collapse-icon[data-v-417e77fd]{transform:rotate(180deg)}.char-details[data-v-417e77fd]{font-size:0.95em;line-height:1.7;padding:0 16px 16px 16px;max-height:1000px;transition:max-height 0.4s ease-in-out,padding 0.4s ease-in-out}.char-card.collapsed .char-details[data-v-417e77fd]{max-height:0;padding-top:0;padding-bottom:0}.char-details .detail-item[data-v-417e77fd]{display:flex;align-items:center;margin:4px 0;color:var(--subtext-color)}.char-details .detail-item i[data-v-417e77fd]{margin-right:8px;width:18px;text-align:center;transition:transform 0.2s}.char-details .detail-item:hover i[data-v-417e77fd]{transform:scale(1.2)}.char-details .detail-item strong[data-v-417e77fd]{color:var(--text-color)}.status-highlight-yes[data-v-417e77fd]{color:var(--green);font-weight:bold}.status-highlight-no[data-v-417e77fd]{color:var(--grey-blue)}.stat-bar-container[data-v-417e77fd]{margin-top:12px}.stat-bar-label[data-v-417e77fd]{display:flex;justify-content:space-between;font-size:0.9em;margin-bottom:6px;color:var(--subtext-color);align-items:center}.stat-bar-title[data-v-417e77fd]{display:flex;align-items:center;position:relative;cursor:default}.stat-bar-title i[data-v-417e77fd]{margin-right:6px;transition:transform 0.2s}.stat-bar-title:hover i[data-v-417e77fd]{transform:scale(1.2)}.stat-bar-title[data-tooltip][data-v-417e77fd]::after{content:attr(data-tooltip);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background-color:var(--tooltip-bg-color);color:var(--text-color);padding:6px 10px;border-radius:6px;font-size:0.8em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;z-index:10}.stat-bar-title[data-tooltip][data-v-417e77fd]:hover::after{opacity:1;visibility:visible}.stat-bar-value[data-v-417e77fd]{font-weight:bold;color:var(--text-color)}.progress-bar[data-v-417e77fd]{width:100%;height:14px;background-color:var(--border-color);border-radius:6px;overflow:hidden}.progress-bar-fill[data-v-417e77fd]{height:100%;border-radius:6px;transition:width 0.6s ease-out}.magic-bar[data-v-417e77fd]{background:var(--green-gradient)}.favor-bar-positive[data-v-417e77fd]{background:var(--pink-gradient)}.favor-bar-negative[data-v-417e77fd]{background:var(--grey-blue-gradient)}.corruption-bar[data-v-417e77fd]{background:var(--purple-gradient)}.lust-bar[data-v-417e77fd]{background:var(--red-gradient)}.thought-block[data-v-417e77fd]{margin-top:16px;padding:12px;background-color:var(--quote-bg-color);border-left:3px solid var(--blue);border-radius:0 6px 6px 0}.thought-block .thought-title[data-v-417e77fd]{display:flex;align-items:center;font-weight:bold;margin-bottom:6px;color:var(--subtext-color);font-size:0.9em}.thought-block .thought-title i[data-v-417e77fd]{margin-right:6px;transition:transform 0.2s}.thought-block .thought-title:hover i[data-v-417e77fd]{transform:scale(1.2)}.thought-block p[data-v-417e77fd]{margin:0;color:var(--text-color);font-size:0.95em}.view-toggle-buttons[data-v-417e77fd]{margin-left:auto;display:flex;gap:8px}.view-btn[data-v-417e77fd]{background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);padding:4px 10px;border-radius:20px;cursor:pointer;font-size:0.8em;transition:background-color 0.2s,color 0.2s,transform 0.2s}.view-btn[data-v-417e77fd]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.05)}.view-btn[data-v-417e77fd]:active{animation:button-click-effect-417e77fd 0.2s ease-out}.view-btn.active[data-v-417e77fd]{background-color:var(--blue);color:var(--bg-color);border-color:var(--blue)}.menu-buttons[data-v-417e77fd]{display:flex;justify-content:space-around;gap:16px;margin-top:24px;padding:10px 0}.menu-btn[data-v-417e77fd]{background-color:var(--card-bg-color);border:1px solid var(--border-color);color:var(--text-color);width:90px;height:90px;border-radius:16px;cursor:pointer;font-size:0.9em;transition:background-color 0.2s,transform 0.2s,box-shadow 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:0}.menu-btn[data-v-417e77fd]:hover{background-color:var(--border-color);transform:translateY(-4px);box-shadow:0 6px 12px rgba(0,0,0,0.1)}.menu-btn[data-v-417e77fd]:active{animation:button-click-effect-417e77fd 0.2s ease-out}.menu-btn i[data-v-417e77fd]{margin-right:0;font-size:2em;color:var(--blue)}.back-btn[data-v-417e77fd]{margin-bottom:16px}.off-scene-char[data-v-417e77fd]{display:flex;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border-color);font-size:0.95em}.off-scene-char[data-v-417e77fd]:last-child{border-bottom:none}.off-scene-char-name[data-v-417e77fd]{font-weight:bold;color:var(--text-color)}.off-scene-char-stats[data-v-417e77fd]{color:var(--subtext-color)}.user-terminal[data-v-417e77fd]{padding:16px}.user-stats-grid[data-v-417e77fd]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-bottom:24px}.user-stat-item[data-v-417e77fd]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--border-color)}.user-stat-item .stat-label[data-v-417e77fd]{font-size:0.9em;color:var(--subtext-color);margin-bottom:6px}.user-stat-item .stat-value[data-v-417e77fd]{font-size:1.5em;font-weight:bold;color:var(--text-color)}.skills-section .section-title[data-v-417e77fd]{font-size:1.1em;font-weight:bold;color:var(--text-color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.skill-list[data-v-417e77fd]{list-style:none;padding:0;margin:0}.skill-item[data-v-417e77fd]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;margin-bottom:10px;border-left:3px solid var(--purple)}.skill-item-header[data-v-417e77fd]{display:flex;justify-content:space-between;font-weight:bold}.skill-item .skill-name[data-v-417e77fd]{color:var(--text-color)}.skill-item .skill-cost[data-v-417e77fd]{color:var(--purple)}.skill-item .skill-description[data-v-417e77fd]{font-size:0.9em;color:var(--subtext-color);margin-top:6px}[data-v-417e77fd]::-webkit-scrollbar{width:8px}[data-v-417e77fd]::-webkit-scrollbar-track{background-color:var(--border-color);border-radius:4px}[data-v-417e77fd]::-webkit-scrollbar-thumb{background-color:var(--grey-blue);border-radius:4px}[data-v-417e77fd]::-webkit-scrollbar-thumb:hover{background-color:var(--blue)}@media (max-width:600px){.status-panel-container[data-v-417e77fd]{width:100%;margin:0;border-radius:0}.menu-buttons[data-v-417e77fd]{flex-wrap:wrap;gap:12px}.menu-btn[data-v-417e77fd]{flex:1;min-width:80px}.user-stats-grid[data-v-417e77fd]{grid-template-columns:repeat(2,1fr)}}.loading[data-v-417e77fd]{display:flex;justify-content:center;align-items:center;padding:20px;color:var(--subtext-color)}.loading[data-v-417e77fd]::after{content:'';width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--blue);border-radius:50%;animation:spin-417e77fd 1s linear infinite;margin-left:10px}@keyframes spin-417e77fd{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.error-message[data-v-417e77fd]{color:var(--red);padding:12px;background-color:rgba(243,139,168,0.1);border:1px solid var(--red);border-radius:8px;margin:16px 0}.success-message[data-v-417e77fd]{color:var(--green);padding:12px;background-color:rgba(166,227,161,0.1);border:1px solid var(--green);border-radius:8px;margin:16px 0}.character-detail-panel[data-v-417e77fd]{display:flex;flex-direction:column;gap:16px;min-height:400px}.character-detail-content[data-v-417e77fd]{display:flex;flex-direction:column;gap:16px}.avatar-section[data-v-417e77fd]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:0 0 24px 0;background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:12px;overflow:hidden}.avatar-banner[data-v-417e77fd]{position:relative;width:100%;height:180px;overflow:hidden;background-color:var(--quote-bg-color)}.character-avatar-img[data-v-417e77fd]{width:100%;height:100%;object-fit:cover;object-position:top center}.avatar-gradient-overlay[data-v-417e77fd]{position:absolute;bottom:0;left:0;right:0;height:100px;background:linear-gradient(to bottom,transparent,var(--card-bg-color));pointer-events:none}.avatar-placeholder-large[data-v-417e77fd]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:64px;color:var(--subtext-color)}.change-avatar-btn[data-v-417e77fd]{position:absolute;bottom:0;right:0;width:36px;height:36px;border-radius:50%;background-color:var(--blue);border:2px solid var(--card-bg-color);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;box-shadow:0 2px 8px rgba(0,0,0,.2)}.change-avatar-btn[data-v-417e77fd]:hover{background-color:var(--blue-hover,#6d9cf3);transform:scale(1.1)}.character-title[data-v-417e77fd]{font-size:20px;font-weight:600;color:var(--text-color)}.avatar-history[data-v-417e77fd]{width:100%;margin-top:8px}.history-title[data-v-417e77fd]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;text-align:center}.history-list[data-v-417e77fd]{display:flex;justify-content:center;gap:8px;flex-wrap:wrap}.history-item[data-v-417e77fd]{position:relative;width:48px;height:48px;border-radius:8px;overflow:hidden;border:2px solid var(--border-color);cursor:pointer;transition:all .2s;background-color:var(--quote-bg-color)}.history-item[data-v-417e77fd]:hover{border-color:var(--blue);transform:scale(1.1)}.history-item.active[data-v-417e77fd]{border-color:var(--green);box-shadow:0 0 0 2px rgba(74,222,128,.3)}.history-item.error[data-v-417e77fd]{display:none}.history-item img[data-v-417e77fd]{width:100%;height:100%;object-fit:cover}.delete-avatar-btn[data-v-417e77fd]{position:absolute;top:2px;right:2px;width:16px;height:16px;border-radius:50%;background-color:var(--red);border:1px solid var(--card-bg-color);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;opacity:0;z-index:10}.delete-avatar-btn i[data-v-417e77fd]{font-size:10px}.history-item:hover .delete-avatar-btn[data-v-417e77fd]{opacity:1}.delete-avatar-btn[data-v-417e77fd]:hover{background-color:#e06c75;transform:scale(1.2)}.additional-info[data-v-417e77fd]{margin-top:16px}.info-grid[data-v-417e77fd]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.info-item[data-v-417e77fd]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;border:1px solid var(--border-color);font-size:.9em}.info-item strong[data-v-417e77fd]{color:var(--text-color);margin-right:4px}.info-item span[data-v-417e77fd]{color:var(--subtext-color)}
/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */[data-v-72449656]:root,body[data-theme='dark'][data-v-72449656]{--bg-color:#1e1e2e;--card-bg-color:#181825;--text-color:#cdd6f4;--subtext-color:#a6adc8;--border-color:#313244;--tooltip-bg-color:#11111b;--quote-bg-color:rgba(0,0,0,0.2);--green:#a6e3a1;--pink:#f5c2e7;--purple:#cba6f7;--red:#f38ba8;--blue:#89b4fa;--grey-blue:#6c7086;--green-gradient:linear-gradient(45deg,#a6e3a1,#81c784);--pink-gradient:linear-gradient(45deg,#f5c2e7,#f06292);--purple-gradient:linear-gradient(45deg,#cba6f7,#9575cd);--red-gradient:linear-gradient(45deg,#f38ba8,#e67a85);--grey-blue-gradient:linear-gradient(45deg,#6c7086,#546e7a)}body[data-theme='light'][data-v-72449656]{--bg-color:#eff1f5;--card-bg-color:#ffffff;--text-color:#4c4f69;--subtext-color:#6c6f85;--border-color:#ccd0da;--tooltip-bg-color:#5c5f77;--quote-bg-color:#e6e9ef;--green:#40a02b;--pink:#e64584;--purple:#8839ef;--red:#d20f39;--blue:#1e66f5;--grey-blue:#8c8fa1;--green-gradient:linear-gradient(45deg,#66bb6a,#43a047);--pink-gradient:linear-gradient(45deg,#ec407a,#d81b60);--purple-gradient:linear-gradient(45deg,#ab47bc,#8e24aa);--red-gradient:linear-gradient(45deg,#e57373,#d32f2f);--grey-blue-gradient:linear-gradient(45deg,#78909c,#607d8b)}@keyframes card-enter-72449656{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes button-click-effect-72449656{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes progress-bar-fill-anim-72449656{from{width:0}}.status-panel-container[data-v-72449656]{position:relative;width:95%;max-width:500px;max-height:600px;margin:10px auto;background-color:var(--bg-color);background-image:url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23313244" fill-opacity="0.1" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zM6 5v1H5z"/%3E%3C/g%3E%3C/svg%3E');border:1px solid transparent;border-image:linear-gradient(to bottom right,var(--blue),var(--purple)) 1;border-radius:12px;font-family:'Segoe UI','Microsoft YaHei',system-ui,sans-serif;color:var(--text-color);padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);box-sizing:border-box;transition:background-color 0.3s,border-color 0.3s;overflow-y:auto}#theme-toggle-btn[data-v-72449656]{position:absolute;top:16px;right:16px;background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background-color 0.2s,color 0.2s,border-color 0.3s,transform 0.2s;z-index:1000}#theme-toggle-btn[data-v-72449656]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.1)}#theme-toggle-btn[data-v-72449656]:active{animation:button-click-effect-72449656 0.2s ease-out}body[data-theme='dark'] .fa-sun[data-v-72449656]{display:none}body[data-theme='light'] .fa-moon[data-v-72449656]{display:none}.scene-info[data-v-72449656]{margin-bottom:24px}.block-title[data-v-72449656]{font-size:1.25em;font-weight:bold;color:var(--blue);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);display:flex;align-items:center}.block-title i[data-v-72449656]{margin-right:8px;transition:transform 0.2s}.block-title:hover i[data-v-72449656]{transform:scale(1.1)}.info-line[data-v-72449656]{font-size:1em;margin-bottom:8px;color:var(--subtext-color);display:flex;align-items:center}.info-line i[data-v-72449656]{margin-right:10px;width:20px;text-align:center;color:var(--blue);transition:transform 0.2s}.info-line:hover i[data-v-72449656]{transform:scale(1.1)}.info-line strong[data-v-72449656]{color:var(--text-color)}.char-card[data-v-72449656]{background-color:var(--card-bg-color);border-radius:12px;margin-bottom:16px;border:1px solid var(--border-color);border-left:4px solid var(--pink);box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s ease-out,box-shadow 0.2s ease-out,background-color 0.3s,border-color 0.3s;overflow:hidden;animation:card-enter-72449656 0.5s ease-out forwards;cursor:pointer}.char-card[data-v-72449656]:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.char-name[data-v-72449656]{font-size:1.4em;font-weight:bold;color:var(--pink);padding:16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.char-name[data-v-72449656]:hover{background-color:rgba(255,255,255,0.05)}.char-name .collapse-icon[data-v-72449656]{width:1em;height:1em;transition:transform 0.3s ease-out}.char-card.collapsed .collapse-icon[data-v-72449656]{transform:rotate(180deg)}.char-details[data-v-72449656]{font-size:0.95em;line-height:1.7;padding:0 16px 16px 16px;max-height:1000px;transition:max-height 0.4s ease-in-out,padding 0.4s ease-in-out}.char-card.collapsed .char-details[data-v-72449656]{max-height:0;padding-top:0;padding-bottom:0}.char-details .detail-item[data-v-72449656]{display:flex;align-items:center;margin:4px 0;color:var(--subtext-color)}.char-details .detail-item i[data-v-72449656]{margin-right:8px;width:18px;text-align:center;transition:transform 0.2s}.char-details .detail-item:hover i[data-v-72449656]{transform:scale(1.2)}.char-details .detail-item strong[data-v-72449656]{color:var(--text-color)}.status-highlight-yes[data-v-72449656]{color:var(--green);font-weight:bold}.status-highlight-no[data-v-72449656]{color:var(--grey-blue)}.stat-bar-container[data-v-72449656]{margin-top:12px}.stat-bar-label[data-v-72449656]{display:flex;justify-content:space-between;font-size:0.9em;margin-bottom:6px;color:var(--subtext-color);align-items:center}.stat-bar-title[data-v-72449656]{display:flex;align-items:center;position:relative;cursor:default}.stat-bar-title i[data-v-72449656]{margin-right:6px;transition:transform 0.2s}.stat-bar-title:hover i[data-v-72449656]{transform:scale(1.2)}.stat-bar-title[data-tooltip][data-v-72449656]::after{content:attr(data-tooltip);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background-color:var(--tooltip-bg-color);color:var(--text-color);padding:6px 10px;border-radius:6px;font-size:0.8em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;z-index:10}.stat-bar-title[data-tooltip][data-v-72449656]:hover::after{opacity:1;visibility:visible}.stat-bar-value[data-v-72449656]{font-weight:bold;color:var(--text-color)}.progress-bar[data-v-72449656]{width:100%;height:14px;background-color:var(--border-color);border-radius:6px;overflow:hidden}.progress-bar-fill[data-v-72449656]{height:100%;border-radius:6px;transition:width 0.6s ease-out}.magic-bar[data-v-72449656]{background:var(--green-gradient)}.favor-bar-positive[data-v-72449656]{background:var(--pink-gradient)}.favor-bar-negative[data-v-72449656]{background:var(--grey-blue-gradient)}.corruption-bar[data-v-72449656]{background:var(--purple-gradient)}.lust-bar[data-v-72449656]{background:var(--red-gradient)}.thought-block[data-v-72449656]{margin-top:16px;padding:12px;background-color:var(--quote-bg-color);border-left:3px solid var(--blue);border-radius:0 6px 6px 0}.thought-block .thought-title[data-v-72449656]{display:flex;align-items:center;font-weight:bold;margin-bottom:6px;color:var(--subtext-color);font-size:0.9em}.thought-block .thought-title i[data-v-72449656]{margin-right:6px;transition:transform 0.2s}.thought-block .thought-title:hover i[data-v-72449656]{transform:scale(1.2)}.thought-block p[data-v-72449656]{margin:0;color:var(--text-color);font-size:0.95em}.view-toggle-buttons[data-v-72449656]{margin-left:auto;display:flex;gap:8px}.view-btn[data-v-72449656]{background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);padding:4px 10px;border-radius:20px;cursor:pointer;font-size:0.8em;transition:background-color 0.2s,color 0.2s,transform 0.2s}.view-btn[data-v-72449656]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.05)}.view-btn[data-v-72449656]:active{animation:button-click-effect-72449656 0.2s ease-out}.view-btn.active[data-v-72449656]{background-color:var(--blue);color:var(--bg-color);border-color:var(--blue)}.menu-buttons[data-v-72449656]{display:flex;justify-content:space-around;gap:16px;margin-top:24px;padding:10px 0}.menu-btn[data-v-72449656]{background-color:var(--card-bg-color);border:1px solid var(--border-color);color:var(--text-color);width:90px;height:90px;border-radius:16px;cursor:pointer;font-size:0.9em;transition:background-color 0.2s,transform 0.2s,box-shadow 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:0}.menu-btn[data-v-72449656]:hover{background-color:var(--border-color);transform:translateY(-4px);box-shadow:0 6px 12px rgba(0,0,0,0.1)}.menu-btn[data-v-72449656]:active{animation:button-click-effect-72449656 0.2s ease-out}.menu-btn i[data-v-72449656]{margin-right:0;font-size:2em;color:var(--blue)}.back-btn[data-v-72449656]{margin-bottom:16px}.off-scene-char[data-v-72449656]{display:flex;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border-color);font-size:0.95em}.off-scene-char[data-v-72449656]:last-child{border-bottom:none}.off-scene-char-name[data-v-72449656]{font-weight:bold;color:var(--text-color)}.off-scene-char-stats[data-v-72449656]{color:var(--subtext-color)}.user-terminal[data-v-72449656]{padding:16px}.user-stats-grid[data-v-72449656]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-bottom:24px}.user-stat-item[data-v-72449656]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--border-color)}.user-stat-item .stat-label[data-v-72449656]{font-size:0.9em;color:var(--subtext-color);margin-bottom:6px}.user-stat-item .stat-value[data-v-72449656]{font-size:1.5em;font-weight:bold;color:var(--text-color)}.skills-section .section-title[data-v-72449656]{font-size:1.1em;font-weight:bold;color:var(--text-color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.skill-list[data-v-72449656]{list-style:none;padding:0;margin:0}.skill-item[data-v-72449656]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;margin-bottom:10px;border-left:3px solid var(--purple)}.skill-item-header[data-v-72449656]{display:flex;justify-content:space-between;font-weight:bold}.skill-item .skill-name[data-v-72449656]{color:var(--text-color)}.skill-item .skill-cost[data-v-72449656]{color:var(--purple)}.skill-item .skill-description[data-v-72449656]{font-size:0.9em;color:var(--subtext-color);margin-top:6px}[data-v-72449656]::-webkit-scrollbar{width:8px}[data-v-72449656]::-webkit-scrollbar-track{background-color:var(--border-color);border-radius:4px}[data-v-72449656]::-webkit-scrollbar-thumb{background-color:var(--grey-blue);border-radius:4px}[data-v-72449656]::-webkit-scrollbar-thumb:hover{background-color:var(--blue)}@media (max-width:600px){.status-panel-container[data-v-72449656]{width:100%;margin:0;border-radius:0}.menu-buttons[data-v-72449656]{flex-wrap:wrap;gap:12px}.menu-btn[data-v-72449656]{flex:1;min-width:80px}.user-stats-grid[data-v-72449656]{grid-template-columns:repeat(2,1fr)}}.loading[data-v-72449656]{display:flex;justify-content:center;align-items:center;padding:20px;color:var(--subtext-color)}.loading[data-v-72449656]::after{content:'';width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--blue);border-radius:50%;animation:spin-72449656 1s linear infinite;margin-left:10px}@keyframes spin-72449656{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.error-message[data-v-72449656]{color:var(--red);padding:12px;background-color:rgba(243,139,168,0.1);border:1px solid var(--red);border-radius:8px;margin:16px 0}.success-message[data-v-72449656]{color:var(--green);padding:12px;background-color:rgba(166,227,161,0.1);border:1px solid var(--green);border-radius:8px;margin:16px 0}.characters-panel[data-v-72449656]{display:flex;flex-direction:column;gap:16px;max-height:500px;overflow-y:auto;padding-right:8px}.characters-panel[data-v-72449656]::-webkit-scrollbar{width:6px}.characters-panel[data-v-72449656]::-webkit-scrollbar-track{background:var(--background-color);border-radius:3px}.characters-panel[data-v-72449656]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.characters-panel[data-v-72449656]::-webkit-scrollbar-thumb:hover{background:var(--subtext-color)}.empty-state[data-v-72449656]{text-align:center;padding:24px;color:var(--subtext-color);font-style:italic}.characters-list[data-v-72449656]{display:flex;flex-direction:column;gap:12px}.char-card[data-v-72449656]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;transition:all .2s}.char-card[data-v-72449656]:hover{border-color:var(--hover-color);box-shadow:0 2px 8px rgba(0,0,0,.1)}.char-name[data-v-72449656]{padding:12px 16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;background-color:rgba(0,0,0,.1)}.char-name[data-v-72449656]:hover{background-color:rgba(0,0,0,.15)}.char-name-left[data-v-72449656]{display:flex;align-items:center;gap:10px}.char-avatar[data-v-72449656]{width:64px;height:64px;border-radius:50%;object-fit:cover;border:2px solid var(--border-color)}.char-avatar-placeholder[data-v-72449656]{width:64px;height:64px;border-radius:50%;background-color:var(--background-color);border:2px solid var(--border-color);display:flex;align-items:center;justify-content:center;color:var(--subtext-color);font-size:28px}.char-name-text[data-v-72449656]{font-weight:500}.collapse-icon[data-v-72449656]{width:16px;height:16px;transition:transform .3s ease}.collapse-icon.rotated[data-v-72449656]{transform:rotate(180deg)}.character-detail[data-v-72449656]{padding:16px;border-top:1px solid var(--border-color);animation:slideDown-72449656 .3s ease}@keyframes slideDown-72449656{from{opacity:0;max-height:0;overflow:hidden}to{opacity:1;max-height:500px;overflow:hidden}}.char-details[data-v-72449656]{display:flex;flex-direction:column;gap:12px}.detail-item[data-v-72449656]{display:flex;align-items:center;gap:8px;font-size:14px}.detail-item i[data-v-72449656]{width:16px;text-align:center;color:var(--text-color)}.detail-item strong[data-v-72449656]{color:var(--text-color);font-weight:600}.detail-item span[data-v-72449656]{color:var(--subtext-color)}.status-highlight-yes[data-v-72449656]{color:var(--green);font-weight:600}.status-highlight-no[data-v-72449656]{color:var(--red);font-weight:600}.stat-bar-container[data-v-72449656]{margin-top:8px}.stat-bar-label[data-v-72449656]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;font-size:13px}.stat-bar-title[data-v-72449656]{display:flex;align-items:center;gap:6px;color:var(--text-color)}.stat-bar-value[data-v-72449656]{color:var(--subtext-color);font-size:12px;font-weight:500}.progress-bar[data-v-72449656]{height:8px;background-color:rgba(0,0,0,.2);border-radius:4px;overflow:hidden}.progress-bar-fill[data-v-72449656]{height:100%;border-radius:4px;transition:width .3s ease}.magic-bar[data-v-72449656]{background-color:var(--green)}.favor-bar-positive[data-v-72449656]{background-color:var(--pink)}.favor-bar-negative[data-v-72449656]{background-color:var(--red)}.corruption-bar[data-v-72449656]{background-color:var(--purple)}.lust-bar[data-v-72449656]{background-color:var(--red)}.thought-block[data-v-72449656]{margin-top:12px;padding:12px;background-color:rgba(0,0,0,.1);border-radius:6px;border-left:3px solid var(--blue)}.thought-title[data-v-72449656]{font-size:13px;font-weight:600;color:var(--text-color);margin-bottom:6px;display:flex;align-items:center;gap:6px}.thought-block p[data-v-72449656]{font-size:13px;color:var(--subtext-color);line-height:1.4;margin:0}
.skills-panel[data-v-b5026c5c]{display:flex;flex-direction:column;gap:16px}.panel-title[data-v-b5026c5c]{margin:0 0 8px 0;font-size:16px;color:var(--subtext-color);border-bottom:1px solid var(--border-color);padding-bottom:8px}.skill-points-display[data-v-b5026c5c]{margin-bottom:8px}.points-card[data-v-b5026c5c]{display:flex;align-items:center;gap:12px;background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:14px 18px}.points-icon[data-v-b5026c5c]{font-size:28px}.points-info[data-v-b5026c5c]{display:flex;flex-direction:column;gap:2px}.points-value[data-v-b5026c5c]{font-size:24px;font-weight:700;color:var(--text-color)}.points-label[data-v-b5026c5c]{font-size:12px;color:var(--subtext-color)}.magic-max-upgrade[data-v-b5026c5c]{background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:16px;margin-bottom:16px}.upgrade-header[data-v-b5026c5c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.upgrade-title[data-v-b5026c5c]{font-size:14px;font-weight:600;color:var(--text-color)}.current-magic-max[data-v-b5026c5c]{font-size:13px;color:var(--subtext-color)}.upgrade-controls[data-v-b5026c5c]{display:flex;gap:12px;margin-bottom:12px}.input-group[data-v-b5026c5c]{flex:1;display:flex;flex-direction:column;gap:6px}.input-label[data-v-b5026c5c]{font-size:12px;color:var(--subtext-color);font-weight:500}.upgrade-input[data-v-b5026c5c]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;background:var(--bg-color);color:var(--text-color);font-size:14px;transition:all .2s}.upgrade-input[data-v-b5026c5c]:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(137,180,250,.1)}.upgrade-button[data-v-b5026c5c]{padding:8px 16px;background:var(--blue);border:none;border-radius:6px;color:var(--bg-color);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}.upgrade-button[data-v-b5026c5c]:hover:not(.disabled){background:var(--blue);opacity:.9;transform:translateY(-1px);box-shadow:0 4px 12px rgba(137,180,250,.3)}.upgrade-button[data-v-b5026c5c]:active:not(.disabled){transform:translateY(0)}.upgrade-button.disabled[data-v-b5026c5c]{background:var(--border-color);color:var(--subtext-color);cursor:not-allowed}.upgrade-info[data-v-b5026c5c]{display:flex;justify-content:space-between;font-size:12px;color:var(--subtext-color);padding-top:8px;border-top:1px solid var(--border-color)}.upgrade-cost[data-v-b5026c5c]{color:var(--red);font-weight:500}.upgrade-result[data-v-b5026c5c]{color:var(--green);font-weight:500}.skills-list[data-v-b5026c5c]{display:flex;flex-direction:column;gap:12px}.skill-card[data-v-b5026c5c]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:14px;transition:all .2s}.skill-card[data-v-b5026c5c]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2)}.skill-card.learned[data-v-b5026c5c]{border-color:var(--green);background:var(--card-bg-color)}.skill-card.disabled[data-v-b5026c5c]{opacity:.6}.skill-header[data-v-b5026c5c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.skill-title[data-v-b5026c5c]{display:flex;align-items:center;gap:8px}.learned-badge[data-v-b5026c5c]{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;background-color:var(--green);color:var(--bg-color);border-radius:50%;font-size:12px;font-weight:bold}.skill-name[data-v-b5026c5c]{font-size:15px;font-weight:600;color:var(--text-color)}.skill-cost-badge[data-v-b5026c5c]{font-size:11px;color:var(--subtext-color);background-color:var(--card-bg-color);padding:4px 8px;border-radius:4px;border:1px solid var(--border-color)}.skill-description[data-v-b5026c5c]{margin:0 0 12px 0;font-size:13px;color:var(--subtext-color);line-height:1.5}.learn-button[data-v-b5026c5c]{width:100%;padding:10px;background:var(--blue);border:none;border-radius:6px;color:var(--bg-color);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s}.learn-button[data-v-b5026c5c]:hover:not(.disabled){background:var(--blue);opacity:.9;transform:translateY(-1px);box-shadow:0 4px 12px rgba(137,180,250,.3)}.learn-button[data-v-b5026c5c]:active:not(.disabled){transform:translateY(0)}.learn-button.disabled[data-v-b5026c5c]{background:var(--border-color);color:var(--subtext-color);cursor:not-allowed}.learned-status[data-v-b5026c5c]{text-align:center;padding:10px;background-color:var(--card-bg-color);border-radius:6px;border:1px solid var(--green)}.learned-text[data-v-b5026c5c]{color:var(--green);font-size:13px;font-weight:600}.empty-skills[data-v-b5026c5c]{text-align:center;padding:24px;color:var(--subtext-color);font-style:italic}@keyframes skill-learned-b5026c5c{0%{transform:scale(1);box-shadow:0 0 0 0 rgba(166,227,161,.7)}50%{transform:scale(1.05);box-shadow:0 0 20px 10px rgba(166,227,161,.4)}100%{transform:scale(1);box-shadow:0 0 0 0 rgba(166,227,161,0)}}.skill-learned-animation[data-v-b5026c5c]{animation:skill-learned-b5026c5c 1s ease-in-out}
.story-panel[data-v-bb48bf38]{display:flex;flex-direction:column;gap:16px;max-height:500px;overflow-y:auto;padding-right:8px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar{width:6px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar-track{background:var(--border-color);border-radius:3px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar-thumb{background:var(--grey-blue);border-radius:3px}.story-panel[data-v-bb48bf38]::-webkit-scrollbar-thumb:hover{background:var(--blue)}.panel-title[data-v-bb48bf38]{margin:0 0 8px 0;font-size:16px;color:var(--text-color);border-bottom:1px solid var(--border-color);padding-bottom:8px}.empty-state[data-v-bb48bf38]{text-align:center;padding:24px;color:var(--subtext-color);font-style:italic}.story-list[data-v-bb48bf38]{display:flex;flex-direction:column;gap:12px}.story-card[data-v-bb48bf38]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:14px;transition:all .2s;cursor:pointer}.story-card[data-v-bb48bf38]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-2px)}.story-card.completed[data-v-bb48bf38]{border-color:var(--green);background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(166,227,161,0.1) 100%)}.story-card.in-progress[data-v-bb48bf38]{border-color:#fbbf24;background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(251,191,36,0.1) 100%)}.story-header[data-v-bb48bf38]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.story-name[data-v-bb48bf38]{font-size:15px;font-weight:600;color:var(--text-color)}.story-header-right[data-v-bb48bf38]{display:flex;align-items:center;gap:12px}.story-status[data-v-bb48bf38]{font-size:11px;padding:4px 8px;border-radius:4px;font-weight:600;text-transform:uppercase}.story-header-right i[data-v-bb48bf38]{color:var(--subtext-color);font-size:14px;transition:transform .2s}.story-card:hover .story-header-right i[data-v-bb48bf38]{transform:translateX(4px);color:var(--text-color)}.story-preview[data-v-bb48bf38]{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color);font-size:13px}.endings-preview[data-v-bb48bf38]{color:var(--subtext-color)}.endings-count[data-v-bb48bf38]{font-weight:500}.no-endings-preview[data-v-bb48bf38]{color:var(--subtext-color);font-style:italic}.status-not-started[data-v-bb48bf38]{background-color:var(--grey-blue);color:var(--text-color)}.status-in-progress[data-v-bb48bf38]{background-color:#fbbf24;color:#1a1a2e}.status-completed[data-v-bb48bf38]{background-color:var(--green);color:#1a1a2e}.status-unknown[data-v-bb48bf38]{background-color:var(--grey-blue);color:var(--text-color)}.status-ending-completed[data-v-bb48bf38]{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#1a1a2e;font-weight:bold;animation:glow-bb48bf38 2s ease-in-out infinite alternate}.story-card.ending-completed[data-v-bb48bf38]{border-color:#f59e0b;background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(245,158,11,0.1) 100%);box-shadow:0 2px 8px rgba(245,158,11,.2)}.completed-endings-count[data-v-bb48bf38]{color:#f59e0b;font-weight:bold;margin-left:8px}@keyframes glow-bb48bf38{from{box-shadow:0 0 5px rgba(245,158,11,.5)}to{box-shadow:0 0 20px rgba(245,158,11,.8)}}.endings-section[data-v-bb48bf38]{margin-top:12px}.endings-title[data-v-bb48bf38]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;font-weight:500}.endings-list[data-v-bb48bf38]{display:flex;flex-wrap:wrap;gap:8px}.ending-item[data-v-bb48bf38]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:6px;padding:6px 10px;transition:all .2s}.ending-item[data-v-bb48bf38]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-1px)}.ending-header[data-v-bb48bf38]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.ending-name[data-v-bb48bf38]{font-size:12px;color:var(--text-color);font-weight:500}.ending-conditions[data-v-bb48bf38]{margin-top:6px;padding-top:6px;border-top:1px solid var(--border-color)}.conditions-title[data-v-bb48bf38]{font-size:10px;color:var(--subtext-color);margin-bottom:4px;font-weight:500}.conditions-list[data-v-bb48bf38]{display:flex;flex-direction:column;gap:4px}.condition-item[data-v-bb48bf38]{display:flex;justify-content:space-between;align-items:center;font-size:10px;padding:3px 6px;background-color:var(--quote-bg-color);border-radius:4px}.condition-item.condition-met[data-v-bb48bf38]{background-color:rgba(166,227,161,.1);border-left:2px solid var(--green)}.condition-name[data-v-bb48bf38]{color:var(--subtext-color)}.condition-status[data-v-bb48bf38]{font-weight:bold;margin-left:8px}.condition-item.condition-met .condition-status[data-v-bb48bf38]{color:var(--green)}.condition-item:not(.condition-met) .condition-status[data-v-bb48bf38]{color:var(--red)}.no-endings[data-v-bb48bf38]{margin-top:12px;padding:12px;background-color:var(--quote-bg-color);border-radius:6px;text-align:center}.no-endings-text[data-v-bb48bf38]{font-size:12px;color:var(--subtext-color);font-style:italic}
/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */[data-v-317918d2]:root,body[data-theme='dark'][data-v-317918d2]{--bg-color:#1e1e2e;--card-bg-color:#181825;--text-color:#cdd6f4;--subtext-color:#a6adc8;--border-color:#313244;--tooltip-bg-color:#11111b;--quote-bg-color:rgba(0,0,0,0.2);--green:#a6e3a1;--pink:#f5c2e7;--purple:#cba6f7;--red:#f38ba8;--blue:#89b4fa;--grey-blue:#6c7086;--green-gradient:linear-gradient(45deg,#a6e3a1,#81c784);--pink-gradient:linear-gradient(45deg,#f5c2e7,#f06292);--purple-gradient:linear-gradient(45deg,#cba6f7,#9575cd);--red-gradient:linear-gradient(45deg,#f38ba8,#e67a85);--grey-blue-gradient:linear-gradient(45deg,#6c7086,#546e7a)}body[data-theme='light'][data-v-317918d2]{--bg-color:#eff1f5;--card-bg-color:#ffffff;--text-color:#4c4f69;--subtext-color:#6c6f85;--border-color:#ccd0da;--tooltip-bg-color:#5c5f77;--quote-bg-color:#e6e9ef;--green:#40a02b;--pink:#e64584;--purple:#8839ef;--red:#d20f39;--blue:#1e66f5;--grey-blue:#8c8fa1;--green-gradient:linear-gradient(45deg,#66bb6a,#43a047);--pink-gradient:linear-gradient(45deg,#ec407a,#d81b60);--purple-gradient:linear-gradient(45deg,#ab47bc,#8e24aa);--red-gradient:linear-gradient(45deg,#e57373,#d32f2f);--grey-blue-gradient:linear-gradient(45deg,#78909c,#607d8b)}@keyframes card-enter-317918d2{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes button-click-effect-317918d2{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes progress-bar-fill-anim-317918d2{from{width:0}}.status-panel-container[data-v-317918d2]{position:relative;width:95%;max-width:500px;max-height:600px;margin:10px auto;background-color:var(--bg-color);background-image:url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23313244" fill-opacity="0.1" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zM6 5v1H5z"/%3E%3C/g%3E%3C/svg%3E');border:1px solid transparent;border-image:linear-gradient(to bottom right,var(--blue),var(--purple)) 1;border-radius:12px;font-family:'Segoe UI','Microsoft YaHei',system-ui,sans-serif;color:var(--text-color);padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);box-sizing:border-box;transition:background-color 0.3s,border-color 0.3s;overflow-y:auto}#theme-toggle-btn[data-v-317918d2]{position:absolute;top:16px;right:16px;background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background-color 0.2s,color 0.2s,border-color 0.3s,transform 0.2s;z-index:1000}#theme-toggle-btn[data-v-317918d2]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.1)}#theme-toggle-btn[data-v-317918d2]:active{animation:button-click-effect-317918d2 0.2s ease-out}body[data-theme='dark'] .fa-sun[data-v-317918d2]{display:none}body[data-theme='light'] .fa-moon[data-v-317918d2]{display:none}.scene-info[data-v-317918d2]{margin-bottom:24px}.block-title[data-v-317918d2]{font-size:1.25em;font-weight:bold;color:var(--blue);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);display:flex;align-items:center}.block-title i[data-v-317918d2]{margin-right:8px;transition:transform 0.2s}.block-title:hover i[data-v-317918d2]{transform:scale(1.1)}.info-line[data-v-317918d2]{font-size:1em;margin-bottom:8px;color:var(--subtext-color);display:flex;align-items:center}.info-line i[data-v-317918d2]{margin-right:10px;width:20px;text-align:center;color:var(--blue);transition:transform 0.2s}.info-line:hover i[data-v-317918d2]{transform:scale(1.1)}.info-line strong[data-v-317918d2]{color:var(--text-color)}.char-card[data-v-317918d2]{background-color:var(--card-bg-color);border-radius:12px;margin-bottom:16px;border:1px solid var(--border-color);border-left:4px solid var(--pink);box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s ease-out,box-shadow 0.2s ease-out,background-color 0.3s,border-color 0.3s;overflow:hidden;animation:card-enter-317918d2 0.5s ease-out forwards;cursor:pointer}.char-card[data-v-317918d2]:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.char-name[data-v-317918d2]{font-size:1.4em;font-weight:bold;color:var(--pink);padding:16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.char-name[data-v-317918d2]:hover{background-color:rgba(255,255,255,0.05)}.char-name .collapse-icon[data-v-317918d2]{width:1em;height:1em;transition:transform 0.3s ease-out}.char-card.collapsed .collapse-icon[data-v-317918d2]{transform:rotate(180deg)}.char-details[data-v-317918d2]{font-size:0.95em;line-height:1.7;padding:0 16px 16px 16px;max-height:1000px;transition:max-height 0.4s ease-in-out,padding 0.4s ease-in-out}.char-card.collapsed .char-details[data-v-317918d2]{max-height:0;padding-top:0;padding-bottom:0}.char-details .detail-item[data-v-317918d2]{display:flex;align-items:center;margin:4px 0;color:var(--subtext-color)}.char-details .detail-item i[data-v-317918d2]{margin-right:8px;width:18px;text-align:center;transition:transform 0.2s}.char-details .detail-item:hover i[data-v-317918d2]{transform:scale(1.2)}.char-details .detail-item strong[data-v-317918d2]{color:var(--text-color)}.status-highlight-yes[data-v-317918d2]{color:var(--green);font-weight:bold}.status-highlight-no[data-v-317918d2]{color:var(--grey-blue)}.stat-bar-container[data-v-317918d2]{margin-top:12px}.stat-bar-label[data-v-317918d2]{display:flex;justify-content:space-between;font-size:0.9em;margin-bottom:6px;color:var(--subtext-color);align-items:center}.stat-bar-title[data-v-317918d2]{display:flex;align-items:center;position:relative;cursor:default}.stat-bar-title i[data-v-317918d2]{margin-right:6px;transition:transform 0.2s}.stat-bar-title:hover i[data-v-317918d2]{transform:scale(1.2)}.stat-bar-title[data-tooltip][data-v-317918d2]::after{content:attr(data-tooltip);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background-color:var(--tooltip-bg-color);color:var(--text-color);padding:6px 10px;border-radius:6px;font-size:0.8em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;z-index:10}.stat-bar-title[data-tooltip][data-v-317918d2]:hover::after{opacity:1;visibility:visible}.stat-bar-value[data-v-317918d2]{font-weight:bold;color:var(--text-color)}.progress-bar[data-v-317918d2]{width:100%;height:14px;background-color:var(--border-color);border-radius:6px;overflow:hidden}.progress-bar-fill[data-v-317918d2]{height:100%;border-radius:6px;transition:width 0.6s ease-out}.magic-bar[data-v-317918d2]{background:var(--green-gradient)}.favor-bar-positive[data-v-317918d2]{background:var(--pink-gradient)}.favor-bar-negative[data-v-317918d2]{background:var(--grey-blue-gradient)}.corruption-bar[data-v-317918d2]{background:var(--purple-gradient)}.lust-bar[data-v-317918d2]{background:var(--red-gradient)}.thought-block[data-v-317918d2]{margin-top:16px;padding:12px;background-color:var(--quote-bg-color);border-left:3px solid var(--blue);border-radius:0 6px 6px 0}.thought-block .thought-title[data-v-317918d2]{display:flex;align-items:center;font-weight:bold;margin-bottom:6px;color:var(--subtext-color);font-size:0.9em}.thought-block .thought-title i[data-v-317918d2]{margin-right:6px;transition:transform 0.2s}.thought-block .thought-title:hover i[data-v-317918d2]{transform:scale(1.2)}.thought-block p[data-v-317918d2]{margin:0;color:var(--text-color);font-size:0.95em}.view-toggle-buttons[data-v-317918d2]{margin-left:auto;display:flex;gap:8px}.view-btn[data-v-317918d2]{background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);padding:4px 10px;border-radius:20px;cursor:pointer;font-size:0.8em;transition:background-color 0.2s,color 0.2s,transform 0.2s}.view-btn[data-v-317918d2]:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.05)}.view-btn[data-v-317918d2]:active{animation:button-click-effect-317918d2 0.2s ease-out}.view-btn.active[data-v-317918d2]{background-color:var(--blue);color:var(--bg-color);border-color:var(--blue)}.menu-buttons[data-v-317918d2]{display:flex;justify-content:space-around;gap:16px;margin-top:24px;padding:10px 0}.menu-btn[data-v-317918d2]{background-color:var(--card-bg-color);border:1px solid var(--border-color);color:var(--text-color);width:90px;height:90px;border-radius:16px;cursor:pointer;font-size:0.9em;transition:background-color 0.2s,transform 0.2s,box-shadow 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:0}.menu-btn[data-v-317918d2]:hover{background-color:var(--border-color);transform:translateY(-4px);box-shadow:0 6px 12px rgba(0,0,0,0.1)}.menu-btn[data-v-317918d2]:active{animation:button-click-effect-317918d2 0.2s ease-out}.menu-btn i[data-v-317918d2]{margin-right:0;font-size:2em;color:var(--blue)}.back-btn[data-v-317918d2]{margin-bottom:16px}.off-scene-char[data-v-317918d2]{display:flex;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border-color);font-size:0.95em}.off-scene-char[data-v-317918d2]:last-child{border-bottom:none}.off-scene-char-name[data-v-317918d2]{font-weight:bold;color:var(--text-color)}.off-scene-char-stats[data-v-317918d2]{color:var(--subtext-color)}.user-terminal[data-v-317918d2]{padding:16px}.user-stats-grid[data-v-317918d2]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-bottom:24px}.user-stat-item[data-v-317918d2]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--border-color)}.user-stat-item .stat-label[data-v-317918d2]{font-size:0.9em;color:var(--subtext-color);margin-bottom:6px}.user-stat-item .stat-value[data-v-317918d2]{font-size:1.5em;font-weight:bold;color:var(--text-color)}.skills-section .section-title[data-v-317918d2]{font-size:1.1em;font-weight:bold;color:var(--text-color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.skill-list[data-v-317918d2]{list-style:none;padding:0;margin:0}.skill-item[data-v-317918d2]{background-color:var(--card-bg-color);padding:12px;border-radius:8px;margin-bottom:10px;border-left:3px solid var(--purple)}.skill-item-header[data-v-317918d2]{display:flex;justify-content:space-between;font-weight:bold}.skill-item .skill-name[data-v-317918d2]{color:var(--text-color)}.skill-item .skill-cost[data-v-317918d2]{color:var(--purple)}.skill-item .skill-description[data-v-317918d2]{font-size:0.9em;color:var(--subtext-color);margin-top:6px}[data-v-317918d2]::-webkit-scrollbar{width:8px}[data-v-317918d2]::-webkit-scrollbar-track{background-color:var(--border-color);border-radius:4px}[data-v-317918d2]::-webkit-scrollbar-thumb{background-color:var(--grey-blue);border-radius:4px}[data-v-317918d2]::-webkit-scrollbar-thumb:hover{background-color:var(--blue)}@media (max-width:600px){.status-panel-container[data-v-317918d2]{width:100%;margin:0;border-radius:0}.menu-buttons[data-v-317918d2]{flex-wrap:wrap;gap:12px}.menu-btn[data-v-317918d2]{flex:1;min-width:80px}.user-stats-grid[data-v-317918d2]{grid-template-columns:repeat(2,1fr)}}.loading[data-v-317918d2]{display:flex;justify-content:center;align-items:center;padding:20px;color:var(--subtext-color)}.loading[data-v-317918d2]::after{content:'';width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--blue);border-radius:50%;animation:spin-317918d2 1s linear infinite;margin-left:10px}@keyframes spin-317918d2{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.error-message[data-v-317918d2]{color:var(--red);padding:12px;background-color:rgba(243,139,168,0.1);border:1px solid var(--red);border-radius:8px;margin:16px 0}.success-message[data-v-317918d2]{color:var(--green);padding:12px;background-color:rgba(166,227,161,0.1);border:1px solid var(--green);border-radius:8px;margin:16px 0}.page-view[data-v-317918d2]{animation:card-enter-317918d2 .5s ease-out forwards}.status-ending-completed[data-v-317918d2]{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#1a1a2e;font-weight:bold;animation:glow-317918d2 2s ease-in-out infinite alternate}.ending-item.ending-completed[data-v-317918d2]{border-color:#f59e0b;background:linear-gradient(135deg,var(--card-bg-color) 0%,rgba(245,158,11,0.1) 100%);box-shadow:0 2px 8px rgba(245,158,11,.2)}.ending-name.ending-name-completed[data-v-317918d2]{color:#f59e0b;font-weight:bold;text-shadow:0 0 8px rgba(245,158,11,.5)}.ending-completed-badge[data-v-317918d2]{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#1a1a2e;font-size:10px;padding:4px 8px;border-radius:4px;font-weight:bold;animation:glow-317918d2 2s ease-in-out infinite alternate}@keyframes glow-317918d2{from{box-shadow:0 0 5px rgba(245,158,11,.5)}to{box-shadow:0 0 20px rgba(245,158,11,.8)}}#characters-page[data-v-317918d2],#archive-page[data-v-317918d2],#terminal-page[data-v-317918d2],#skill-list-page[data-v-317918d2],#learn-skills-page[data-v-317918d2],#story-page[data-v-317918d2],#story-detail-page[data-v-317918d2],#character-detail-page[data-v-317918d2]{min-height:400px}.user-stats-section[data-v-317918d2]{margin:16px 0}.stats-grid[data-v-317918d2]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.stat-card[data-v-317918d2]{display:flex;flex-direction:column;align-items:center;gap:8px;background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:16px;text-align:center;transition:all .2s}.stat-card[data-v-317918d2]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-2px)}.stat-icon[data-v-317918d2]{font-size:32px}.stat-info[data-v-317918d2]{display:flex;flex-direction:column;gap:4px}.stat-value[data-v-317918d2]{font-size:24px;font-weight:700;color:var(--text-color)}.stat-value.positive[data-v-317918d2]{color:var(--green)}.stat-value.negative[data-v-317918d2]{color:var(--red)}.stat-label[data-v-317918d2]{font-size:12px;color:var(--subtext-color)}.skills-section[data-v-317918d2]{margin-top:24px}.skill-cards[data-v-317918d2]{display:flex;gap:16px;margin-bottom:16px}.skill-card[data-v-317918d2]{flex:1;background:var(--card-bg-color);border:1px solid var(--border-color);border-radius:12px;padding:20px;cursor:pointer;transition:all .2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;text-align:center}.skill-card[data-v-317918d2]:hover{border-color:var(--blue);box-shadow:0 4px 16px rgba(137,180,250,.2);transform:translateY(-2px)}.skill-card-icon[data-v-317918d2]{width:64px;height:64px;display:flex;align-items:center;justify-content:center;color:var(--blue)}.skill-card-text[data-v-317918d2]{display:flex;align-items:center;gap:6px}.skill-card-title[data-v-317918d2]{font-size:16px;font-weight:600;color:var(--text-color)}.skill-card-count[data-v-317918d2]{font-size:14px;color:var(--subtext-color)}.skill-list-content[data-v-317918d2]{margin-top:16px}.learned-skills-list[data-v-317918d2]{display:flex;flex-direction:column;gap:12px}.learned-skill-item[data-v-317918d2]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:16px;transition:all .2s}.learned-skill-item[data-v-317918d2]:hover{border-color:var(--blue);box-shadow:0 4px 16px rgba(137,180,250,.15)}.skill-item-header[data-v-317918d2]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.skill-check[data-v-317918d2]{color:var(--green);margin-right:12px}.skill-name[data-v-317918d2]{flex:1;font-size:16px;font-weight:600;color:var(--text-color)}.skill-status[data-v-317918d2]{font-size:14px;font-weight:500;color:var(--green);background-color:rgba(74,222,128,.1);padding:4px 12px;border-radius:12px}.skill-description[data-v-317918d2]{font-size:14px;color:var(--subtext-color);line-height:1.4;margin-top:8px;padding-top:8px;border-top:1px solid var(--border-color)}.learn-skills-content[data-v-317918d2]{margin-top:8px}.story-detail-content[data-v-317918d2]{margin-top:20px;display:flex;flex-direction:column;gap:16px}.story-detail-card[data-v-317918d2]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:8px;padding:20px}.story-status[data-v-317918d2]{display:flex;align-items:center;gap:12px;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--border-color)}.story-status strong[data-v-317918d2]{color:var(--text-color)}.story-status span[data-v-317918d2]{font-size:14px;padding:6px 12px;border-radius:4px;font-weight:600;text-transform:uppercase}.status-not-started[data-v-317918d2]{background-color:#6a6a8a;color:#c0c0e0}.status-in-progress[data-v-317918d2]{background-color:#fbbf24;color:#1a1a2e}.status-completed[data-v-317918d2]{background-color:#4ade80;color:#1a1a2e}.status-unknown[data-v-317918d2]{background-color:#8888a8;color:#e0e0e0}.endings-section[data-v-317918d2]{margin-top:20px}.endings-title[data-v-317918d2]{font-size:14px;color:#8888a8;margin-bottom:12px;font-weight:500}.endings-list[data-v-317918d2]{display:flex;flex-direction:column;gap:16px}.ending-item[data-v-317918d2]{background-color:var(--card-bg-color);border:1px solid var(--border-color);border-radius:6px;padding:12px 16px;transition:all .2s}.ending-item[data-v-317918d2]:hover{border-color:var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-1px)}.ending-header[data-v-317918d2]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.ending-name[data-v-317918d2]{font-size:14px;color:var(--text-color);font-weight:500}.ending-description[data-v-317918d2]{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color)}.description-title[data-v-317918d2]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;font-weight:500}.description-content[data-v-317918d2]{font-size:13px;color:var(--text-color);line-height:1.4;margin:0;padding:8px 12px;background-color:var(--quote-bg-color);border-radius:4px}.ending-conditions[data-v-317918d2]{margin-top:12px;padding-top:12px;border-top:1px solid var(--border-color)}.conditions-title[data-v-317918d2]{font-size:12px;color:var(--subtext-color);margin-bottom:8px;font-weight:500}.conditions-list[data-v-317918d2]{display:flex;flex-direction:column;gap:6px}.condition-item[data-v-317918d2]{display:flex;justify-content:space-between;align-items:center;font-size:12px;padding:6px 10px;background-color:var(--quote-bg-color);border-radius:4px;cursor:pointer;transition:all .2s}.condition-item[data-v-317918d2]:hover{background-color:var(--card-bg-color);border:1px solid var(--blue);box-shadow:0 2px 8px rgba(137,180,250,.2);transform:translateY(-1px)}.condition-item.condition-met[data-v-317918d2]{background-color:rgba(74,222,128,.1);border-left:2px solid var(--green)}.condition-item.condition-met[data-v-317918d2]:hover{background-color:rgba(166,227,161,.2);border-color:var(--green);box-shadow:0 2px 8px rgba(166,227,161,.3)}.condition-name[data-v-317918d2]{color:var(--subtext-color)}.condition-status[data-v-317918d2]{font-weight:bold;margin-left:12px}.condition-item.condition-met .condition-status[data-v-317918d2]{color:var(--green)}.condition-item:not(.condition-met) .condition-status[data-v-317918d2]{color:var(--red)}.no-endings[data-v-317918d2]{margin-top:20px;padding:20px;background-color:var(--quote-bg-color);border-radius:6px;text-align:center}.no-endings-text[data-v-317918d2]{font-size:14px;color:var(--subtext-color);font-style:italic}.loading[data-v-317918d2]{text-align:center;padding:40px;color:var(--subtext-color);font-style:italic}
:root,body[data-theme='dark']{--bg-color:#1e1e2e;--card-bg-color:#181825;--text-color:#cdd6f4;--subtext-color:#a6adc8;--border-color:#313244;--tooltip-bg-color:#11111b;--quote-bg-color:rgba(0,0,0,0.2);--green:#a6e3a1;--pink:#f5c2e7;--purple:#cba6f7;--red:#f38ba8;--blue:#89b4fa;--grey-blue:#6c7086;--green-gradient:linear-gradient(45deg,#a6e3a1,#81c784);--pink-gradient:linear-gradient(45deg,#f5c2e7,#f06292);--purple-gradient:linear-gradient(45deg,#cba6f7,#9575cd);--red-gradient:linear-gradient(45deg,#f38ba8,#e67a85);--grey-blue-gradient:linear-gradient(45deg,#6c7086,#546e7a)}body[data-theme='light']{--bg-color:#eff1f5;--card-bg-color:#ffffff;--text-color:#4c4f69;--subtext-color:#6c6f85;--border-color:#ccd0da;--tooltip-bg-color:#5c5f77;--quote-bg-color:#e6e9ef;--green:#40a02b;--pink:#e64584;--purple:#8839ef;--red:#d20f39;--blue:#1e66f5;--grey-blue:#8c8fa1;--green-gradient:linear-gradient(45deg,#66bb6a,#43a047);--pink-gradient:linear-gradient(45deg,#ec407a,#d81b60);--purple-gradient:linear-gradient(45deg,#ab47bc,#8e24aa);--red-gradient:linear-gradient(45deg,#e57373,#d32f2f);--grey-blue-gradient:linear-gradient(45deg,#78909c,#607d8b)}@keyframes card-enter{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes button-click-effect{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes progress-bar-fill-anim{from{width:0}}.status-panel-container{position:relative;width:95%;max-width:500px;max-height:600px;margin:10px auto;background-color:var(--bg-color);background-image:url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23313244" fill-opacity="0.1" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zM6 5v1H5z"/%3E%3C/g%3E%3C/svg%3E');border:1px solid transparent;border-image:linear-gradient(to bottom right,var(--blue),var(--purple)) 1;border-radius:12px;font-family:'Segoe UI','Microsoft YaHei',system-ui,sans-serif;color:var(--text-color);padding:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);box-sizing:border-box;transition:background-color 0.3s,border-color 0.3s;overflow-y:auto}#theme-toggle-btn{position:absolute;top:16px;right:16px;background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background-color 0.2s,color 0.2s,border-color 0.3s,transform 0.2s;z-index:1000}#theme-toggle-btn:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.1)}#theme-toggle-btn:active{animation:button-click-effect 0.2s ease-out}body[data-theme='dark'] .fa-sun{display:none}body[data-theme='light'] .fa-moon{display:none}.scene-info{margin-bottom:24px}.block-title{font-size:1.25em;font-weight:bold;color:var(--blue);margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-color);display:flex;align-items:center}.block-title i{margin-right:8px;transition:transform 0.2s}.block-title:hover i{transform:scale(1.1)}.info-line{font-size:1em;margin-bottom:8px;color:var(--subtext-color);display:flex;align-items:center}.info-line i{margin-right:10px;width:20px;text-align:center;color:var(--blue);transition:transform 0.2s}.info-line:hover i{transform:scale(1.1)}.info-line strong{color:var(--text-color)}.char-card{background-color:var(--card-bg-color);border-radius:12px;margin-bottom:16px;border:1px solid var(--border-color);border-left:4px solid var(--pink);box-shadow:0 4px 12px rgba(0,0,0,0.1);transition:transform 0.2s ease-out,box-shadow 0.2s ease-out,background-color 0.3s,border-color 0.3s;overflow:hidden;animation:card-enter 0.5s ease-out forwards;cursor:pointer}.char-card:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}.char-name{font-size:1.4em;font-weight:bold;color:var(--pink);padding:16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.char-name:hover{background-color:rgba(255,255,255,0.05)}.char-name .collapse-icon{width:1em;height:1em;transition:transform 0.3s ease-out}.char-card.collapsed .collapse-icon{transform:rotate(180deg)}.char-details{font-size:0.95em;line-height:1.7;padding:0 16px 16px 16px;max-height:1000px;transition:max-height 0.4s ease-in-out,padding 0.4s ease-in-out}.char-card.collapsed .char-details{max-height:0;padding-top:0;padding-bottom:0}.char-details .detail-item{display:flex;align-items:center;margin:4px 0;color:var(--subtext-color)}.char-details .detail-item i{margin-right:8px;width:18px;text-align:center;transition:transform 0.2s}.char-details .detail-item:hover i{transform:scale(1.2)}.char-details .detail-item strong{color:var(--text-color)}.status-highlight-yes{color:var(--green);font-weight:bold}.status-highlight-no{color:var(--grey-blue)}.stat-bar-container{margin-top:12px}.stat-bar-label{display:flex;justify-content:space-between;font-size:0.9em;margin-bottom:6px;color:var(--subtext-color);align-items:center}.stat-bar-title{display:flex;align-items:center;position:relative;cursor:default}.stat-bar-title i{margin-right:6px;transition:transform 0.2s}.stat-bar-title:hover i{transform:scale(1.2)}.stat-bar-title[data-tooltip]::after{content:attr(data-tooltip);position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background-color:var(--tooltip-bg-color);color:var(--text-color);padding:6px 10px;border-radius:6px;font-size:0.8em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;z-index:10}.stat-bar-title[data-tooltip]:hover::after{opacity:1;visibility:visible}.stat-bar-value{font-weight:bold;color:var(--text-color)}.progress-bar{width:100%;height:14px;background-color:var(--border-color);border-radius:6px;overflow:hidden}.progress-bar-fill{height:100%;border-radius:6px;transition:width 0.6s ease-out}.magic-bar{background:var(--green-gradient)}.favor-bar-positive{background:var(--pink-gradient)}.favor-bar-negative{background:var(--grey-blue-gradient)}.corruption-bar{background:var(--purple-gradient)}.lust-bar{background:var(--red-gradient)}.thought-block{margin-top:16px;padding:12px;background-color:var(--quote-bg-color);border-left:3px solid var(--blue);border-radius:0 6px 6px 0}.thought-block .thought-title{display:flex;align-items:center;font-weight:bold;margin-bottom:6px;color:var(--subtext-color);font-size:0.9em}.thought-block .thought-title i{margin-right:6px;transition:transform 0.2s}.thought-block .thought-title:hover i{transform:scale(1.2)}.thought-block p{margin:0;color:var(--text-color);font-size:0.95em}.view-toggle-buttons{margin-left:auto;display:flex;gap:8px}.view-btn{background:transparent;border:1px solid var(--border-color);color:var(--subtext-color);padding:4px 10px;border-radius:20px;cursor:pointer;font-size:0.8em;transition:background-color 0.2s,color 0.2s,transform 0.2s}.view-btn:hover{background-color:var(--border-color);color:var(--text-color);transform:scale(1.05)}.view-btn:active{animation:button-click-effect 0.2s ease-out}.view-btn.active{background-color:var(--blue);color:var(--bg-color);border-color:var(--blue)}.menu-buttons{display:flex;justify-content:space-around;gap:16px;margin-top:24px;padding:10px 0}.menu-btn{background-color:var(--card-bg-color);border:1px solid var(--border-color);color:var(--text-color);width:90px;height:90px;border-radius:16px;cursor:pointer;font-size:0.9em;transition:background-color 0.2s,transform 0.2s,box-shadow 0.2s;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;padding:0}.menu-btn:hover{background-color:var(--border-color);transform:translateY(-4px);box-shadow:0 6px 12px rgba(0,0,0,0.1)}.menu-btn:active{animation:button-click-effect 0.2s ease-out}.menu-btn i{margin-right:0;font-size:2em;color:var(--blue)}.back-btn{margin-bottom:16px}.off-scene-char{display:flex;justify-content:space-between;padding:8px 16px;border-bottom:1px solid var(--border-color);font-size:0.95em}.off-scene-char:last-child{border-bottom:none}.off-scene-char-name{font-weight:bold;color:var(--text-color)}.off-scene-char-stats{color:var(--subtext-color)}.user-terminal{padding:16px}.user-stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-bottom:24px}.user-stat-item{background-color:var(--card-bg-color);padding:12px;border-radius:8px;text-align:center;border:1px solid var(--border-color)}.user-stat-item .stat-label{font-size:0.9em;color:var(--subtext-color);margin-bottom:6px}.user-stat-item .stat-value{font-size:1.5em;font-weight:bold;color:var(--text-color)}.skills-section .section-title{font-size:1.1em;font-weight:bold;color:var(--text-color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border-color)}.skill-list{list-style:none;padding:0;margin:0}.skill-item{background-color:var(--card-bg-color);padding:12px;border-radius:8px;margin-bottom:10px;border-left:3px solid var(--purple)}.skill-item-header{display:flex;justify-content:space-between;font-weight:bold}.skill-item .skill-name{color:var(--text-color)}.skill-item .skill-cost{color:var(--purple)}.skill-item .skill-description{font-size:0.9em;color:var(--subtext-color);margin-top:6px}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-color:var(--border-color);border-radius:4px}::-webkit-scrollbar-thumb{background-color:var(--grey-blue);border-radius:4px}::-webkit-scrollbar-thumb:hover{background-color:var(--blue)}@media (max-width:600px){.status-panel-container{width:100%;margin:0;border-radius:0}.menu-buttons{flex-wrap:wrap;gap:12px}.menu-btn{flex:1;min-width:80px}.user-stats-grid{grid-template-columns:repeat(2,1fr)}}.loading{display:flex;justify-content:center;align-items:center;padding:20px;color:var(--subtext-color)}.loading::after{content:'';width:20px;height:20px;border:2px solid var(--border-color);border-top:2px solid var(--blue);border-radius:50%;animation:spin 1s linear infinite;margin-left:10px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.error-message{color:var(--red);padding:12px;background-color:rgba(243,139,168,0.1);border:1px solid var(--red);border-radius:8px;margin:16px 0}.success-message{color:var(--green);padding:12px;background-color:rgba(166,227,161,0.1);border:1px solid var(--green);border-radius:8px;margin:16px 0}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>